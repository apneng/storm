Object.getPrototypeOfByYS=function(e){return e.__proto__};!function(){for(var e,n=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],o=t.length,r=window.console=window.console||{};o--;){e=t[o];r[e]||(r[e]=n)}CacheStoarge=function e(){var n=[];return{_tt:function(e,t,o){o?n.push(o):n[e].push(t)},_ff:function(e){return n[e]}}};DOMImplementaiton=CacheStoarge()}();
"use strict";!function t(e,i){"object"===typeof exports&&"object"===typeof module?module.exports=i():"function"===typeof define&&define.amd?define([],i):"object"===typeof exports?exports["vis"]=i():e["vis"]=i()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};t[o].call(n.exports,n,n.exports,e);n.loaded=!0;return n.exports}var i={};e.m=t;e.c=i;e.p="";return e(0)}([function(t,e,i){var o=i(1);o.extend(e,i(7));o.extend(e,i(24));o.extend(e,i(60))},function(t,e,i){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=i(2),s=i(6);e.isNumber=function(t){return t instanceof Number||"number"==typeof t};e.recursiveDOMDelete=function(t){if(t)for(;t.hasChildNodes()===!0;){e.recursiveDOMDelete(t.firstChild);t.removeChild(t.firstChild)}};e.giveRange=function(t,e,i,o){if(e==t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)};e.isString=function(t){return t instanceof String||"string"==typeof t};e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i=r.exec(t);if(i)return!0;if(!isNaN(Date.parse(t)))return!0}return!1};e.randomUUID=function(){return s.v4()};e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==o(t[i])&&(t[i]=e)};e.fillIfDefined=function(t,i){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];for(var s in t)void 0!==i[s]&&("object"!==o(i[s])?void 0!==i[s]&&null!==i[s]||void 0===t[s]||n!==!0?t[s]=i[s]:delete t[s]:"object"===o(t[s])&&e.fillIfDefined(t[s],i[s],n))};e.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)t[n]=o[n]}return t};e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t};e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],s=0;s<t.length;s++){var r=t[s];n.hasOwnProperty(r)&&(e[r]=n[r])}return e};e.selectiveDeepExtend=function(t,i,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s=2;s<arguments.length;s++)for(var r=arguments[s],a=0;a<t.length;a++){var h=t[a];if(r.hasOwnProperty(h))if(o[h]&&o[h].constructor===Object){void 0===i[h]&&(i[h]={});i[h].constructor===Object?e.deepExtend(i[h],o[h],!1,n):null===o[h]&&void 0!==i[h]&&n===!0?delete i[h]:i[h]=o[h]}else{if(Array.isArray(o[h]))throw new TypeError("Arrays are not supported by deepExtend");null===o[h]&&void 0!==i[h]&&n===!0?delete i[h]:i[h]=o[h]}}return i};e.selectiveNotDeepExtend=function(t,i,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s in o)if(o.hasOwnProperty(s)&&t.indexOf(s)==-1)if(o[s]&&o[s].constructor===Object){void 0===i[s]&&(i[s]={});i[s].constructor===Object?e.deepExtend(i[s],o[s]):null===o[s]&&void 0!==i[s]&&n===!0?delete i[s]:i[s]=o[s]}else if(Array.isArray(o[s])){i[s]=[];for(var r=0;r<o[s].length;r++)i[s].push(o[s][r])}else null===o[s]&&void 0!==i[s]&&n===!0?delete i[s]:i[s]=o[s];return i};e.deepExtend=function(t,i,o,n){for(var s in i)if(i.hasOwnProperty(s)||o===!0)if(i[s]&&i[s].constructor===Object){void 0===t[s]&&(t[s]={});t[s].constructor===Object?e.deepExtend(t[s],i[s],o):null===i[s]&&void 0!==t[s]&&n===!0?delete t[s]:t[s]=i[s]}else if(Array.isArray(i[s])){t[s]=[];for(var r=0;r<i[s].length;r++)t[s].push(i[s][r])}else null===i[s]&&void 0!==t[s]&&n===!0?delete t[s]:t[s]=i[s];return t};e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!=e[i])return!1;return!0};e.convert=function(t,i){var o;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!==typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(n.isMoment(t))return new Date(t.valueOf());if(e.isString(t)){o=r.exec(t);return o?new Date(Number(o[1])):n(t).toDate()}throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return n(t);if(t instanceof Date)return n(t.valueOf());if(n.isMoment(t))return n(t);if(e.isString(t)){o=r.exec(t);return n(o?Number(o[1]):t)}throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(n.isMoment(t))return t.toDate().toISOString();if(e.isString(t)){o=r.exec(t);return o?new Date(Number(o[1])).toISOString():new Date(t).toISOString()}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){o=r.exec(t);var s;s=o?new Date(Number(o[1])).valueOf():new Date(t).valueOf();return"/Date("+s+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var r=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e="undefined"===typeof t?"undefined":o(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e};e.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);i.push(e);return i};e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e};e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left};e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right};e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top};e.addClassName=function(t,e){var i=t.className.split(" ");if(i.indexOf(e)==-1){i.push(e);t.className=i.join(" ")}};e.removeClassName=function(t,e){var i=t.className.split(" "),o=i.indexOf(e);if(o!=-1){i.splice(o,1);t.className=i.join(" ")}};e.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)};e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e};e.updateProperty=function(t,e,i){if(t[e]!==i){t[e]=i;return!0}return!1};e.throttle=function(t,e){var i=null,o=!1;return function n(){if(i)o=!0;else{o=!1;t();i=setTimeout(function(){i=null;o&&n()},e)}}};e.addEventListener=function(t,e,i,o){if(t.addEventListener){void 0===o&&(o=!1);"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll");t.addEventListener(e,i,o)}else t.attachEvent("on"+e,i)};e.removeEventListener=function(t,e,i,o){if(t.removeEventListener){void 0===o&&(o=!1);"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll");t.removeEventListener(e,i,o)}else t.detachEvent("on"+e,i)};e.preventDefault=function(t){t||(t=window.event);t.preventDefault?t.preventDefault():t.returnValue=!1};e.getTarget=function(t){t||(t=window.event);var e;t.target?e=t.target:t.srcElement&&(e=t.srcElement);void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode);return e};e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1};e.option={};e.option.asBoolean=function(t,e){"function"==typeof t&&(t=t());return null!=t?0!=t:e||null};e.option.asNumber=function(t,e){"function"==typeof t&&(t=t());return null!=t?Number(t)||e||null:e||null};e.option.asString=function(t,e){"function"==typeof t&&(t=t());return null!=t?String(t):e||null};e.option.asSize=function(t,i){"function"==typeof t&&(t=t());return e.isString(t)?t:e.isNumber(t)?t+"px":i||null};e.option.asElement=function(t,e){"function"==typeof t&&(t=t());return t||e||null};e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,o){return e+e+i+i+o+o});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null};e.overrideOpacity=function(t,i){if(t.indexOf("rgba")!=-1)return t;if(t.indexOf("rgb")!=-1){var o=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+o[0]+","+o[1]+","+o[2]+","+i+")"}var o=e.hexToRGB(t);return null==o?t:"rgba("+o.r+","+o.g+","+o.b+","+i+")"};e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)};e.parseColor=function(t){var i;if(e.isString(t)===!0){if(e.isValidRGB(t)===!0){var o=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(o[0],o[1],o[2])}if(e.isValidHex(t)===!0){var n=e.hexToHSV(t),s={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},r={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},a=e.HSVToHex(r.h,r.s,r.v),h=e.HSVToHex(s.h,s.s,s.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else{i={};i.background=t.background||void 0;i.border=t.border||void 0;if(e.isString(t.highlight))i.highlight={border:t.highlight,background:t.highlight};else{i.highlight={};i.highlight.background=t.highlight&&t.highlight.background||void 0;i.highlight.border=t.highlight&&t.highlight.border||void 0}if(e.isString(t.hover))i.hover={border:t.hover,background:t.hover};else{i.hover={};i.hover.background=t.hover&&t.hover.background||void 0;i.hover.border=t.hover&&t.hover.border||void 0}}return i};e.RGBToHSV=function(t,e,i){t/=255;e/=255;i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));if(o==n)return{h:0,s:0,v:o};var s=t==o?e-i:i==o?t-e:i-t,r=t==o?3:i==o?1:5,a=60*(r-s/(n-o))/360,h=(n-o)/n,d=n;return{h:a,s:h,v:d}};var a={split:function t(e){var i={};e.split(";").forEach(function(t){if(""!=t.trim()){var e=t.split(":"),o=e[0].trim(),n=e[1].trim();i[o]=n}});return i},join:function t(e){return Object.keys(e).map(function(t){return t+": "+e[t]}).join("; ")}};e.addCssText=function(t,i){var o=a.split(t.style.cssText),n=a.split(i),s=e.extend(o,n);t.style.cssText=a.join(s)};e.removeCssText=function(t,e){var i=a.split(t.style.cssText),o=a.split(e);for(var n in o)o.hasOwnProperty(n)&&delete i[n];t.style.cssText=a.join(i)};e.HSVToRGB=function(t,e,i){var o,n,s,r=Math.floor(6*t),a=6*t-r,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(r%6){case 0:o=i,n=l,s=h;break;case 1:o=d,n=i,s=h;break;case 2:o=h,n=i,s=l;break;case 3:o=h,n=d,s=i;break;case 4:o=l,n=h,s=i;break;case 5:o=i,n=h,s=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*s)}};e.HSVToHex=function(t,i,o){var n=e.HSVToRGB(t,i,o);return e.RGBToHex(n.r,n.g,n.b)};e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)};e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e};e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e};e.isValidRGBA=function(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);return e};e.selectiveBridgeObject=function(t,i){if("object"==("undefined"===typeof i?"undefined":o(i))){for(var n=Object.create(i),s=0;s<t.length;s++)i.hasOwnProperty(t[s])&&"object"==o(i[t[s]])&&(n[t[s]]=e.bridgeObject(i[t[s]]));return n}return null};e.bridgeObject=function(t){if("object"==("undefined"===typeof t?"undefined":o(t))){var i=Object.create(t);for(var n in t)t.hasOwnProperty(n)&&"object"==o(t[n])&&(i[n]=e.bridgeObject(t[n]));return i}return null};e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;n>0&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t};e.mergeOptions=function(t,e,i){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],n=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];if(null===e[i])t[i]=Object.create(n[i]);else if(void 0!==e[i])if("boolean"===typeof e[i])t[i].enabled=e[i];else{void 0===e[i].enabled&&(t[i].enabled=!0);for(var s in e[i])e[i].hasOwnProperty(s)&&(t[i][s]=e[i][s])}};e.binarySearchCustom=function(t,e,i,o){for(var n=1e4,s=0,r=0,a=t.length-1;r<=a&&s<n;){var h=Math.floor((r+a)/2),d=t[h],l=void 0===o?d[i]:d[i][o],u=e(l);if(0==u)return h;u==-1?r=h+1:a=h-1;s++}return-1};e.binarySearchValue=function(t,e,i,o,n){for(var s=1e4,r=0,a=0,h=t.length-1,d,l,u,c,n=void 0!=n?n:function(t,e){return t==e?0:t<e?-1:1};a<=h&&r<s;){c=Math.floor(.5*(h+a));d=t[Math.max(0,c-1)][i];l=t[c][i];u=t[Math.min(t.length-1,c+1)][i];if(0==n(l,e))return c;if(n(d,e)<0&&n(l,e)>0)return"before"==o?Math.max(0,c-1):c;if(n(l,e)<0&&n(u,e)>0)return"before"==o?c:Math.min(t.length-1,c+1);n(l,e)<0?a=c+1:h=c-1;r++}return-1};e.easingFunctions={linear:function t(e){return e},easeInQuad:function t(e){return e*e},easeOutQuad:function t(e){return e*(2-e)},easeInOutQuad:function t(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function t(e){return e*e*e},easeOutCubic:function t(e){return--e*e*e+1},easeInOutCubic:function t(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function t(e){return e*e*e*e},easeOutQuart:function t(e){return 1- --e*e*e*e},easeInOutQuart:function t(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function t(e){return e*e*e*e*e},easeOutQuint:function t(e){return 1+--e*e*e*e*e},easeInOutQuint:function t(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},function(t,e,i){t.exports="undefined"!==typeof window&&window["moment"]||i(3)},function(t,e,i){(function(t){!function(e,i){0?"function"===typeof define&&define.amd?define(i):e.moment=i():t.exports=i()}(this,function(){function e(){return ro.apply(null,arguments)}function i(t){ro=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i=[],o;for(o=0;o<t.length;++o)i.push(e(t[o],o));return i}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);r(e,"toString")&&(t.toString=e.toString);r(e,"valueOf")&&(t.valueOf=e.valueOf);return t}function h(t,e,i,o){return Lt(t,e,i,o,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(t){null==t._pf&&(t._pf=d());return t._pf}function u(t){if(null==t._isValid){var e=l(t),i=ao.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=h(NaN);null!=t?a(l(e),t):l(e).userInvalidated=!0;return e}function p(t){return t===void 0}function f(t,e){var i,o,n;p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject);p(e._i)||(t._i=e._i);p(e._f)||(t._f=e._f);p(e._l)||(t._l=e._l);p(e._strict)||(t._strict=e._strict);p(e._tzm)||(t._tzm=e._tzm);p(e._isUTC)||(t._isUTC=e._isUTC);p(e._offset)||(t._offset=e._offset);p(e._pf)||(t._pf=l(e));p(e._locale)||(t._locale=e._locale);if(ho.length>0)for(i in ho){o=ho[i];n=e[o];p(n)||(t[o]=n)}return t}function m(t){f(this,t);this._d=new Date(null!=t._d?t._d.getTime():NaN);if(lo===!1){lo=!0;e.updateOffset(this);lo=!1}}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function g(t){return t<0?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,i=0;0!==e&&isFinite(e)&&(i=g(e));return i}function b(t,e,i){var o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),s=0,r;for(r=0;r<o;r++)(i&&t[r]!==e[r]||!i&&y(t[r])!==y(e[r]))&&s++;return s+n}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,i){var o=!0;return a(function(){null!=e.deprecationHandler&&e.deprecationHandler(null,t);if(o){w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack);o=!1}return i.apply(this,arguments)},i)}function x(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i);if(!uo[t]){w(i);uo[t]=!0}}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t){return"[object Object]"===Object.prototype.toString.call(t)}function M(t){var e,i;for(i in t){e=t[i];k(e)?this[i]=e:this["_"+i]=e}this._config=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(t,e){var i=a({},t),o;for(o in e)if(r(e,o))if(O(t[o])&&O(e[o])){i[o]={};a(i[o],t[o]);a(i[o],e[o])}else null!=e[o]?i[o]=e[o]:delete i[o];return i}function D(t){null!=t&&this.set(t)}function C(t){return t?t.toLowerCase().replace("_","-"):t}function T(t){for(var e=0,i,o,n,s;e<t.length;){s=C(t[e]).split("-");i=s.length;o=C(t[e+1]);o=o?o.split("-"):null;for(;i>0;){n=E(s.slice(0,i).join("-"));if(n)return n;if(o&&o.length>=i&&b(s,o,!0)>=i-1)break;i--}e++}return null}function E(e){var i=null;if(!po[e]&&"undefined"!==typeof t&&t&&t.exports)try{i=fo._abbr;!function t(){var e=new Error('Cannot find module "./locale"');e.code="MODULE_NOT_FOUND";throw e}();P(i)}catch(t){}return po[e]}function P(t,e){var i;if(t){i=p(e)?z(t):I(t,e);i&&(fo=i)}return fo._abbr}function I(t,e){if(null!==e){e.abbr=t;if(null!=po[t]){x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale");e=S(po[t]._config,e)}else null!=e.parentLocale&&(null!=po[e.parentLocale]?e=S(po[e.parentLocale]._config,e):x("parentLocaleUndefined","specified parentLocale is not defined yet"));po[t]=new D(e);P(t);return po[t]}delete po[t];return null}function N(t,e){if(null!=e){var i;null!=po[t]&&(e=S(po[t]._config,e));i=new D(e);i.parentLocale=po[t];po[t]=i;P(t)}else null!=po[t]&&(null!=po[t].parentLocale?po[t]=po[t].parentLocale:null!=po[t]&&delete po[t]);return po[t]}function z(t){var e;t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr);if(!t)return fo;if(!o(t)){e=E(t);if(e)return e;t=[t]}return T(t)}function R(){return co(po)}function L(t,e){var i=t.toLowerCase();mo[i]=mo[i+"s"]=mo[e]=t}function A(t){return"string"===typeof t?mo[t]||mo[t.toLowerCase()]:void 0}function B(t){var e={},i,o;for(o in t)if(r(t,o)){i=A(o);i&&(e[i]=t[o])}return e}function F(t,i){return function(o){if(null!=o){H(this,t,o);e.updateOffset(this,i);return this}return j(this,t)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function H(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function W(t,e){var i;if("object"===typeof t)for(i in t)this.set(i,t[i]);else{t=A(t);if(k(this[t]))return this[t](e)}return this}function Y(t,e,i){var o=""+Math.abs(t),n=e-o.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+o}function G(t,e,i,o){var n=o;"string"===typeof o&&(n=function(){return this[o]()});t&&(bo[t]=n);e&&(bo[e[0]]=function(){return Y(n.apply(this,arguments),e[1],e[2])});i&&(bo[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e=t.match(vo),i,o;for(i=0,o=e.length;i<o;i++)bo[e[i]]?e[i]=bo[e[i]]:e[i]=V(e[i]);return function(i){var n="",s;for(s=0;s<o;s++)n+=e[s]instanceof Function?e[s].call(i,t):e[s];return n}}function q(t,e){if(!t.isValid())return t.localeData().invalidDate();e=X(e,t.localeData());yo[e]=yo[e]||U(e);return yo[e](t)}function X(t,e){function i(t){return e.longDateFormat(t)||t}var o=5;go.lastIndex=0;for(;o>=0&&go.test(t);){t=t.replace(go,i);go.lastIndex=0;o-=1}return t}function Z(t,e,i){Ao[t]=k(e)?e:function(t,o){return t&&i?i:e}}function K(t,e){return r(Ao,t)?Ao[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(t,e){var i,o=e;"string"===typeof t&&(t=[t]);"number"===typeof e&&(o=function(t,i){i[e]=y(t)});for(i=0;i<t.length;i++)Bo[t[i]]=o}function tt(t,e){$(t,function(t,i,o,n){o._w=o._w||{};e(t,o._w,o,n)})}function et(t,e,i){null!=e&&r(Bo,t)&&Bo[t](e,i._a,i,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function ot(t,e){return o(this._months)?this._months[t.month()]:this._months[Zo.test(e)?"format":"standalone"][t.month()]}function nt(t,e){return o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Zo.test(e)?"format":"standalone"][t.month()]}function st(t,e,i){var o,n,s,r=t.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(o=0;o<12;++o){s=h([2e3,o]);this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase();this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase()}}if(i){if("MMM"===e){n=Xo.call(this._shortMonthsParse,r);return n!==-1?n:null}n=Xo.call(this._longMonthsParse,r);return n!==-1?n:null}if("MMM"===e){n=Xo.call(this._shortMonthsParse,r);if(n!==-1)return n;n=Xo.call(this._longMonthsParse,r);return n!==-1?n:null}n=Xo.call(this._longMonthsParse,r);if(n!==-1)return n;n=Xo.call(this._shortMonthsParse,r);return n!==-1?n:null}function rt(t,e,i){var o,n,s;if(this._monthsParseExact)return st.call(this,t,e,i);if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(o=0;o<12;o++){n=h([2e3,o]);if(i&&!this._longMonthsParse[o]){this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i");this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[o]){s="^"+this.months(n,"")+"|^"+this.monthsShort(n,"");this._monthsParse[o]=new RegExp(s.replace(".",""),"i")}if(i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}}function at(t,e){var i;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=y(e);else{e=t.localeData().monthsParse(e);if("number"!==typeof e)return t}i=Math.min(t.date(),it(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i);return t}function ht(t){if(null!=t){at(this,t);e.updateOffset(this,!0);return this}return j(this,"Month")}function dt(){return it(this.year(),this.month())}function lt(t){if(this._monthsParseExact){r(this,"_monthsRegex")||ct.call(this);return t?this._monthsShortStrictRegex:this._monthsShortRegex}return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ut(t){if(this._monthsParseExact){r(this,"_monthsRegex")||ct.call(this);return t?this._monthsStrictRegex:this._monthsRegex}return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ct(){function t(t,e){return e.length-t.length}var e=[],i=[],o=[],n,s;for(n=0;n<12;n++){s=h([2e3,n]);e.push(this.monthsShort(s,""));i.push(this.months(s,""));o.push(this.months(s,""));o.push(this.monthsShort(s,""))}e.sort(t);i.sort(t);o.sort(t);for(n=0;n<12;n++){e[n]=Q(e[n]);i[n]=Q(i[n]);o[n]=Q(o[n])}this._monthsRegex=new RegExp("^("+o.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function pt(t){var e,i=t._a;if(i&&l(t).overflow===-2){e=i[jo]<0||i[jo]>11?jo:i[Ho]<1||i[Ho]>it(i[Fo],i[jo])?Ho:i[Wo]<0||i[Wo]>24||24===i[Wo]&&(0!==i[Yo]||0!==i[Go]||0!==i[Vo])?Wo:i[Yo]<0||i[Yo]>59?Yo:i[Go]<0||i[Go]>59?Go:i[Vo]<0||i[Vo]>999?Vo:-1;l(t)._overflowDayOfYear&&(e<Fo||e>Ho)&&(e=Ho);l(t)._overflowWeeks&&e===-1&&(e=Uo);l(t)._overflowWeekday&&e===-1&&(e=qo);l(t).overflow=e}return t}function ft(t){var e,i,o=t._i,n=tn.exec(o)||en.exec(o),s,r,a,h;if(n){l(t).iso=!0;for(e=0,i=nn.length;e<i;e++)if(nn[e][1].exec(n[1])){r=nn[e][0];s=nn[e][2]!==!1;break}if(null==r){t._isValid=!1;return}if(n[3]){for(e=0,i=sn.length;e<i;e++)if(sn[e][1].exec(n[3])){a=(n[2]||" ")+sn[e][0];break}if(null==a){t._isValid=!1;return}}if(!s&&null!=a){t._isValid=!1;return}if(n[4]){if(!on.exec(n[4])){t._isValid=!1;return}h="Z"}t._f=r+(a||"")+(h||"");Tt(t)}else t._isValid=!1}function mt(t){var i=rn.exec(t._i);if(null===i){ft(t);if(t._isValid===!1){delete t._isValid;e.createFromInputFallback(t)}}else t._d=new Date(+i[1])}function vt(t,e,i,o,n,s,r){var a=new Date(t,e,i,o,n,s,r);t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t);return a}function gt(t){var e=new Date(Date.UTC.apply(null,arguments));t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t);return e}function yt(t){return bt(t)?366:365}function bt(t){return t%4===0&&t%100!==0||t%400===0}function wt(){return bt(this.year())}function _t(t,e,i){var o=7+e-i,n=(7+gt(t,0,o).getUTCDay()-e)%7;return-n+o-1}function xt(t,e,i,o,n){var s=(7+i-o)%7,r=_t(t,o,n),a=1+7*(e-1)+s+r,h,d;if(a<=0){h=t-1;d=yt(h)+a}else if(a>yt(t)){h=t+1;d=a-yt(t)}else{h=t;d=a}return{year:h,dayOfYear:d}}function kt(t,e,i){var o=_t(t.year(),e,i),n=Math.floor((t.dayOfYear()-o-1)/7)+1,s,r;if(n<1){r=t.year()-1;s=n+Ot(r,e,i)}else if(n>Ot(t.year(),e,i)){s=n-Ot(t.year(),e,i);r=t.year()+1}else{r=t.year();s=n}return{week:s,year:r}}function Ot(t,e,i){var o=_t(t,e,i),n=_t(t+1,e,i);return(yt(t)-o+n)/7}function Mt(t,e,i){return null!=t?t:null!=e?e:i}function St(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function Dt(t){var e,i,o=[],n,s;if(!t._d){n=St(t);t._w&&null==t._a[Ho]&&null==t._a[jo]&&Ct(t);if(t._dayOfYear){s=Mt(t._a[Fo],n[Fo]);t._dayOfYear>yt(s)&&(l(t)._overflowDayOfYear=!0);i=gt(s,0,t._dayOfYear);t._a[jo]=i.getUTCMonth();t._a[Ho]=i.getUTCDate()}for(e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];if(24===t._a[Wo]&&0===t._a[Yo]&&0===t._a[Go]&&0===t._a[Vo]){t._nextDay=!0;t._a[Wo]=0}t._d=(t._useUTC?gt:vt).apply(null,o);null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm);t._nextDay&&(t._a[Wo]=24)}}function Ct(t){var e,i,o,n,s,r,a,h;e=t._w;if(null!=e.GG||null!=e.W||null!=e.E){s=1;r=4;i=Mt(e.GG,t._a[Fo],kt(At(),1,4).year);o=Mt(e.W,1);n=Mt(e.E,1);(n<1||n>7)&&(h=!0)}else{s=t._locale._week.dow;r=t._locale._week.doy;i=Mt(e.gg,t._a[Fo],kt(At(),s,r).year);o=Mt(e.w,1);if(null!=e.d){n=e.d;(n<0||n>6)&&(h=!0)}else if(null!=e.e){n=e.e+s;(e.e<0||e.e>6)&&(h=!0)}else n=s}if(o<1||o>Ot(i,s,r))l(t)._overflowWeeks=!0;else if(null!=h)l(t)._overflowWeekday=!0;else{a=xt(i,o,n,s,r);t._a[Fo]=a.year;t._dayOfYear=a.dayOfYear}}function Tt(t){if(t._f!==e.ISO_8601){t._a=[];l(t).empty=!0;var i=""+t._i,o,n,s,r,a,h=i.length,d=0;s=X(t._f,t._locale).match(vo)||[];for(o=0;o<s.length;o++){r=s[o];n=(i.match(K(r,t))||[])[0];if(n){a=i.substr(0,i.indexOf(n));a.length>0&&l(t).unusedInput.push(a);i=i.slice(i.indexOf(n)+n.length);d+=n.length}if(bo[r]){n?l(t).empty=!1:l(t).unusedTokens.push(r);et(r,n,t)}else t._strict&&!n&&l(t).unusedTokens.push(r)}l(t).charsLeftOver=h-d;i.length>0&&l(t).unusedInput.push(i);l(t).bigHour===!0&&t._a[Wo]<=12&&t._a[Wo]>0&&(l(t).bigHour=void 0);l(t).parsedDateParts=t._a.slice(0);l(t).meridiem=t._meridiem;t._a[Wo]=Et(t._locale,t._a[Wo],t._meridiem);Dt(t);pt(t)}else ft(t)}function Et(t,e,i){var o;if(null==i)return e;if(null!=t.meridiemHour)return t.meridiemHour(e,i);if(null!=t.isPM){o=t.isPM(i);o&&e<12&&(e+=12);o||12!==e||(e=0);return e}return e}function Pt(t){var e,i,o,n,s;if(0!==t._f.length){for(n=0;n<t._f.length;n++){s=0;e=f({},t);null!=t._useUTC&&(e._useUTC=t._useUTC);e._f=t._f[n];Tt(e);if(u(e)){s+=l(e).charsLeftOver;s+=10*l(e).unusedTokens.length;l(e).score=s;if(null==o||s<o){o=s;i=e}}}a(t,i||e)}else{l(t).invalidFormat=!0;t._d=new Date(NaN)}}function It(t){if(!t._d){var e=B(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)});Dt(t)}}function Nt(t){var e=new m(pt(zt(t)));if(e._nextDay){e.add(1,"d");e._nextDay=void 0}return e}function zt(t){var e=t._i,i=t._f;t._locale=t._locale||z(t._l);if(null===e||void 0===i&&""===e)return c({nullInput:!0});"string"===typeof e&&(t._i=e=t._locale.preparse(e));if(v(e))return new m(pt(e));o(i)?Pt(t):i?Tt(t):n(e)?t._d=e:Rt(t);u(t)||(t._d=null);return t}function Rt(t){var i=t._i;if(void 0===i)t._d=new Date(e.now());else if(n(i))t._d=new Date(i.valueOf());else if("string"===typeof i)mt(t);else if(o(i)){t._a=s(i.slice(0),function(t){return parseInt(t,10)});Dt(t)}else"object"===typeof i?It(t):"number"===typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function Lt(t,e,i,o,n){var s={};if("boolean"===typeof i){o=i;i=void 0}s._isAMomentObject=!0;s._useUTC=s._isUTC=n;s._l=i;s._i=t;s._f=e;s._strict=o;return Nt(s)}function At(t,e,i,o){return Lt(t,e,i,o,!1)}function Bt(t,e){var i,n;1===e.length&&o(e[0])&&(e=e[0]);if(!e.length)return At();i=e[0];for(n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Ft(){var t=[].slice.call(arguments,0);return Bt("isBefore",t)}function jt(){var t=[].slice.call(arguments,0);return Bt("isAfter",t)}function Ht(t){var e=B(t),i=e.year||0,o=e.quarter||0,n=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*h+1e3*a*60*60;this._days=+r+7*s;this._months=+n+3*o+12*i;this._data={};this._locale=z();this._bubble()}function Wt(t){return t instanceof Ht}function Yt(t,e){G(t,0,0,function(){var t=this.utcOffset(),i="+";if(t<0){t=-t;i="-"}return i+Y(~~(t/60),2)+e+Y(~~t%60,2)})}function Gt(t,e){var i=(e||"").match(t)||[],o=i[i.length-1]||[],n=(o+"").match(un)||["-",0,0],s=+(60*n[1])+y(n[2]);return"+"===n[0]?s:-s}function Vt(t,i){var o,s;if(i._isUTC){o=i.clone();s=(v(t)||n(t)?t.valueOf():At(t).valueOf())-o.valueOf();o._d.setTime(o._d.valueOf()+s);e.updateOffset(o,!1);return o}return At(t).local()}function Ut(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qt(t,i){var o=this._offset||0,n;if(!this.isValid())return null!=t?this:NaN;if(null!=t){"string"===typeof t?t=Gt(zo,t):Math.abs(t)<16&&(t=60*t);!this._isUTC&&i&&(n=Ut(this));this._offset=t;this._isUTC=!0;null!=n&&this.add(n,"m");if(o!==t)if(!i||this._changeInProgress)le(this,ne(t-o,"m"),1,!1);else if(!this._changeInProgress){this._changeInProgress=!0;e.updateOffset(this,!0);this._changeInProgress=null}return this}return this._isUTC?o:Ut(this)}function Xt(t,e){if(null!=t){"string"!==typeof t&&(t=-t);this.utcOffset(t,e);return this}return-this.utcOffset()}function Zt(t){return this.utcOffset(0,t)}function Kt(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=!1;t&&this.subtract(Ut(this),"m")}return this}function Jt(){this._tzm?this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(Gt(No,this._i));return this}function Qt(t){if(!this.isValid())return!1;t=t?At(t).utcOffset():0;return(this.utcOffset()-t)%60===0}function $t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function te(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};f(t,this);t=zt(t);if(t._a){var e=t._isUTC?h(t._a):At(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ee(){return!!this.isValid()&&!this._isUTC}function ie(){return!!this.isValid()&&this._isUTC}function oe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function ne(t,e){var i=t,o=null,n,s,a;if(Wt(t))i={ms:t._milliseconds,d:t._days,M:t._months};else if("number"===typeof t){i={};e?i[e]=t:i.milliseconds=t}else if(o=cn.exec(t)){n="-"===o[1]?-1:1;i={y:0,d:y(o[Ho])*n,h:y(o[Wo])*n,m:y(o[Yo])*n,s:y(o[Go])*n,ms:y(o[Vo])*n}}else if(o=pn.exec(t)){
n="-"===o[1]?-1:1;i={y:se(o[2],n),M:se(o[3],n),w:se(o[4],n),d:se(o[5],n),h:se(o[6],n),m:se(o[7],n),s:se(o[8],n)}}else if(null==i)i={};else if("object"===typeof i&&("from"in i||"to"in i)){a=ae(At(i.from),At(i.to));i={};i.ms=a.milliseconds;i.M=a.months}s=new Ht(i);Wt(t)&&r(t,"_locale")&&(s._locale=t._locale);return s}function se(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function re(t,e){var i={milliseconds:0,months:0};i.months=e.month()-t.month()+12*(e.year()-t.year());t.clone().add(i.months,"M").isAfter(e)&&--i.months;i.milliseconds=+e-+t.clone().add(i.months,"M");return i}function ae(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=Vt(e,t);if(t.isBefore(e))i=re(t,e);else{i=re(e,t);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function he(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function de(t,e){return function(i,o){var n,s;if(null!==o&&!isNaN(+o)){x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period).");s=i;i=o;o=s}i="string"===typeof i?+i:i;n=ne(i,o);le(this,n,t);return this}}function le(t,i,o,n){var s=i._milliseconds,r=he(i._days),a=he(i._months);if(t.isValid()){n=null==n||n;s&&t._d.setTime(t._d.valueOf()+s*o);r&&H(t,"Date",j(t,"Date")+r*o);a&&at(t,j(t,"Month")+a*o);n&&e.updateOffset(t,r||a)}}function ue(t,e){var i=t||At(),o=Vt(i,this).startOf("day"),n=this.diff(o,"days",!0),s=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse",r=e&&(k(e[s])?e[s]():e[s]);return this.format(r||this.localeData().calendar(s,this,At(i)))}function ce(){return new m(this)}function pe(t,e){var i=v(t)?t:At(t);if(!this.isValid()||!i.isValid())return!1;e=A(p(e)?"millisecond":e);return"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()}function fe(t,e){var i=v(t)?t:At(t);if(!this.isValid()||!i.isValid())return!1;e=A(p(e)?"millisecond":e);return"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()}function me(t,e,i,o){o=o||"()";return("("===o[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))}function ve(t,e){var i=v(t)?t:At(t),o;if(!this.isValid()||!i.isValid())return!1;e=A(e||"millisecond");if("millisecond"===e)return this.valueOf()===i.valueOf();o=i.valueOf();return this.clone().startOf(e).valueOf()<=o&&o<=this.clone().endOf(e).valueOf()}function ge(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ye(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function be(t,e,i){var o,n,s,r;if(!this.isValid())return NaN;o=Vt(t,this);if(!o.isValid())return NaN;n=6e4*(o.utcOffset()-this.utcOffset());e=A(e);if("year"===e||"month"===e||"quarter"===e){r=we(this,o);"quarter"===e?r/=3:"year"===e&&(r/=12)}else{s=this-o;r="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-n)/864e5:"week"===e?(s-n)/6048e5:s}return i?r:g(r)}function we(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months"),n,s;if(e-o<0){n=t.clone().add(i-1,"months");s=(e-o)/(o-n)}else{n=t.clone().add(i+1,"months");s=(e-o)/(n-o)}return-(i+s)||0}function _e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ke(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=q(this,t);return this.localeData().postformat(i)}function Oe(t,e){return this.isValid()&&(v(t)&&t.isValid()||At(t).isValid())?ne({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Me(t){return this.from(At(),t)}function Se(t,e){return this.isValid()&&(v(t)&&t.isValid()||At(t).isValid())?ne({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function De(t){return this.to(At(),t)}function Ce(t){var e;if(void 0===t)return this._locale._abbr;e=z(t);null!=e&&(this._locale=e);return this}function Te(){return this._locale}function Ee(t){t=A(t);switch(t){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}"week"===t&&this.weekday(0);"isoWeek"===t&&this.isoWeekday(1);"quarter"===t&&this.month(3*Math.floor(this.month()/3));return this}function Pe(t){t=A(t);if(void 0===t||"millisecond"===t)return this;"date"===t&&(t="day");return this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ie(){return this._d.valueOf()-6e4*(this._offset||0)}function Ne(){return Math.floor(this.valueOf()/1e3)}function ze(){return this._offset?new Date(this.valueOf()):this._d}function Re(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Le(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ae(){return this.isValid()?this.toISOString():null}function Be(){return u(this)}function Fe(){return a({},l(this))}function je(){return l(this).overflow}function He(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function We(t,e){G(0,[t,t.length],0,e)}function Ye(t){return qe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ge(t){return qe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ve(){return Ot(this.year(),1,4)}function Ue(){var t=this.localeData()._week;return Ot(this.year(),t.dow,t.doy)}function qe(t,e,i,o,n){var s;if(null==t)return kt(this,o,n).year;s=Ot(t,o,n);e>s&&(e=s);return Xe.call(this,t,e,i,o,n)}function Xe(t,e,i,o,n){var s=xt(t,e,i,o,n),r=gt(s.year,0,s.dayOfYear);this.year(r.getUTCFullYear());this.month(r.getUTCMonth());this.date(r.getUTCDate());return this}function Ze(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ke(t){return kt(t,this._week.dow,this._week.doy).week}function Je(){return this._week.dow}function Qe(){return this._week.doy}function $e(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ti(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ei(t,e){if("string"!==typeof t)return t;if(!isNaN(t))return parseInt(t,10);t=e.weekdaysParse(t);return"number"===typeof t?t:null}function ii(t,e){return o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function oi(t){return this._weekdaysShort[t.day()]}function ni(t){return this._weekdaysMin[t.day()]}function si(t,e,i){var o,n,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(o=0;o<7;++o){s=h([2e3,1]).day(o);this._minWeekdaysParse[o]=this.weekdaysMin(s,"").toLocaleLowerCase();this._shortWeekdaysParse[o]=this.weekdaysShort(s,"").toLocaleLowerCase();this._weekdaysParse[o]=this.weekdays(s,"").toLocaleLowerCase()}}if(i){if("dddd"===e){n=Xo.call(this._weekdaysParse,r);return n!==-1?n:null}if("ddd"===e){n=Xo.call(this._shortWeekdaysParse,r);return n!==-1?n:null}n=Xo.call(this._minWeekdaysParse,r);return n!==-1?n:null}if("dddd"===e){n=Xo.call(this._weekdaysParse,r);if(n!==-1)return n;n=Xo.call(this._shortWeekdaysParse,r);if(n!==-1)return n;n=Xo.call(this._minWeekdaysParse,r);return n!==-1?n:null}if("ddd"===e){n=Xo.call(this._shortWeekdaysParse,r);if(n!==-1)return n;n=Xo.call(this._weekdaysParse,r);if(n!==-1)return n;n=Xo.call(this._minWeekdaysParse,r);return n!==-1?n:null}n=Xo.call(this._minWeekdaysParse,r);if(n!==-1)return n;n=Xo.call(this._weekdaysParse,r);if(n!==-1)return n;n=Xo.call(this._shortWeekdaysParse,r);return n!==-1?n:null}function ri(t,e,i){var o,n,s;if(this._weekdaysParseExact)return si.call(this,t,e,i);if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(o=0;o<7;o++){n=h([2e3,1]).day(o);if(i&&!this._fullWeekdaysParse[o]){this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i");this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[o]){s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,"");this._weekdaysParse[o]=new RegExp(s.replace(".",""),"i")}if(i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}}function ai(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=t){t=ei(t,this.localeData());return this.add(t-e,"d")}return e}function hi(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function di(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function li(t){if(this._weekdaysParseExact){r(this,"_weekdaysRegex")||pi.call(this);return t?this._weekdaysStrictRegex:this._weekdaysRegex}return this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function ui(t){if(this._weekdaysParseExact){r(this,"_weekdaysRegex")||pi.call(this);return t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}return this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function ci(t){if(this._weekdaysParseExact){r(this,"_weekdaysRegex")||pi.call(this);return t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}return this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function pi(){function t(t,e){return e.length-t.length}var e=[],i=[],o=[],n=[],s,r,a,d,l;for(s=0;s<7;s++){r=h([2e3,1]).day(s);a=this.weekdaysMin(r,"");d=this.weekdaysShort(r,"");l=this.weekdays(r,"");e.push(a);i.push(d);o.push(l);n.push(a);n.push(d);n.push(l)}e.sort(t);i.sort(t);o.sort(t);n.sort(t);for(s=0;s<7;s++){i[s]=Q(i[s]);o[s]=Q(o[s]);n[s]=Q(n[s])}this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function fi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function mi(){return this.hours()%12||12}function vi(){return this.hours()||24}function gi(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function yi(t,e){return e._meridiemParse}function bi(t){return"p"===(t+"").toLowerCase().charAt(0)}function wi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function _i(t,e){e[Vo]=y(1e3*("0."+t))}function xi(){return this._isUTC?"UTC":""}function ki(){return this._isUTC?"Coordinated Universal Time":""}function Oi(t){return At(1e3*t)}function Mi(){return At.apply(null,arguments).parseZone()}function Si(t,e,i){var o=this._calendar[t];return k(o)?o.call(e,i):o}function Di(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];if(e||!i)return e;this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)});return this._longDateFormat[t]}function Ci(){return this._invalidDate}function Ti(t){return this._ordinal.replace("%d",t)}function Ei(t){return t}function Pi(t,e,i,o){var n=this._relativeTime[i];return k(n)?n(t,e,i,o):n.replace(/%d/i,t)}function Ii(t,e){var i=this._relativeTime[t>0?"future":"past"];return k(i)?i(e):i.replace(/%s/i,e)}function Ni(t,e,i,o){var n=z(),s=h().set(o,e);return n[i](s,t)}function zi(t,e,i){if("number"===typeof t){e=t;t=void 0}t=t||"";if(null!=e)return Ni(t,e,i,"month");var o,n=[];for(o=0;o<12;o++)n[o]=Ni(t,o,i,"month");return n}function Ri(t,e,i,o){if("boolean"===typeof t){if("number"===typeof e){i=e;e=void 0}e=e||""}else{e=t;i=e;t=!1;if("number"===typeof e){i=e;e=void 0}e=e||""}var n=z(),s=t?n._week.dow:0;if(null!=i)return Ni(e,(i+s)%7,o,"day");var r,a=[];for(r=0;r<7;r++)a[r]=Ni(e,(r+s)%7,o,"day");return a}function Li(t,e){return zi(t,e,"months")}function Ai(t,e){return zi(t,e,"monthsShort")}function Bi(t,e,i){return Ri(t,e,i,"weekdays")}function Fi(t,e,i){return Ri(t,e,i,"weekdaysShort")}function ji(t,e,i){return Ri(t,e,i,"weekdaysMin")}function Hi(){var t=this._data;this._milliseconds=jn(this._milliseconds);this._days=jn(this._days);this._months=jn(this._months);t.milliseconds=jn(t.milliseconds);t.seconds=jn(t.seconds);t.minutes=jn(t.minutes);t.hours=jn(t.hours);t.months=jn(t.months);t.years=jn(t.years);return this}function Wi(t,e,i,o){var n=ne(e,i);t._milliseconds+=o*n._milliseconds;t._days+=o*n._days;t._months+=o*n._months;return t._bubble()}function Yi(t,e){return Wi(this,t,e,1)}function Gi(t,e){return Wi(this,t,e,-1)}function Vi(t){return t<0?Math.floor(t):Math.ceil(t)}function Ui(){var t=this._milliseconds,e=this._days,i=this._months,o=this._data,n,s,r,a,h;if(!(t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0)){t+=864e5*Vi(Xi(i)+e);e=0;i=0}o.milliseconds=t%1e3;n=g(t/1e3);o.seconds=n%60;s=g(n/60);o.minutes=s%60;r=g(s/60);o.hours=r%24;e+=g(r/24);h=g(qi(e));i+=h;e-=Vi(Xi(h));a=g(i/12);i%=12;o.days=e;o.months=i;o.years=a;return this}function qi(t){return 4800*t/146097}function Xi(t){return 146097*t/4800}function Zi(t){var e,i,o=this._milliseconds;t=A(t);if("month"===t||"year"===t){e=this._days+o/864e5;i=this._months+qi(e);return"month"===t?i:i/12}e=this._days+Math.round(Xi(this._months));switch(t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function Ki(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Ji(t){return function(){return this.as(t)}}function Qi(t){t=A(t);return this[t+"s"]()}function $i(t){return function(){return this._data[t]}}function to(){return g(this.days()/7)}function eo(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}function io(t,e,i){var o=ne(t).abs(),n=is(o.as("s")),s=is(o.as("m")),r=is(o.as("h")),a=is(o.as("d")),h=is(o.as("M")),d=is(o.as("y")),l=n<os.s&&["s",n]||s<=1&&["m"]||s<os.m&&["mm",s]||r<=1&&["h"]||r<os.h&&["hh",r]||a<=1&&["d"]||a<os.d&&["dd",a]||h<=1&&["M"]||h<os.M&&["MM",h]||d<=1&&["y"]||["yy",d];l[2]=e;l[3]=+t>0;l[4]=i;return eo.apply(null,l)}function oo(t,e){if(void 0===os[t])return!1;if(void 0===e)return os[t];os[t]=e;return!0}function no(t){var e=this.localeData(),i=io(this,!t,e);t&&(i=e.pastFuture(+this,i));return e.postformat(i)}function so(){var t=ns(this._milliseconds)/1e3,e=ns(this._days),i=ns(this._months),o,n,s;o=g(t/60);n=g(o/60);t%=60;o%=60;s=g(i/12);i%=12;var r=s,a=i,h=e,d=n,l=o,u=t,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(h?h+"D":"")+(d||l||u?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(u?u+"S":""):"P0D"}var ro,ao;ao=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,o=0;o<i;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};var ho=e.momentProperties=[],lo=!1,uo={};e.suppressDeprecationWarnings=!1;e.deprecationHandler=null;var co;co=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)r(t,e)&&i.push(e);return i};var po={},fo,mo={},vo=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,go=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yo={},bo={},wo=/\d/,_o=/\d\d/,xo=/\d{3}/,ko=/\d{4}/,Oo=/[+-]?\d{6}/,Mo=/\d\d?/,So=/\d\d\d\d?/,Do=/\d\d\d\d\d\d?/,Co=/\d{1,3}/,To=/\d{1,4}/,Eo=/[+-]?\d{1,6}/,Po=/\d+/,Io=/[+-]?\d+/,No=/Z|[+-]\d\d:?\d\d/gi,zo=/Z|[+-]\d\d(?::?\d\d)?/gi,Ro=/[+-]?\d+(\.\d{1,3})?/,Lo=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ao={},Bo={},Fo=0,jo=1,Ho=2,Wo=3,Yo=4,Go=5,Vo=6,Uo=7,qo=8,Xo;Xo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};G("M",["MM",2],"Mo",function(){return this.month()+1});G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});G("MMMM",0,0,function(t){return this.localeData().months(this,t)});L("month","M");Z("M",Mo);Z("MM",Mo,_o);Z("MMM",function(t,e){return e.monthsShortRegex(t)});Z("MMMM",function(t,e){return e.monthsRegex(t)});$(["M","MM"],function(t,e){e[jo]=y(t)-1});$(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);null!=n?e[jo]=n:l(i).invalidMonth=t});var Zo=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ko="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Jo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qo=Lo,$o=Lo,tn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,en=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,on=/Z|[+-]\d\d(?::?\d\d)?/,nn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rn=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=_("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});G("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t});G(0,["YY",2],0,function(){return this.year()%100});G(0,["YYYY",4],0,"year");G(0,["YYYYY",5],0,"year");G(0,["YYYYYY",6,!0],0,"year");L("year","y");Z("Y",Io);Z("YY",Mo,_o);Z("YYYY",To,ko);Z("YYYYY",Eo,Oo);Z("YYYYYY",Eo,Oo);$(["YYYYY","YYYYYY"],Fo);$("YYYY",function(t,i){i[Fo]=2===t.length?e.parseTwoDigitYear(t):y(t)});$("YY",function(t,i){i[Fo]=e.parseTwoDigitYear(t)});$("Y",function(t,e){e[Fo]=parseInt(t,10)});e.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var an=F("FullYear",!0);e.ISO_8601=function(){};var hn=_("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=At.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:c()}),dn=_("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=At.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:c()}),ln=function(){return Date.now?Date.now():+new Date};Yt("Z",":");Yt("ZZ","");Z("Z",zo);Z("ZZ",zo);$(["Z","ZZ"],function(t,e,i){i._useUTC=!0;i._tzm=Gt(zo,t)});var un=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var cn=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,pn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;ne.fn=Ht.prototype;var fn=de(1,"add"),mn=de(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vn=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});G(0,["gg",2],0,function(){return this.weekYear()%100});G(0,["GG",2],0,function(){return this.isoWeekYear()%100});We("gggg","weekYear");We("ggggg","weekYear");We("GGGG","isoWeekYear");We("GGGGG","isoWeekYear");L("weekYear","gg");L("isoWeekYear","GG");Z("G",Io);Z("g",Io);Z("GG",Mo,_o);Z("gg",Mo,_o);Z("GGGG",To,ko);Z("gggg",To,ko);Z("GGGGG",Eo,Oo);Z("ggggg",Eo,Oo);tt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=y(t)});tt(["gg","GG"],function(t,i,o,n){i[n]=e.parseTwoDigitYear(t)});G("Q",0,"Qo","quarter");L("quarter","Q");Z("Q",wo);$("Q",function(t,e){e[jo]=3*(y(t)-1)});G("w",["ww",2],"wo","week");G("W",["WW",2],"Wo","isoWeek");L("week","w");L("isoWeek","W");Z("w",Mo);Z("ww",Mo,_o);Z("W",Mo);Z("WW",Mo,_o);tt(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=y(t)});var gn={dow:0,doy:6};G("D",["DD",2],"Do","date");L("date","D");Z("D",Mo);Z("DD",Mo,_o);Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient});$(["D","DD"],Ho);$("Do",function(t,e){e[Ho]=y(t.match(Mo)[0],10)});var yn=F("Date",!0);G("d",0,"do","day");G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});G("e",0,0,"weekday");G("E",0,0,"isoWeekday");L("day","d");L("weekday","e");L("isoWeekday","E");Z("d",Mo);Z("e",Mo);Z("E",Mo);Z("dd",function(t,e){return e.weekdaysMinRegex(t)});Z("ddd",function(t,e){return e.weekdaysShortRegex(t)});Z("dddd",function(t,e){return e.weekdaysRegex(t)});tt(["dd","ddd","dddd"],function(t,e,i,o){var n=i._locale.weekdaysParse(t,o,i._strict);null!=n?e.d=n:l(i).invalidWeekday=t});tt(["d","e","E"],function(t,e,i,o){e[o]=y(t)});var bn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_n="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xn=Lo,kn=Lo,On=Lo;G("DDD",["DDDD",3],"DDDo","dayOfYear");L("dayOfYear","DDD");Z("DDD",Co);Z("DDDD",xo);$(["DDD","DDDD"],function(t,e,i){i._dayOfYear=y(t)});G("H",["HH",2],0,"hour");G("h",["hh",2],0,mi);G("k",["kk",2],0,vi);G("hmm",0,0,function(){return""+mi.apply(this)+Y(this.minutes(),2)});G("hmmss",0,0,function(){return""+mi.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)});G("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)});G("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)});gi("a",!0);gi("A",!1);L("hour","h");Z("a",yi);Z("A",yi);Z("H",Mo);Z("h",Mo);Z("HH",Mo,_o);Z("hh",Mo,_o);Z("hmm",So);Z("hmmss",Do);Z("Hmm",So);Z("Hmmss",Do);$(["H","HH"],Wo);$(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t);i._meridiem=t});$(["h","hh"],function(t,e,i){e[Wo]=y(t);l(i).bigHour=!0});$("hmm",function(t,e,i){var o=t.length-2;e[Wo]=y(t.substr(0,o));e[Yo]=y(t.substr(o));l(i).bigHour=!0});$("hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[Wo]=y(t.substr(0,o));e[Yo]=y(t.substr(o,2));e[Go]=y(t.substr(n));l(i).bigHour=!0});$("Hmm",function(t,e,i){var o=t.length-2;e[Wo]=y(t.substr(0,o));e[Yo]=y(t.substr(o))});$("Hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[Wo]=y(t.substr(0,o));e[Yo]=y(t.substr(o,2));e[Go]=y(t.substr(n))});var Mn=/[ap]\.?m?\.?/i,Sn=F("Hours",!0);G("m",["mm",2],0,"minute");L("minute","m");Z("m",Mo);Z("mm",Mo,_o);$(["m","mm"],Yo);var Dn=F("Minutes",!1);G("s",["ss",2],0,"second");L("second","s");Z("s",Mo);Z("ss",Mo,_o);$(["s","ss"],Go);var Cn=F("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)});G(0,["SS",2],0,function(){return~~(this.millisecond()/10)});G(0,["SSS",3],0,"millisecond");G(0,["SSSS",4],0,function(){return 10*this.millisecond()});G(0,["SSSSS",5],0,function(){return 100*this.millisecond()});G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()});G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()});G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()});G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()});L("millisecond","ms");Z("S",Co,wo);Z("SS",Co,_o);Z("SSS",Co,xo);var Tn;for(Tn="SSSS";Tn.length<=9;Tn+="S")Z(Tn,Po);for(Tn="S";Tn.length<=9;Tn+="S")$(Tn,_i);var En=F("Milliseconds",!1);G("z",0,0,"zoneAbbr");G("zz",0,0,"zoneName");var Pn=m.prototype;Pn.add=fn;Pn.calendar=ue;Pn.clone=ce;Pn.diff=be;Pn.endOf=Pe;Pn.format=ke;Pn.from=Oe;Pn.fromNow=Me;Pn.to=Se;Pn.toNow=De;Pn.get=W;Pn.invalidAt=je;Pn.isAfter=pe;Pn.isBefore=fe;Pn.isBetween=me;Pn.isSame=ve;Pn.isSameOrAfter=ge;Pn.isSameOrBefore=ye;Pn.isValid=Be;Pn.lang=vn;Pn.locale=Ce;Pn.localeData=Te;Pn.max=dn;Pn.min=hn;Pn.parsingFlags=Fe;Pn.set=W;Pn.startOf=Ee;Pn.subtract=mn;Pn.toArray=Re;Pn.toObject=Le;Pn.toDate=ze;Pn.toISOString=xe;Pn.toJSON=Ae;Pn.toString=_e;Pn.unix=Ne;Pn.valueOf=Ie;Pn.creationData=He;Pn.year=an;Pn.isLeapYear=wt;Pn.weekYear=Ye;Pn.isoWeekYear=Ge;Pn.quarter=Pn.quarters=Ze;Pn.month=ht;Pn.daysInMonth=dt;Pn.week=Pn.weeks=$e;Pn.isoWeek=Pn.isoWeeks=ti;Pn.weeksInYear=Ue;Pn.isoWeeksInYear=Ve;Pn.date=yn;Pn.day=Pn.days=ai;Pn.weekday=hi;Pn.isoWeekday=di;Pn.dayOfYear=fi;Pn.hour=Pn.hours=Sn;Pn.minute=Pn.minutes=Dn;Pn.second=Pn.seconds=Cn;Pn.millisecond=Pn.milliseconds=En;Pn.utcOffset=qt;Pn.utc=Zt;Pn.local=Kt;Pn.parseZone=Jt;Pn.hasAlignedHourOffset=Qt;Pn.isDST=$t;Pn.isDSTShifted=te;Pn.isLocal=ee;Pn.isUtcOffset=ie;Pn.isUtc=oe;Pn.isUTC=oe;Pn.zoneAbbr=xi;Pn.zoneName=ki;Pn.dates=_("dates accessor is deprecated. Use date instead.",yn);Pn.months=_("months accessor is deprecated. Use month instead",ht);Pn.years=_("years accessor is deprecated. Use year instead",an);Pn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Xt);var In=Pn,Nn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rn="Invalid date",Ln="%d",An=/\d{1,2}/,Bn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fn=D.prototype;Fn._calendar=Nn;Fn.calendar=Si;Fn._longDateFormat=zn;Fn.longDateFormat=Di;Fn._invalidDate=Rn;Fn.invalidDate=Ci;Fn._ordinal=Ln;Fn.ordinal=Ti;Fn._ordinalParse=An;Fn.preparse=Ei;Fn.postformat=Ei;Fn._relativeTime=Bn;Fn.relativeTime=Pi;Fn.pastFuture=Ii;Fn.set=M;Fn.months=ot;Fn._months=Ko;Fn.monthsShort=nt;Fn._monthsShort=Jo;Fn.monthsParse=rt;Fn._monthsRegex=$o;Fn.monthsRegex=ut;Fn._monthsShortRegex=Qo;Fn.monthsShortRegex=lt;Fn.week=Ke;Fn._week=gn;Fn.firstDayOfYear=Qe;Fn.firstDayOfWeek=Je;Fn.weekdays=ii;Fn._weekdays=bn;Fn.weekdaysMin=ni;Fn._weekdaysMin=_n;Fn.weekdaysShort=oi;Fn._weekdaysShort=wn;Fn.weekdaysParse=ri;Fn._weekdaysRegex=xn;Fn.weekdaysRegex=li;Fn._weekdaysShortRegex=kn;Fn.weekdaysShortRegex=ui;Fn._weekdaysMinRegex=On;Fn.weekdaysMinRegex=ci;Fn.isPM=bi;Fn._meridiemParse=Mn;Fn.meridiem=wi;P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}});e.lang=_("moment.lang is deprecated. Use moment.locale instead.",P);e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",z);var jn=Math.abs,Hn=Ji("ms"),Wn=Ji("s"),Yn=Ji("m"),Gn=Ji("h"),Vn=Ji("d"),Un=Ji("w"),qn=Ji("M"),Xn=Ji("y"),Zn=$i("milliseconds"),Kn=$i("seconds"),Jn=$i("minutes"),Qn=$i("hours"),$n=$i("days"),ts=$i("months"),es=$i("years"),is=Math.round,os={s:45,m:45,h:22,d:26,M:11},ns=Math.abs,ss=Ht.prototype;ss.abs=Hi;ss.add=Yi;ss.subtract=Gi;ss.as=Zi;ss.asMilliseconds=Hn;ss.asSeconds=Wn;ss.asMinutes=Yn;ss.asHours=Gn;ss.asDays=Vn;ss.asWeeks=Un;ss.asMonths=qn;ss.asYears=Xn;ss.valueOf=Ki;ss._bubble=Ui;ss.get=Qi;ss.milliseconds=Zn;ss.seconds=Kn;ss.minutes=Jn;ss.hours=Qn;ss.days=$n;ss.weeks=to;ss.months=ts;ss.years=es;ss.humanize=no;ss.toISOString=so;ss.toString=so;ss.toJSON=so;ss.locale=Ce;ss.localeData=Te;ss.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so);ss.lang=vn;G("X",0,0,"unix");G("x",0,0,"valueOf");Z("x",Io);Z("X",Ro);$("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))});$("x",function(t,e,i){i._d=new Date(y(t))});e.version="2.13.0";i(At);e.fn=In;e.min=Ft;e.max=jt;e.now=ln;e.utc=h;e.unix=Oi;e.months=Li;e.isDate=n;e.locale=P;e.invalid=c;e.duration=ne;e.isMoment=v;e.weekdays=Bi;e.parseZone=Mi;e.localeData=z;e.isDuration=Wt;e.monthsShort=Ai;e.weekdaysMin=ji;e.defineLocale=I;e.updateLocale=N;e.locales=R;e.weekdaysShort=Fi;e.normalizeUnits=A;e.relativeTimeThreshold=oo;e.prototype=In;var rs=e;return rs})}).call(e,i(4)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];t.children=[];t.webpackPolyfill=1}return t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]};i.resolve=i;t.exports=i;i.id=5},function(t,e){(function(e){function i(t,e,i){var o=e&&i||0,n=0;e=e||[];t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=u[t])});for(;n<16;)e[o+n++]=0;return e}function o(t,e){var i=e||0,o=l;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}function n(t,e,i){var n=e&&i||0,s=e||[];t=t||{};var r=void 0!==t.clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:g+1,d=a-v+(h-g)/1e4;d<0&&void 0===t.clockseq&&(r=r+1&16383);(d<0||a>v)&&void 0===t.nsecs&&(h=0);if(h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a;g=h;m=r;a+=122192928e5;var l=(1e4*(268435455&a)+h)%4294967296;s[n++]=l>>>24&255;s[n++]=l>>>16&255;s[n++]=l>>>8&255;s[n++]=255&l;var u=a/4294967296*1e4&268435455;s[n++]=u>>>8&255;s[n++]=255&u;s[n++]=u>>>24&15|16;s[n++]=u>>>16&255;s[n++]=r>>>8|128;s[n++]=255&r;for(var c=t.node||f,p=0;p<6;p++)s[n+p]=c[p];return e?e:o(s)}function s(t,e,i){var n=e&&i||0;if("string"==typeof t){e="binary"==t?new Array(16):null;t=null}t=t||{};var s=t.random||(t.rng||r)();s[6]=15&s[6]|64;s[8]=63&s[8]|128;if(e)for(var a=0;a<16;a++)e[n+a]=s[a];return e||o(s)}var r,a="undefined"!==typeof window?window:"undefined"!==typeof e?e:null;if(a&&a.crypto&&crypto.getRandomValues){var h=new Uint8Array(16);r=function t(){crypto.getRandomValues(h);return h}}if(!r){var d=new Array(16);r=function t(){for(var e=0,i;e<16;e++){0===(3&e)&&(i=4294967296*Math.random());d[e]=i>>>((3&e)<<3)&255}return d}}for(var l=[],u={},c=0;c<256;c++){l[c]=(c+256).toString(16).substr(1);u[l[c]]=c}var p=r(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),v=0,g=0,y=s;y.v1=n;y.v4=s;y.parse=i;y.unparse=o;t.exports=y}).call(e,function(){return this}())},function(t,e,i){e.util=i(1);e.DOMutil=i(8);e.DataSet=i(9);e.DataView=i(11);e.Queue=i(10);e.Graph3d=i(12);e.graph3d={Camera:i(16),Filter:i(17),Point2d:i(15),Point3d:i(14),Slider:i(18),StepNumber:i(19)};e.moment=i(2);e.Hammer=i(20);e.keycharm=i(23)},function(t,e){e.prepareElements=function(t){for(var e in t)if(t.hasOwnProperty(e)){t[e].redundant=t[e].used;t[e].used=[]}};e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}};e.resetElements=function(t){e.prepareElements(t);e.cleanupElements(t);e.prepareElements(t)};e.getSVGElement=function(t,e,i){var o;if(e.hasOwnProperty(t))if(e[t].redundant.length>0){o=e[t].redundant[0];e[t].redundant.shift()}else{o=document.createElementNS("http://www.w3.org/2000/svg",t);i.appendChild(o)}else{o=document.createElementNS("http://www.w3.org/2000/svg",t);e[t]={used:[],redundant:[]};i.appendChild(o);
}e[t].used.push(o);return o};e.getDOMElement=function(t,e,i,o){var n;if(e.hasOwnProperty(t))if(e[t].redundant.length>0){n=e[t].redundant[0];e[t].redundant.shift()}else{n=document.createElement(t);void 0!==o?i.insertBefore(n,o):i.appendChild(n)}else{n=document.createElement(t);e[t]={used:[],redundant:[]};void 0!==o?i.insertBefore(n,o):i.appendChild(n)}e[t].used.push(n);return n};e.drawPoint=function(t,i,o,n,s,r){var a;if("circle"==o.style){a=e.getSVGElement("circle",n,s);a.setAttributeNS(null,"cx",t);a.setAttributeNS(null,"cy",i);a.setAttributeNS(null,"r",.5*o.size)}else{a=e.getSVGElement("rect",n,s);a.setAttributeNS(null,"x",t-.5*o.size);a.setAttributeNS(null,"y",i-.5*o.size);a.setAttributeNS(null,"width",o.size);a.setAttributeNS(null,"height",o.size)}void 0!==o.styles&&a.setAttributeNS(null,"style",o.styles);a.setAttributeNS(null,"class",o.className+" vis-point");if(r){var h=e.getSVGElement("text",n,s);r.xOffset&&(t+=r.xOffset);r.yOffset&&(i+=r.yOffset);r.content&&(h.textContent=r.content);r.className&&h.setAttributeNS(null,"class",r.className+" vis-label");h.setAttributeNS(null,"x",t);h.setAttributeNS(null,"y",i)}return a};e.drawBar=function(t,i,o,n,s,r,a,h){if(0!=n){if(n<0){n*=-1;i-=n}var d=e.getSVGElement("rect",r,a);d.setAttributeNS(null,"x",t-.5*o);d.setAttributeNS(null,"y",i);d.setAttributeNS(null,"width",o);d.setAttributeNS(null,"height",n);d.setAttributeNS(null,"class",s);h&&d.setAttributeNS(null,"style",h)}}},function(t,e,i){function o(t,e){if(t&&!Array.isArray(t)){e=t;t=null}this._options=e||{};this._data={};this.length=0;this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type)for(var i=Object.keys(this._options.type),o=0,n=i.length;o<n;o++){var s=i[o],r=this._options.type[s];"Date"==r||"ISODate"==r||"ASPDate"==r?this._type[s]="Date":this._type[s]=r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={};t&&this.add(t);this.setOptions(e)}var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(10);o.prototype.setOptions=function(t){if(t&&void 0!==t.queue)if(t.queue===!1){if(this._queue){this._queue.destroy();delete this._queue}}else{this._queue||(this._queue=r.extend(this,{replace:["add","update","remove"]}));"object"===n(t.queue)&&this._queue.setOptions(t.queue)}};o.prototype.on=function(t,e){var i=this._subscribers[t];if(!i){i=[];this._subscribers[t]=i}i.push({callback:e})};o.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")};o.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))};o.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")};o.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t]));"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var n=0,s=o.length;n<s;n++){var r=o[n];r.callback&&r.callback(t,e,i||null)}};o.prototype.add=function(t,e){var i=[],o,n=this;if(Array.isArray(t))for(var s=0,r=t.length;s<r;s++){o=n._addItem(t[s]);i.push(o)}else{if(!(t instanceof Object))throw new Error("Unknown dataType");o=n._addItem(t);i.push(o)}i.length&&this._trigger("add",{items:i},e);return i};o.prototype.update=function(t,e){var i=[],o=[],n=[],r=[],a=this,h=a._fieldId,d=function t(e){var d=e[h];if(a._data[d]){var l=s.extend({},a._data[d]);d=a._updateItem(e);o.push(d);r.push(e);n.push(l)}else{d=a._addItem(e);i.push(d)}};if(Array.isArray(t))for(var l=0,u=t.length;l<u;l++)t[l]instanceof Object?d(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!(t instanceof Object))throw new Error("Unknown dataType");d(t)}i.length&&this._trigger("add",{items:i},e);if(o.length){var c={items:o,oldData:n,data:r};this._trigger("update",c,e)}return i.concat(o)};o.prototype.get=function(t){var e=this,i,o,n,r=s.getType(arguments[0]);if("String"==r||"Number"==r){i=arguments[0];n=arguments[1]}else if("Array"==r){o=arguments[0];n=arguments[1]}else n=arguments[0];var a;if(n&&n.returnType){var h=["Array","Object"];a=h.indexOf(n.returnType)==-1?"Array":n.returnType}else a="Array";var d=n&&n.type||this._options.type,l=n&&n.filter,u=[],c,p,f,m,v;if(void 0!=i){c=e._getItem(i,d);c&&l&&!l(c)&&(c=null)}else if(void 0!=o)for(m=0,v=o.length;m<v;m++){c=e._getItem(o[m],d);l&&!l(c)||u.push(c)}else{p=Object.keys(this._data);for(m=0,v=p.length;m<v;m++){f=p[m];c=e._getItem(f,d);l&&!l(c)||u.push(c)}}n&&n.order&&void 0==i&&this._sort(u,n.order);if(n&&n.fields){var g=n.fields;if(void 0!=i)c=this._filterFields(c,g);else for(m=0,v=u.length;m<v;m++)u[m]=this._filterFields(u[m],g)}if("Object"==a){var y={},b;for(m=0,v=u.length;m<v;m++){b=u[m];y[b.id]=b}return y}return void 0!=i?c:u};o.prototype.getIds=function(t){var e=this._data,i=t&&t.filter,o=t&&t.order,n=t&&t.type||this._options.type,s=Object.keys(e),r,a,h,d,l,u=[];if(i)if(o){l=[];for(r=0,a=s.length;r<a;r++){h=s[r];d=this._getItem(h,n);i(d)&&l.push(d)}this._sort(l,o);for(r=0,a=l.length;r<a;r++)u.push(l[r][this._fieldId])}else for(r=0,a=s.length;r<a;r++){h=s[r];d=this._getItem(h,n);i(d)&&u.push(d[this._fieldId])}else if(o){l=[];for(r=0,a=s.length;r<a;r++){h=s[r];l.push(e[h])}this._sort(l,o);for(r=0,a=l.length;r<a;r++)u.push(l[r][this._fieldId])}else for(r=0,a=s.length;r<a;r++){h=s[r];d=e[h];u.push(d[this._fieldId])}return u};o.prototype.getDataSet=function(){return this};o.prototype.forEach=function(t,e){var i=e&&e.filter,o=e&&e.type||this._options.type,n=this._data,s=Object.keys(n),r,a,h,d;if(e&&e.order){var l=this.get(e);for(r=0,a=l.length;r<a;r++){h=l[r];d=h[this._fieldId];t(h,d)}}else for(r=0,a=s.length;r<a;r++){d=s[r];h=this._getItem(d,o);i&&!i(h)||t(h,d)}};o.prototype.map=function(t,e){var i=e&&e.filter,o=e&&e.type||this._options.type,n=[],s=this._data,r=Object.keys(s),a,h,d,l;for(a=0,h=r.length;a<h;a++){d=r[a];l=this._getItem(d,o);i&&!i(l)||n.push(t(l,d))}e&&e.order&&this._sort(n,e.order);return n};o.prototype._filterFields=function(t,e){if(!t)return t;var i={},o=Object.keys(t),n=o.length,s,r;if(Array.isArray(e))for(s=0;s<n;s++){r=o[s];e.indexOf(r)!=-1&&(i[r]=t[r])}else for(s=0;s<n;s++){r=o[s];e.hasOwnProperty(r)&&(i[e[r]]=t[r])}return i};o.prototype._sort=function(t,e){if(s.isString(e)){var i=e;t.sort(function(t,e){var o=t[i],n=e[i];return o>n?1:o<n?-1:0})}else{if("function"!==typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}};o.prototype.remove=function(t,e){var i=[],o,n,s;if(Array.isArray(t))for(o=0,n=t.length;o<n;o++){s=this._remove(t[o]);null!=s&&i.push(s)}else{s=this._remove(t);null!=s&&i.push(s)}i.length&&this._trigger("remove",{items:i},e);return i};o.prototype._remove=function(t){if(s.isNumber(t)||s.isString(t)){if(this._data[t]){delete this._data[t];this.length--;return t}}else if(t instanceof Object){var e=t[this._fieldId];if(void 0!==e&&this._data[e]){delete this._data[e];this.length--;return e}}return null};o.prototype.clear=function(t){var e=Object.keys(this._data);this._data={};this.length=0;this._trigger("remove",{items:e},t);return e};o.prototype.max=function(t){var e=this._data,i=Object.keys(e),o=null,n=null,s,r;for(s=0,r=i.length;s<r;s++){var a=i[s],h=e[a],d=h[t];if(null!=d&&(!o||d>n)){o=h;n=d}}return o};o.prototype.min=function(t){var e=this._data,i=Object.keys(e),o=null,n=null,s,r;for(s=0,r=i.length;s<r;s++){var a=i[s],h=e[a],d=h[t];if(null!=d&&(!o||d<n)){o=h;n=d}}return o};o.prototype.distinct=function(t){var e=this._data,i=Object.keys(e),o=[],n=this._options.type&&this._options.type[t]||null,r=0,a,h,d;for(a=0,d=i.length;a<d;a++){var l=i[a],u=e[l],c=u[t],p=!1;for(h=0;h<r;h++)if(o[h]==c){p=!0;break}if(!p&&void 0!==c){o[r]=c;r++}}if(n)for(a=0,d=o.length;a<d;a++)o[a]=s.convert(o[a],n);return o};o.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else{e=s.randomUUID();t[this._fieldId]=e}var i={},o=Object.keys(t),n,r;for(n=0,r=o.length;n<r;n++){var a=o[n],h=this._type[a];i[a]=s.convert(t[a],h)}this._data[e]=i;this.length++;return e};o.prototype._getItem=function(t,e){var i,o,n,r,a=this._data[t];if(!a)return null;var h={},d=Object.keys(a);if(e)for(n=0,r=d.length;n<r;n++){i=d[n];o=a[i];h[i]=s.convert(o,e[i])}else for(n=0,r=d.length;n<r;n++){i=d[n];o=a[i];h[i]=o}return h};o.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=Object.keys(t),n=0,r=o.length;n<r;n++){var a=o[n],h=this._type[a];i[a]=s.convert(t[a],h)}return e};t.exports=o},function(t,e){function i(t){this.delay=null;this.max=1/0;this._queue=[];this._timeout=null;this._extended=null;this.setOptions(t)}i.prototype.setOptions=function(t){t&&"undefined"!==typeof t.delay&&(this.delay=t.delay);t&&"undefined"!==typeof t.max&&(this.max=t.max);this._flushIfNeeded()};i.extend=function(t,e){var o=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){o.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var s=0;s<e.replace.length;s++){var r=e.replace[s];n.push({name:r,original:t[r]});o.replace(t,r)}o._extended={object:t,methods:n};return o};i.prototype.destroy=function(){this.flush();if(this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}};i.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}};i.prototype.queue=function(t){"function"===typeof t?this._queue.push({fn:t}):this._queue.push(t);this._flushIfNeeded()};i.prototype._flushIfNeeded=function(){this._queue.length>this.max&&this.flush();clearTimeout(this._timeout);if(this.queue.length>0&&"number"===typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}};i.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}};t.exports=i},function(t,e,i){function o(t,e){this._data=null;this._ids={};this.length=0;this._options=e||{};this._fieldId="id";this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)};this.setData(t)}var n=i(1),s=i(9);o.prototype.setData=function(t){var e,i,o,n;if(this._data){this._data.off&&this._data.off("*",this.listener);e=Object.keys(this._ids);this._ids={};this.length=0;this._trigger("remove",{items:e})}this._data=t;if(this._data){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id";e=this._data.getIds({filter:this._options&&this._options.filter});for(o=0,n=e.length;o<n;o++){i=e[o];this._ids[i]=!0}this.length=e.length;this._trigger("add",{items:e});this._data.on&&this._data.on("*",this.listener)}};o.prototype.refresh=function(){var t,e,i,o=this._data.getIds({filter:this._options&&this._options.filter}),n=Object.keys(this._ids),s={},r=[],a=[];for(e=0,i=o.length;e<i;e++){t=o[e];s[t]=!0;if(!this._ids[t]){r.push(t);this._ids[t]=!0}}for(e=0,i=n.length;e<i;e++){t=n[e];if(!s[t]){a.push(t);delete this._ids[t]}}this.length+=r.length-a.length;r.length&&this._trigger("add",{items:r});a.length&&this._trigger("remove",{items:a})};o.prototype.get=function(t){var e=this,i,o,s,r=n.getType(arguments[0]);if("String"==r||"Number"==r||"Array"==r){i=arguments[0];o=arguments[1];s=arguments[2]}else{o=arguments[0];s=arguments[1]}var a=n.extend({},this._options,o);this._options.filter&&o&&o.filter&&(a.filter=function(t){return e._options.filter(t)&&o.filter(t)});var h=[];void 0!=i&&h.push(i);h.push(a);h.push(s);return this._data&&this._data.get.apply(this._data,h)};o.prototype.getIds=function(t){var e;if(this._data){var i=this._options.filter,o;o=t&&t.filter?i?function e(o){return i(o)&&t.filter(o)}:t.filter:i;e=this._data.getIds({filter:o,order:t&&t.order})}else e=[];return e};o.prototype.map=function(t,e){var i=[];if(this._data){var o=this._options.filter,n;n=e&&e.filter?o?function t(i){return o(i)&&e.filter(i)}:e.filter:o;i=this._data.map(t,{filter:n,order:e&&e.order})}else i=[];return i};o.prototype.getDataSet=function(){for(var t=this;t instanceof o;)t=t._data;return t||null};o.prototype._onEvent=function(t,e,i){var o,n,s,r,a=e&&e.items,h=this._data,d=[],l=[],u=[],c=[];if(a&&h){switch(t){case"add":for(o=0,n=a.length;o<n;o++){s=a[o];r=this.get(s);if(r){this._ids[s]=!0;l.push(s)}}break;case"update":for(o=0,n=a.length;o<n;o++){s=a[o];r=this.get(s);if(r)if(this._ids[s]){u.push(s);d.push(e.data[o])}else{this._ids[s]=!0;l.push(s)}else if(this._ids[s]){delete this._ids[s];c.push(s)}}break;case"remove":for(o=0,n=a.length;o<n;o++){s=a[o];if(this._ids[s]){delete this._ids[s];c.push(s)}}}this.length+=l.length-c.length;l.length&&this._trigger("add",{items:l},i);u.length&&this._trigger("update",{items:u,data:d},i);c.length&&this._trigger("remove",{items:c},i)}};o.prototype.on=s.prototype.on;o.prototype.off=s.prototype.off;o.prototype._trigger=s.prototype._trigger;o.prototype.subscribe=o.prototype.on;o.prototype.unsubscribe=o.prototype.off;t.exports=o},function(t,e,i){function o(t,e,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t;this.width="400px";this.height="400px";this.margin=10;this.defaultXCenter="55%";this.defaultYCenter="50%";this.xLabel="x";this.yLabel="y";this.zLabel="z";var n=function t(e){return e};this.xValueLabel=n;this.yValueLabel=n;this.zValueLabel=n;this.filterLabel="time";this.legendLabel="value";this.style=o.STYLE.DOT;this.showPerspective=!0;this.showGrid=!0;this.keepAspectRatio=!0;this.showShadow=!1;this.showGrayBottom=!1;this.showTooltip=!1;this.verticalRatio=.5;this.animationInterval=1e3;this.animationPreload=!1;this.camera=new p;this.camera.setArmRotation(1,.5);this.camera.setArmLength(1.7);this.eye=new u(0,0,-1);this.dataTable=null;this.dataPoints=null;this.colX=void 0;this.colY=void 0;this.colZ=void 0;this.colValue=void 0;this.colFilter=void 0;this.xMin=0;this.xStep=void 0;this.xMax=1;this.yMin=0;this.yStep=void 0;this.yMax=1;this.zMin=0;this.zStep=void 0;this.zMax=1;this.valueMin=0;this.valueMax=1;this.xBarWidth=1;this.yBarWidth=1;this.axisColor="#4D4D4D";this.gridColor="#D3D3D3";this.dataColor={fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1};this.dotSizeRatio=.02;this.create();this.setOptions(i);e&&this.setData(e)}function n(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function s(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(13),h=i(9),d=i(11),l=i(1),u=i(14),c=i(15),p=i(16),f=i(17),m=i(18),v=i(19);a(o.prototype);o.prototype._setScale=function(){this.scale=new u(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin));this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;this.scale.value=1/(this.valueMax-this.valueMin);var t=(this.xMax+this.xMin)/2*this.scale.x,e=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(t,e,i)};o.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)};o.prototype._convertPointToTranslation=function(t){var e=t.x*this.scale.x,i=t.y*this.scale.y,o=t.z*this.scale.z,n=this.camera.getCameraLocation().x,s=this.camera.getCameraLocation().y,r=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),h=Math.cos(this.camera.getCameraRotation().x),d=Math.sin(this.camera.getCameraRotation().y),l=Math.cos(this.camera.getCameraRotation().y),c=Math.sin(this.camera.getCameraRotation().z),p=Math.cos(this.camera.getCameraRotation().z),f=l*(c*(i-s)+p*(e-n))-d*(o-r),m=a*(l*(o-r)+d*(c*(i-s)+p*(e-n)))+h*(p*(i-s)-c*(e-n)),v=h*(l*(o-r)+d*(c*(i-s)+p*(e-n)))-a*(p*(i-s)-c*(e-n));return new u(f,m,v)};o.prototype._convertTranslationToScreen=function(t){var e=this.eye.x,i=this.eye.y,o=this.eye.z,n=t.x,s=t.y,r=t.z,a,h;if(this.showPerspective){a=(n-e)*(o/r);h=(s-i)*(o/r)}else{a=n*-(o/this.camera.getArmLength());h=s*-(o/this.camera.getArmLength())}return new c(this.xcenter+a*this.frame.canvas.clientWidth,this.ycenter-h*this.frame.canvas.clientWidth)};o.prototype._setBackgroundColor=function(t){var e="white",i="gray",o=1;if("string"===typeof t){e=t;i="none";o=0}else if("object"===("undefined"===typeof t?"undefined":r(t))){void 0!==t.fill&&(e=t.fill);void 0!==t.stroke&&(i=t.stroke);void 0!==t.strokeWidth&&(o=t.strokeWidth)}else if(void 0!==t)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=e;this.frame.style.borderColor=i;this.frame.style.borderWidth=o+"px";this.frame.style.borderStyle="solid"};o.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};o.prototype._getStyleNumber=function(t){switch(t){case"dot":return o.STYLE.DOT;case"dot-line":return o.STYLE.DOTLINE;case"dot-color":return o.STYLE.DOTCOLOR;case"dot-size":return o.STYLE.DOTSIZE;case"line":return o.STYLE.LINE;case"grid":return o.STYLE.GRID;case"surface":return o.STYLE.SURFACE;case"bar":return o.STYLE.BAR;case"bar-color":return o.STYLE.BARCOLOR;case"bar-size":return o.STYLE.BARSIZE}return-1};o.prototype._determineColumnIndexes=function(t,e){if(this.style===o.STYLE.DOT||this.style===o.STYLE.DOTLINE||this.style===o.STYLE.LINE||this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE||this.style===o.STYLE.BAR){this.colX=0;this.colY=1;this.colZ=2;this.colValue=void 0;t.getNumberOfColumns()>3&&(this.colFilter=3)}else{if(this.style!==o.STYLE.DOTCOLOR&&this.style!==o.STYLE.DOTSIZE&&this.style!==o.STYLE.BARCOLOR&&this.style!==o.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0;this.colY=1;this.colZ=2;this.colValue=3;t.getNumberOfColumns()>4&&(this.colFilter=4)}};o.prototype.getNumberOfRows=function(t){return t.length};o.prototype.getNumberOfColumns=function(t){var e=0;for(var i in t[0])t[0].hasOwnProperty(i)&&e++;return e};o.prototype.getDistinctValues=function(t,e){for(var i=[],o=0;o<t.length;o++)i.indexOf(t[o][e])==-1&&i.push(t[o][e]);return i};o.prototype.getColumnRange=function(t,e){for(var i={min:t[0][e],max:t[0][e]},o=0;o<t.length;o++){i.min>t[o][e]&&(i.min=t[o][e]);i.max<t[o][e]&&(i.max=t[o][e])}return i};o.prototype._dataInitialize=function(t,e){var i=this;this.dataSet&&this.dataSet.off("*",this._onChange);if(void 0!==t){Array.isArray(t)&&(t=new h(t));var n;if(!(t instanceof h||t instanceof d))throw new Error("Array, DataSet, or DataView expected");n=t.get();if(0!=n.length){this.dataSet=t;this.dataTable=n;this._onChange=function(){i.setData(i.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";this.colValue="style";this.colFilter="filter";if(n[0].hasOwnProperty("filter")&&void 0===this.dataFilter){this.dataFilter=new f(t,this.colFilter,this);this.dataFilter.setOnLoadCallback(function(){i.redraw()})}var s=this.style==o.STYLE.BAR||this.style==o.STYLE.BARCOLOR||this.style==o.STYLE.BARSIZE;if(s){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var r=this.getDistinctValues(n,this.colX);this.xBarWidth=r[1]-r[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var a=this.getDistinctValues(n,this.colY);this.yBarWidth=a[1]-a[0]||1}}var l=this.getColumnRange(n,this.colX);if(s){l.min-=this.xBarWidth/2;l.max+=this.xBarWidth/2}this.xMin=void 0!==this.defaultXMin?this.defaultXMin:l.min;this.xMax=void 0!==this.defaultXMax?this.defaultXMax:l.max;this.xMax<=this.xMin&&(this.xMax=this.xMin+1);this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var u=this.getColumnRange(n,this.colY);if(s){u.min-=this.yBarWidth/2;u.max+=this.yBarWidth/2}this.yMin=void 0!==this.defaultYMin?this.defaultYMin:u.min;this.yMax=void 0!==this.defaultYMax?this.defaultYMax:u.max;this.yMax<=this.yMin&&(this.yMax=this.yMin+1);this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var c=this.getColumnRange(n,this.colZ);this.zMin=void 0!==this.defaultZMin?this.defaultZMin:c.min;this.zMax=void 0!==this.defaultZMax?this.defaultZMax:c.max;this.zMax<=this.zMin&&(this.zMax=this.zMin+1);this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5;if(void 0!==this.colValue){var p=this.getColumnRange(n,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:p.min;this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:p.max;this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}};o.prototype._getDataPoints=function(t){var e,i,n,s,r,a,h=[];if(this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE){var d=[],l=[];for(n=0;n<this.getNumberOfRows(t);n++){e=t[n][this.colX]||0;i=t[n][this.colY]||0;d.indexOf(e)===-1&&d.push(e);l.indexOf(i)===-1&&l.push(i)}var c=function t(e,i){return e-i};d.sort(c);l.sort(c);var p=[];for(n=0;n<t.length;n++){e=t[n][this.colX]||0;i=t[n][this.colY]||0;s=t[n][this.colZ]||0;var f=d.indexOf(e),m=l.indexOf(i);void 0===p[f]&&(p[f]=[]);var v=new u;v.x=e;v.y=i;v.z=s;r={};r.point=v;r.trans=void 0;r.screen=void 0;r.bottom=new u(e,i,this.zMin);p[f][m]=r;h.push(r)}for(e=0;e<p.length;e++)for(i=0;i<p[e].length;i++)if(p[e][i]){p[e][i].pointRight=e<p.length-1?p[e+1][i]:void 0;p[e][i].pointTop=i<p[e].length-1?p[e][i+1]:void 0;p[e][i].pointCross=e<p.length-1&&i<p[e].length-1?p[e+1][i+1]:void 0}}else for(n=0;n<t.length;n++){a=new u;a.x=t[n][this.colX]||0;a.y=t[n][this.colY]||0;a.z=t[n][this.colZ]||0;void 0!==this.colValue&&(a.value=t[n][this.colValue]||0);r={};r.point=a;r.bottom=new u(a.x,a.y,this.zMin);r.trans=void 0;r.screen=void 0;h.push(r)}return h};o.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red";t.style.fontWeight="bold";t.style.padding="10px";t.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(t);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var e=this,i=function t(i){e._onMouseDown(i)},o=function t(i){e._onTouchStart(i)},n=function t(i){e._onWheel(i)},s=function t(i){e._onTooltip(i)};l.addEventListener(this.frame.canvas,"keydown",onkeydown);l.addEventListener(this.frame.canvas,"mousedown",i);l.addEventListener(this.frame.canvas,"touchstart",o);l.addEventListener(this.frame.canvas,"mousewheel",n);l.addEventListener(this.frame.canvas,"mousemove",s);this.containerElement.appendChild(this.frame)};o.prototype.setSize=function(t,e){this.frame.style.width=t;this.frame.style.height=e;this._resizeCanvas()};o.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-2*10+"px"};o.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()};o.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()};o.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter);"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)};o.prototype.setCameraPosition=function(t){if(void 0!==t){void 0!==t.horizontal&&void 0!==t.vertical&&this.camera.setArmRotation(t.horizontal,t.vertical);void 0!==t.distance&&this.camera.setArmLength(t.distance);this.redraw()}};o.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();t.distance=this.camera.getArmLength();return t};o.prototype._readData=function(t){this._dataInitialize(t,this.style);this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable);this._redrawFilter()};o.prototype.setData=function(t){this._readData(t);this.redraw();this.animationAutoStart&&this.dataFilter&&this.animationStart()};o.prototype.setOptions=function(t){var e=void 0;this.animationStop();if(void 0!==t){void 0!==t.width&&(this.width=t.width);void 0!==t.height&&(this.height=t.height);void 0!==t.xCenter&&(this.defaultXCenter=t.xCenter);void 0!==t.yCenter&&(this.defaultYCenter=t.yCenter);void 0!==t.filterLabel&&(this.filterLabel=t.filterLabel);void 0!==t.legendLabel&&(this.legendLabel=t.legendLabel);void 0!==t.xLabel&&(this.xLabel=t.xLabel);void 0!==t.yLabel&&(this.yLabel=t.yLabel);void 0!==t.zLabel&&(this.zLabel=t.zLabel);void 0!==t.xValueLabel&&(this.xValueLabel=t.xValueLabel);void 0!==t.yValueLabel&&(this.yValueLabel=t.yValueLabel);void 0!==t.zValueLabel&&(this.zValueLabel=t.zValueLabel);void 0!==t.dotSizeRatio&&(this.dotSizeRatio=t.dotSizeRatio);if(void 0!==t.style){var i=this._getStyleNumber(t.style);i!==-1&&(this.style=i)}void 0!==t.showGrid&&(this.showGrid=t.showGrid);void 0!==t.showPerspective&&(this.showPerspective=t.showPerspective);void 0!==t.showShadow&&(this.showShadow=t.showShadow);void 0!==t.tooltip&&(this.showTooltip=t.tooltip);void 0!==t.showAnimationControls&&(this.showAnimationControls=t.showAnimationControls);void 0!==t.keepAspectRatio&&(this.keepAspectRatio=t.keepAspectRatio);void 0!==t.verticalRatio&&(this.verticalRatio=t.verticalRatio);void 0!==t.animationInterval&&(this.animationInterval=t.animationInterval);void 0!==t.animationPreload&&(this.animationPreload=t.animationPreload);void 0!==t.animationAutoStart&&(this.animationAutoStart=t.animationAutoStart);void 0!==t.xBarWidth&&(this.defaultXBarWidth=t.xBarWidth);void 0!==t.yBarWidth&&(this.defaultYBarWidth=t.yBarWidth);void 0!==t.xMin&&(this.defaultXMin=t.xMin);void 0!==t.xStep&&(this.defaultXStep=t.xStep);void 0!==t.xMax&&(this.defaultXMax=t.xMax);void 0!==t.yMin&&(this.defaultYMin=t.yMin);void 0!==t.yStep&&(this.defaultYStep=t.yStep);void 0!==t.yMax&&(this.defaultYMax=t.yMax);void 0!==t.zMin&&(this.defaultZMin=t.zMin);void 0!==t.zStep&&(this.defaultZStep=t.zStep);void 0!==t.zMax&&(this.defaultZMax=t.zMax);void 0!==t.valueMin&&(this.defaultValueMin=t.valueMin);void 0!==t.valueMax&&(this.defaultValueMax=t.valueMax);void 0!==t.backgroundColor&&this._setBackgroundColor(t.backgroundColor);void 0!==t.cameraPosition&&(e=t.cameraPosition);if(void 0!==e){this.camera.setArmRotation(e.horizontal,e.vertical);this.camera.setArmLength(e.distance)}void 0!==t.axisColor&&(this.axisColor=t.axisColor);void 0!==t.gridColor&&(this.gridColor=t.gridColor);if(t.dataColor)if("string"===typeof t.dataColor){this.dataColor.fill=t.dataColor;this.dataColor.stroke=t.dataColor}else{t.dataColor.fill&&(this.dataColor.fill=t.dataColor.fill);t.dataColor.stroke&&(this.dataColor.stroke=t.dataColor.stroke);void 0!==t.dataColor.strokeWidth&&(this.dataColor.strokeWidth=t.dataColor.strokeWidth)}}this.setSize(this.width,this.height);this.dataTable&&this.setData(this.dataTable);this.animationAutoStart&&this.dataFilter&&this.animationStart()};o.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE?this._redrawDataGrid():this.style===o.STYLE.LINE?this._redrawDataLine():this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot();this._redrawInfo();this._redrawLegend()};o.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)};o.prototype._redrawLegend=function(){var t;if(this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var e=this.frame.clientWidth*this.dotSizeRatio,i,n;if(this.style===o.STYLE.DOTSIZE){i=e/2;n=e/2+2*e}else{i=20;n=20}var s=Math.max(.25*this.frame.clientHeight,100),r=this.margin,a=this.frame.clientWidth-this.margin,h=a-n,d=r+s}var l=this.frame.canvas,u=l.getContext("2d");u.lineWidth=1;u.font="14px tyc-num";if(this.style===o.STYLE.DOTCOLOR){var c=0,p=s;for(t=c;t<p;t++){var f=(t-c)/(p-c),m=240*f,g=this._hsv2rgb(m,1,1);u.strokeStyle=g;u.beginPath();u.moveTo(h,r+t);u.lineTo(a,r+t);u.stroke()}u.strokeStyle=this.axisColor;u.strokeRect(h,r,n,s)}if(this.style===o.STYLE.DOTSIZE){u.strokeStyle=this.axisColor;u.fillStyle=this.dataColor.fill;u.beginPath();u.moveTo(h,r);u.lineTo(a,r);u.lineTo(a-n+i,d);u.lineTo(h,d);u.closePath();u.fill();u.stroke()}if(this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var y=5,b=new v(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);b.start();b.getCurrent()<this.valueMin&&b.next();for(;!b.end();){t=d-(b.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*s;u.beginPath();u.moveTo(h-y,t);u.lineTo(h,t);u.stroke();u.textAlign="right";u.textBaseline="middle";u.fillStyle=this.axisColor;u.fillText(b.getCurrent(),h-2*y,t);b.next()}u.textAlign="right";u.textBaseline="top";var w=this.legendLabel;u.fillText(w,a,d+this.margin)}};o.prototype._redrawFilter=function(){this.frame.filter.innerHTML="";if(this.dataFilter){var t={visible:this.showAnimationControls},e=new m(this.frame.filter,t);this.frame.filter.slider=e;this.frame.filter.style.padding="10px";e.setValues(this.dataFilter.values);e.setPlayInterval(this.animationInterval);var i=this,o=function t(){var o=e.getIndex();i.dataFilter.selectValue(o);i.dataPoints=i.dataFilter._getDataPoints();i.redraw()};e.setOnChangeCallback(o)}else this.frame.filter.slider=void 0};o.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};o.prototype._redrawInfo=function(){if(this.dataFilter){var t=this.frame.canvas,e=t.getContext("2d");e.font="14px tyc-num";e.lineStyle="gray";e.fillStyle="gray";e.textAlign="left";e.textBaseline="top";var i=this.margin,o=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,o)}};o.prototype._redrawAxis=function(){var t=this.frame.canvas,e=t.getContext("2d"),i,o,n,s,r,a,h,d,l,c,p,f,m;e.font=24/this.camera.getArmLength()+"px tyc-num";var g=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),w=this.camera.getArmRotation().horizontal;e.lineWidth=1;s=void 0===this.defaultXStep;n=new v(this.xMin,this.xMax,this.xStep,s);n.start();n.getCurrent()<this.xMin&&n.next();for(;!n.end();){var _=n.getCurrent();if(this.showGrid){i=this._convert3Dto2D(new u(_,this.yMin,this.zMin));o=this._convert3Dto2D(new u(_,this.yMax,this.zMin));e.strokeStyle=this.gridColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke()}else{i=this._convert3Dto2D(new u(_,this.yMin,this.zMin));o=this._convert3Dto2D(new u(_,this.yMin+g,this.zMin));e.strokeStyle=this.axisColor;
e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke();i=this._convert3Dto2D(new u(_,this.yMax,this.zMin));o=this._convert3Dto2D(new u(_,this.yMax-g,this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke()}h=Math.cos(w)>0?this.yMin:this.yMax;r=this._convert3Dto2D(new u(_,h,this.zMin));if(Math.cos(2*w)>0){e.textAlign="center";e.textBaseline="top";r.y+=b}else if(Math.sin(2*w)<0){e.textAlign="right";e.textBaseline="middle"}else{e.textAlign="left";e.textBaseline="middle"}e.fillStyle=this.axisColor;e.fillText("  "+this.xValueLabel(n.getCurrent())+"  ",r.x,r.y);n.next()}e.lineWidth=1;s=void 0===this.defaultYStep;n=new v(this.yMin,this.yMax,this.yStep,s);n.start();n.getCurrent()<this.yMin&&n.next();for(;!n.end();){if(this.showGrid){i=this._convert3Dto2D(new u(this.xMin,n.getCurrent(),this.zMin));o=this._convert3Dto2D(new u(this.xMax,n.getCurrent(),this.zMin));e.strokeStyle=this.gridColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke()}else{i=this._convert3Dto2D(new u(this.xMin,n.getCurrent(),this.zMin));o=this._convert3Dto2D(new u(this.xMin+y,n.getCurrent(),this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke();i=this._convert3Dto2D(new u(this.xMax,n.getCurrent(),this.zMin));o=this._convert3Dto2D(new u(this.xMax-y,n.getCurrent(),this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke()}a=Math.sin(w)>0?this.xMin:this.xMax;r=this._convert3Dto2D(new u(a,n.getCurrent(),this.zMin));if(Math.cos(2*w)<0){e.textAlign="center";e.textBaseline="top";r.y+=b}else if(Math.sin(2*w)>0){e.textAlign="right";e.textBaseline="middle"}else{e.textAlign="left";e.textBaseline="middle"}e.fillStyle=this.axisColor;e.fillText("  "+this.yValueLabel(n.getCurrent())+"  ",r.x,r.y);n.next()}e.lineWidth=1;s=void 0===this.defaultZStep;n=new v(this.zMin,this.zMax,this.zStep,s);n.start();n.getCurrent()<this.zMin&&n.next();a=Math.cos(w)>0?this.xMin:this.xMax;h=Math.sin(w)<0?this.yMin:this.yMax;for(;!n.end();){i=this._convert3Dto2D(new u(a,h,n.getCurrent()));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(i.x-b,i.y);e.stroke();e.textAlign="right";e.textBaseline="middle";e.fillStyle=this.axisColor;e.fillText(this.zValueLabel(n.getCurrent())+" ",i.x-5,i.y);n.next()}e.lineWidth=1;i=this._convert3Dto2D(new u(a,h,this.zMin));o=this._convert3Dto2D(new u(a,h,this.zMax));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke();e.lineWidth=1;f=this._convert3Dto2D(new u(this.xMin,this.yMin,this.zMin));m=this._convert3Dto2D(new u(this.xMax,this.yMin,this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(f.x,f.y);e.lineTo(m.x,m.y);e.stroke();f=this._convert3Dto2D(new u(this.xMin,this.yMax,this.zMin));m=this._convert3Dto2D(new u(this.xMax,this.yMax,this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(f.x,f.y);e.lineTo(m.x,m.y);e.stroke();e.lineWidth=1;i=this._convert3Dto2D(new u(this.xMin,this.yMin,this.zMin));o=this._convert3Dto2D(new u(this.xMin,this.yMax,this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke();i=this._convert3Dto2D(new u(this.xMax,this.yMin,this.zMin));o=this._convert3Dto2D(new u(this.xMax,this.yMax,this.zMin));e.strokeStyle=this.axisColor;e.beginPath();e.moveTo(i.x,i.y);e.lineTo(o.x,o.y);e.stroke();var x=this.xLabel;if(x.length>0){p=.1/this.scale.y;a=(this.xMin+this.xMax)/2;h=Math.cos(w)>0?this.yMin-p:this.yMax+p;r=this._convert3Dto2D(new u(a,h,this.zMin));if(Math.cos(2*w)>0){e.textAlign="center";e.textBaseline="top"}else if(Math.sin(2*w)<0){e.textAlign="right";e.textBaseline="middle"}else{e.textAlign="left";e.textBaseline="middle"}e.fillStyle=this.axisColor;e.fillText(x,r.x,r.y)}var k=this.yLabel;if(k.length>0){c=.1/this.scale.x;a=Math.sin(w)>0?this.xMin-c:this.xMax+c;h=(this.yMin+this.yMax)/2;r=this._convert3Dto2D(new u(a,h,this.zMin));if(Math.cos(2*w)<0){e.textAlign="center";e.textBaseline="top"}else if(Math.sin(2*w)>0){e.textAlign="right";e.textBaseline="middle"}else{e.textAlign="left";e.textBaseline="middle"}e.fillStyle=this.axisColor;e.fillText(k,r.x,r.y)}var O=this.zLabel;if(O.length>0){l=30;a=Math.cos(w)>0?this.xMin:this.xMax;h=Math.sin(w)<0?this.yMin:this.yMax;d=(this.zMin+this.zMax)/2;r=this._convert3Dto2D(new u(a,h,d));e.textAlign="right";e.textBaseline="middle";e.fillStyle=this.axisColor;e.fillText(O,r.x-l,r.y)}};o.prototype._hsv2rgb=function(t,e,i){var o,n,s,r,a,h;r=i*e;a=Math.floor(t/60);h=r*(1-Math.abs(t/60%2-1));switch(a){case 0:o=r;n=h;s=0;break;case 1:o=h;n=r;s=0;break;case 2:o=0;n=r;s=h;break;case 3:o=0;n=h;s=r;break;case 4:o=h;n=0;s=r;break;case 5:o=r;n=0;s=h;break;default:o=0;n=0;s=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*s)+")"};o.prototype._redrawDataGrid=function(){var t=this.frame.canvas,e=t.getContext("2d"),i,n,s,r,a,h,d,l,c,p,f,m,v;e.lineJoin="round";e.lineCap="round";if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(a=0;a<this.dataPoints.length;a++){var g=this._convertPointToTranslation(this.dataPoints[a].point),y=this._convertTranslationToScreen(g);this.dataPoints[a].trans=g;this.dataPoints[a].screen=y;var b=this._convertPointToTranslation(this.dataPoints[a].bottom);this.dataPoints[a].dist=this.showPerspective?b.length():-b.z}var w=function t(e,i){return i.dist-e.dist};this.dataPoints.sort(w);if(this.style===o.STYLE.SURFACE)for(a=0;a<this.dataPoints.length;a++){i=this.dataPoints[a];n=this.dataPoints[a].pointRight;s=this.dataPoints[a].pointTop;r=this.dataPoints[a].pointCross;if(void 0!==i&&void 0!==n&&void 0!==s&&void 0!==r){if(this.showGrayBottom||this.showShadow){var _=u.subtract(r.trans,i.trans),x=u.subtract(s.trans,n.trans),k=u.crossProduct(_,x),O=k.length();h=k.z>0}else h=!0;if(h){v=(i.point.z+n.point.z+s.point.z+r.point.z)/4;p=240*(1-(v-this.zMin)*this.scale.z/this.verticalRatio);f=1;if(this.showShadow){m=Math.min(1+k.x/O/2,1);d=this._hsv2rgb(p,f,m);l=d}else{m=1;d=this._hsv2rgb(p,f,m);l=this.axisColor}}else{d="gray";l=this.axisColor}e.lineWidth=this._getStrokeWidth(i);e.fillStyle=d;e.strokeStyle=l;e.beginPath();e.moveTo(i.screen.x,i.screen.y);e.lineTo(n.screen.x,n.screen.y);e.lineTo(r.screen.x,r.screen.y);e.lineTo(s.screen.x,s.screen.y);e.closePath();e.fill();e.stroke()}}else for(a=0;a<this.dataPoints.length;a++){i=this.dataPoints[a];n=this.dataPoints[a].pointRight;s=this.dataPoints[a].pointTop;if(void 0!==i&&void 0!==n){v=(i.point.z+n.point.z)/2;p=240*(1-(v-this.zMin)*this.scale.z/this.verticalRatio);e.lineWidth=2*this._getStrokeWidth(i);e.strokeStyle=this._hsv2rgb(p,1,1);e.beginPath();e.moveTo(i.screen.x,i.screen.y);e.lineTo(n.screen.x,n.screen.y);e.stroke()}if(void 0!==i&&void 0!==s){v=(i.point.z+s.point.z)/2;p=240*(1-(v-this.zMin)*this.scale.z/this.verticalRatio);e.lineWidth=2*this._getStrokeWidth(i);e.strokeStyle=this._hsv2rgb(p,1,1);e.beginPath();e.moveTo(i.screen.x,i.screen.y);e.lineTo(s.screen.x,s.screen.y);e.stroke()}}}};o.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth};o.prototype._redrawDataDot=function(){var t=this.frame.canvas,e=t.getContext("2d"),i;if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(i=0;i<this.dataPoints.length;i++){var n=this._convertPointToTranslation(this.dataPoints[i].point),s=this._convertTranslationToScreen(n);this.dataPoints[i].trans=n;this.dataPoints[i].screen=s;var r=this._convertPointToTranslation(this.dataPoints[i].bottom);this.dataPoints[i].dist=this.showPerspective?r.length():-r.z}var a=function t(e,i){return i.dist-e.dist};this.dataPoints.sort(a);var h=this.frame.clientWidth*this.dotSizeRatio;for(i=0;i<this.dataPoints.length;i++){var d=this.dataPoints[i];if(this.style===o.STYLE.DOTLINE){var l=this._convert3Dto2D(d.bottom);e.lineWidth=1;e.strokeStyle=this.gridColor;e.beginPath();e.moveTo(l.x,l.y);e.lineTo(d.screen.x,d.screen.y);e.stroke()}var u;u=this.style===o.STYLE.DOTSIZE?h/2+2*h*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):h;var c;c=this.showPerspective?u/-d.trans.z:u*-(this.eye.z/this.camera.getArmLength());c<0&&(c=0);var p,f,m;if(this.style===o.STYLE.DOTCOLOR){p=240*(1-(d.point.value-this.valueMin)*this.scale.value);f=this._hsv2rgb(p,1,1);m=this._hsv2rgb(p,1,.8)}else if(this.style===o.STYLE.DOTSIZE){f=this.dataColor.fill;m=this.dataColor.stroke}else{p=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio);f=this._hsv2rgb(p,1,1);m=this._hsv2rgb(p,1,.8)}e.lineWidth=this._getStrokeWidth(d);e.strokeStyle=m;e.fillStyle=f;e.beginPath();e.arc(d.screen.x,d.screen.y,c,0,2*Math.PI,!0);e.fill();e.stroke()}}};o.prototype._redrawDataBar=function(){var t=this.frame.canvas,e=t.getContext("2d"),i,n,s,r;if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(i=0;i<this.dataPoints.length;i++){var a=this._convertPointToTranslation(this.dataPoints[i].point),h=this._convertTranslationToScreen(a);this.dataPoints[i].trans=a;this.dataPoints[i].screen=h;var d=this._convertPointToTranslation(this.dataPoints[i].bottom);this.dataPoints[i].dist=this.showPerspective?d.length():-d.z}var l=function t(e,i){return i.dist-e.dist};this.dataPoints.sort(l);e.lineJoin="round";e.lineCap="round";var c=this.xBarWidth/2,p=this.yBarWidth/2;for(i=0;i<this.dataPoints.length;i++){var f=this.dataPoints[i],m,v,g;if(this.style===o.STYLE.BARCOLOR){m=240*(1-(f.point.value-this.valueMin)*this.scale.value);v=this._hsv2rgb(m,1,1);g=this._hsv2rgb(m,1,.8)}else if(this.style===o.STYLE.BARSIZE){v=this.dataColor.fill;g=this.dataColor.stroke}else{m=240*(1-(f.point.z-this.zMin)*this.scale.z/this.verticalRatio);v=this._hsv2rgb(m,1,1);g=this._hsv2rgb(m,1,.8)}if(this.style===o.STYLE.BARSIZE){c=this.xBarWidth/2*((f.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2);p=this.yBarWidth/2*((f.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2)}var y=this,b=f.point,w=[{point:new u(b.x-c,b.y-p,b.z)},{point:new u(b.x+c,b.y-p,b.z)},{point:new u(b.x+c,b.y+p,b.z)},{point:new u(b.x-c,b.y+p,b.z)}],_=[{point:new u(b.x-c,b.y-p,this.zMin)},{point:new u(b.x+c,b.y-p,this.zMin)},{point:new u(b.x+c,b.y+p,this.zMin)},{point:new u(b.x-c,b.y+p,this.zMin)}];w.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});_.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});var x=[{corners:w,center:u.avg(_[0].point,_[2].point)},{corners:[w[0],w[1],_[1],_[0]],center:u.avg(_[1].point,_[0].point)},{corners:[w[1],w[2],_[2],_[1]],center:u.avg(_[2].point,_[1].point)},{corners:[w[2],w[3],_[3],_[2]],center:u.avg(_[3].point,_[2].point)},{corners:[w[3],w[0],_[0],_[3]],center:u.avg(_[0].point,_[3].point)}];f.surfaces=x;for(n=0;n<x.length;n++){s=x[n];var k=this._convertPointToTranslation(s.center);s.dist=this.showPerspective?k.length():-k.z}x.sort(function(t,e){var i=e.dist-t.dist;return i?i:t.corners===w?1:e.corners===w?-1:0});e.lineWidth=this._getStrokeWidth(f);e.strokeStyle=g;e.fillStyle=v;for(n=2;n<x.length;n++){s=x[n];r=s.corners;e.beginPath();e.moveTo(r[3].screen.x,r[3].screen.y);e.lineTo(r[0].screen.x,r[0].screen.y);e.lineTo(r[1].screen.x,r[1].screen.y);e.lineTo(r[2].screen.x,r[2].screen.y);e.lineTo(r[3].screen.x,r[3].screen.y);e.fill();e.stroke()}}}};o.prototype._redrawDataLine=function(){var t=this.frame.canvas,e=t.getContext("2d"),i,o;if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(o=0;o<this.dataPoints.length;o++){var n=this._convertPointToTranslation(this.dataPoints[o].point),s=this._convertTranslationToScreen(n);this.dataPoints[o].trans=n;this.dataPoints[o].screen=s}if(this.dataPoints.length>0){i=this.dataPoints[0];e.lineWidth=this._getStrokeWidth(i);e.lineJoin="round";e.lineCap="round";e.strokeStyle=this.dataColor.stroke;e.beginPath();e.moveTo(i.screen.x,i.screen.y);for(o=1;o<this.dataPoints.length;o++){i=this.dataPoints[o];e.lineTo(i.screen.x,i.screen.y)}e.stroke()}}};o.prototype._onMouseDown=function(t){t=t||window.event;this.leftButtonDown&&this._onMouseUp(t);this.leftButtonDown=t.which?1===t.which:1===t.button;if(this.leftButtonDown||this.touchDown){this.startMouseX=n(t);this.startMouseY=s(t);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)};this.onmouseup=function(t){e._onMouseUp(t)};l.addEventListener(document,"mousemove",e.onmousemove);l.addEventListener(document,"mouseup",e.onmouseup);l.preventDefault(t)}};o.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(n(t))-this.startMouseX,i=parseFloat(s(t))-this.startMouseY,o=this.startArmRotation.horizontal+e/200,r=this.startArmRotation.vertical+i/200,a=4,h=Math.sin(a/360*2*Math.PI);Math.abs(Math.sin(o))<h&&(o=Math.round(o/Math.PI)*Math.PI-.001);Math.abs(Math.cos(o))<h&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI-.001);Math.abs(Math.sin(r))<h&&(r=Math.round(r/Math.PI)*Math.PI);Math.abs(Math.cos(r))<h&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI);this.camera.setArmRotation(o,r);this.redraw();var d=this.getCameraPosition();this.emit("cameraPositionChange",d);l.preventDefault(t)};o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto";this.leftButtonDown=!1;l.removeEventListener(document,"mousemove",this.onmousemove);l.removeEventListener(document,"mouseup",this.onmouseup);l.preventDefault(t)};o.prototype._onTooltip=function(t){var e=300,i=this.frame.getBoundingClientRect(),o=n(t)-i.left,r=s(t)-i.top;if(this.showTooltip){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout);if(this.leftButtonDown)this._hideTooltip();else if(this.tooltip&&this.tooltip.dataPoint){var a=this._dataPointFromXY(o,r);a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip())}else{var h=this;this.tooltipTimeout=setTimeout(function(){h.tooltipTimeout=null;var t=h._dataPointFromXY(o,r);t&&h._showTooltip(t)},e)}}};o.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)};this.ontouchend=function(t){e._onTouchEnd(t)};l.addEventListener(document,"touchmove",e.ontouchmove);l.addEventListener(document,"touchend",e.ontouchend);this._onMouseDown(t)};o.prototype._onTouchMove=function(t){this._onMouseMove(t)};o.prototype._onTouchEnd=function(t){this.touchDown=!1;l.removeEventListener(document,"touchmove",this.ontouchmove);l.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(t)};o.prototype._onWheel=function(t){t||(t=window.event);var e=0;t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3);if(e){var i=this.camera.getArmLength(),o=i*(1-e/10);this.camera.setArmLength(o);this.redraw();this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n);l.preventDefault(t)};o.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:t<0?-1:0}var o=e[0],n=e[1],s=e[2],r=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x)),a=i((s.x-n.x)*(t.y-n.y)-(s.y-n.y)*(t.x-n.x)),h=i((o.x-s.x)*(t.y-s.y)-(o.y-s.y)*(t.x-s.x));return(0==r||0==a||r==a)&&(0==a||0==h||a==h)&&(0==r||0==h||r==h)};o.prototype._dataPointFromXY=function(t,e){var i,n=100,s=null,r=null,a=null,h=new c(t,e);if(this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){s=this.dataPoints[i];var d=s.surfaces;if(d)for(var l=d.length-1;l>=0;l--){var u=d[l],p=u.corners,f=[p[0].screen,p[1].screen,p[2].screen],m=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(h,f)||this._insideTriangle(h,m))return s}}else for(i=0;i<this.dataPoints.length;i++){s=this.dataPoints[i];var v=s.screen;if(v){var g=Math.abs(t-v.x),y=Math.abs(e-v.y),b=Math.sqrt(g*g+y*y);if((null===a||b<a)&&b<n){a=b;r=s}}}return r};o.prototype._showTooltip=function(t){var e,i,o;if(this.tooltip){e=this.tooltip.dom.content;i=this.tooltip.dom.line;o=this.tooltip.dom.dot}else{e=document.createElement("div");e.style.position="absolute";e.style.padding="10px";e.style.border="1px solid #4d4d4d";e.style.color="#1a1a1a";e.style.background="rgba(255,255,255,0.7)";e.style.borderRadius="2px";e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)";i=document.createElement("div");i.style.position="absolute";i.style.height="40px";i.style.width="0";i.style.borderLeft="1px solid #4d4d4d";o=document.createElement("div");o.style.position="absolute";o.style.height="0";o.style.width="0";o.style.border="5px solid #4d4d4d";o.style.borderRadius="5px";this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}}this._hideTooltip();this.tooltip.dataPoint=t;"function"===typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table>"+"<tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr>"+"<tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr>"+"<tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr>"+"</table>";e.style.left="0";e.style.top="0";this.frame.appendChild(e);this.frame.appendChild(i);this.frame.appendChild(o);var n=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,a=o.offsetWidth,h=o.offsetHeight,d=t.screen.x-n/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-n);i.style.left=t.screen.x+"px";i.style.top=t.screen.y-r+"px";e.style.left=d+"px";e.style.top=t.screen.y-r-s+"px";o.style.left=t.screen.x-a/2+"px";o.style.top=t.screen.y-h/2+"px"};o.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}};t.exports=o},function(t,e){function i(t){if(t)return o(t)}function o(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i;i.prototype.on=i.prototype.addEventListener=function(t,e){this._callbacks=this._callbacks||{};(this._callbacks[t]=this._callbacks[t]||[]).push(e);return this};i.prototype.once=function(t,e){function i(){o.off(t,i);e.apply(this,arguments)}var o=this;this._callbacks=this._callbacks||{};i.fn=e;this.on(t,i);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var i=this._callbacks[t];if(!i)return this;if(1==arguments.length){delete this._callbacks[t];return this}for(var o,n=0;n<i.length;n++){o=i[n];if(o===e||o.fn===e){i.splice(n,1);break}}return this};i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var o=0,n=i.length;o<n;++o)i[o].apply(this,e)}return this};i.prototype.listeners=function(t){this._callbacks=this._callbacks||{};return this._callbacks[t]||[]};i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function i(t,e,i){this.x=void 0!==t?t:0;this.y=void 0!==e?e:0;this.z=void 0!==i?i:0}i.subtract=function(t,e){var o=new i;o.x=t.x-e.x;o.y=t.y-e.y;o.z=t.z-e.z;return o};i.add=function(t,e){var o=new i;o.x=t.x+e.x;o.y=t.y+e.y;o.z=t.z+e.z;return o};i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)};i.crossProduct=function(t,e){var o=new i;o.x=t.y*e.z-t.z*e.y;o.y=t.z*e.x-t.x*e.z;o.z=t.x*e.y-t.y*e.x;return o};i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};t.exports=i},function(t,e){function i(t,e){this.x=void 0!==t?t:0;this.y=void 0!==e?e:0}t.exports=i},function(t,e,i){function o(){this.armLocation=new n;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraLocation=new n;this.cameraRotation=new n(.5*Math.PI,0,0);this.calculateCameraOrientation()}var n=i(14);o.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t;this.armLocation.y=e;this.armLocation.z=i;this.calculateCameraOrientation()};o.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t);if(void 0!==e){this.armRotation.vertical=e;this.armRotation.vertical<0&&(this.armRotation.vertical=0);this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)}void 0===t&&void 0===e||this.calculateCameraOrientation()};o.prototype.getArmRotation=function(){var t={};t.horizontal=this.armRotation.horizontal;t.vertical=this.armRotation.vertical;return t};o.prototype.setArmLength=function(t){if(void 0!==t){this.armLength=t;this.armLength<.71&&(this.armLength=.71);this.armLength>5&&(this.armLength=5);this.calculateCameraOrientation()}};o.prototype.getArmLength=function(){return this.armLength};o.prototype.getCameraLocation=function(){return this.cameraLocation};o.prototype.getCameraRotation=function(){return this.cameraRotation};o.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal};t.exports=o},function(t,e,i){function o(t,e,i){this.data=t;this.column=e;this.graph=i;this.index=void 0;this.value=void 0;this.values=i.getDistinctValues(t.get(),this.column);this.values.sort(function(t,e){return t>e?1:t<e?-1:0});this.values.length>0&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;if(i.animationPreload){this.loaded=!1;this.loadInBackground()}else this.loaded=!0}var n=i(11);o.prototype.isLoaded=function(){return this.loaded};o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)};o.prototype.getLabel=function(){return this.graph.filterLabel};o.prototype.getColumn=function(){return this.column};o.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]};o.prototype.getValues=function(){return this.values};o.prototype.getValue=function(t){if(t>=this.values.length)throw"Error: index out of range";return this.values[t]};o.prototype._getDataPoints=function(t){void 0===t&&(t=this.index);if(void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column;i.value=this.values[t];var o=new n(this.data,{filter:function t(e){return e[i.column]==i.value}}).get();e=this.graph._getDataPoints(o);this.dataPoints[t]=e}return e};o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t};o.prototype.selectValue=function(t){if(t>=this.values.length)throw"Error: index out of range";this.index=t;this.value=this.values[t]};o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){var i=this._getDataPoints(t);if(void 0===e.progress){e.progress=document.createElement("DIV");e.progress.style.position="absolute";e.progress.style.color="gray";e.appendChild(e.progress)}var o=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+o+"%";e.progress.style.bottom=60+"px";e.progress.style.left=10+"px";var n=this;setTimeout(function(){n.loadInBackground(t+1)},10);this.loaded=!1}else{this.loaded=!0;if(void 0!==e.progress){e.removeChild(e.progress);e.progress=void 0}this.onLoadCallback&&this.onLoadCallback()}};t.exports=o},function(t,e,i){function o(t,e){if(void 0===t)throw"Error: No container element defined";this.container=t;this.visible=!e||void 0==e.visible||e.visible;if(this.visible){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)};this.frame.prev.onclick=function(t){i.prev(t)};this.frame.play.onclick=function(t){i.togglePlay(t)};this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0;this.values=[];this.index=void 0;this.playTimeout=void 0;this.playInterval=1e3;this.playLoop=!0}var n=i(1);o.prototype.prev=function(){var t=this.getIndex();if(t>0){t--;this.setIndex(t)}};o.prototype.next=function(){var t=this.getIndex();if(t<this.values.length-1){t++;this.setIndex(t)}};o.prototype.playNext=function(){var t=new Date,e=this.getIndex();if(e<this.values.length-1){e++;this.setIndex(e)}else if(this.playLoop){e=0;this.setIndex(e)}var i=new Date,o=i-t,n=Math.max(this.playInterval-o,0),s=this;this.playTimeout=setTimeout(function(){s.playNext()},n)};o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()};o.prototype.play=function(){if(!this.playTimeout){this.playNext();this.frame&&(this.frame.play.value="Stop")}};o.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t};o.prototype.setPlayInterval=function(t){this.playInterval=t};o.prototype.getPlayInterval=function(t){return this.playInterval};o.prototype.setPlayLoop=function(t){this.playLoop=t};o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()};o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}};o.prototype.setValues=function(t){this.values=t;this.values.length>0?this.setIndex(0):this.index=void 0};o.prototype.setIndex=function(t){if(!(t<this.values.length))throw"Error: index out of range";this.index=t;this.redraw();this.onChange()};o.prototype.getIndex=function(){return this.index};o.prototype.get=function(){return this.values[this.index]};o.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)};this.onmouseup=function(t){i._onMouseUp(t)};n.addEventListener(document,"mousemove",this.onmousemove);n.addEventListener(document,"mouseup",this.onmouseup);n.preventDefault(t)}};o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,o=Math.round(i/e*(this.values.length-1));o<0&&(o=0);o>this.values.length-1&&(o=this.values.length-1);return o};o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t/(this.values.length-1)*e,o=i+3;return o};o.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,o=this.leftToIndex(i);this.setIndex(o);n.preventDefault()};o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto";n.removeEventListener(document,"mousemove",this.onmousemove);n.removeEventListener(document,"mouseup",this.onmouseup);n.preventDefault()};t.exports=o},function(t,e){function i(t,e,i,o){this._start=0;this._end=0;this._step=1;this.prettyStep=!0;this.precision=5;this._current=0;this.setRange(t,e,i,o)}i.prototype.setRange=function(t,e,i,o){this._start=t?t:0;this._end=e?e:0;this.setStep(i,o)};i.prototype.setStep=function(t,e){if(!(void 0===t||t<=0)){void 0!==e&&(this.prettyStep=e);this.prettyStep===!0?this._step=i.calculatePrettyStep(t):this._step=t}};i.calculatePrettyStep=function(t){var e=function t(e){return Math.log(e)/Math.LN10},i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5))),s=i;Math.abs(o-t)<=Math.abs(s-t)&&(s=o);Math.abs(n-t)<=Math.abs(s-t)&&(s=n);s<=0&&(s=1);return s};i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};i.prototype.getStep=function(){return this._step};i.prototype.start=function(){this._current=this._start-this._start%this._step};i.prototype.next=function(){this._current+=this._step};i.prototype.end=function(){return this._current>this._end};t.exports=i},function(t,e,i){if("undefined"!==typeof window){var o=i(21),n=window["Hammer"]||i(22);t.exports=o(n,{preventDefault:"mouse"})}else t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var o,n,s;!function(i){0?"object"===typeof e?t.exports=i():window.propagating=i():!(n=[],o=i,s="function"===typeof o?o.apply(e,n):o,void 0!==s&&(t.exports=s))}(function(){var t=null;return function e(i,o){function n(t){return t.match(/[^ ]+/g)}function s(e){if("hammer.input"!==e.type){e.srcEvent._handled||(e.srcEvent._handled={});if(e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var o=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof o&&(e.srcEvent.stopPropagation=function(){o();e.stopPropagation()});e.firstTarget=t;for(var n=t;n&&!i;){var s=n.hammer;if(s)for(var r,a=0;a<s.length;a++){r=s[a]._handlers[e.type];if(r)for(var h=0;h<r.length&&!i;h++)r[h](e)}n=n.parentNode}}var r=o||{preventDefault:!1};if(i.Manager){var a=i,h=function(t,i){var o=Object.create(r);i&&a.assign(o,i);return e(new a(t,o),o)};a.assign(h,a);h.Manager=function(t,i){var o=Object.create(r);i&&a.assign(o,i);return e(new a.Manager(t,o),o)};return h}var d=Object.create(i),l=i.element;l.hammer||(l.hammer=[]);l.hammer.push(d);i.on("hammer.input",function(e){r.preventDefault!==!0&&r.preventDefault!==e.pointerType||e.preventDefault();e.isFirst&&(t=e.target)});d._handlers={};d.on=function(t,e){n(t).forEach(function(t){var o=d._handlers[t];if(!o){d._handlers[t]=o=[];i.on(t,s)}o.push(e)});return d};d.off=function(t,e){n(t).forEach(function(t){var o=d._handlers[t];if(o){o=e?o.filter(function(t){return t!==e}):[];if(o.length>0)d._handlers[t]=o;else{i.off(t,s);delete d._handlers[t]}}});return d};d.emit=function(e,o){t=o.target;i.emit(e,o)};d.destroy=function(){var t=i.element.hammer,e=t.indexOf(d);e!==-1&&t.splice(e,1);t.length||delete i.element.hammer;d._handlers={};i.destroy()};return d}})},function(t,e,i){var o;!function(n,s,r,a){function h(t,e,i){return setTimeout(p(t,i),e)}function d(t,e,i){if(Array.isArray(t)){l(t,i[e],i);return!0}return!1}function l(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a){o=0;for(;o<t.length;){e.call(i,t[o],o,t);o++}}else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function u(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=n.console&&(n.console.warn||n.console.log);s&&s.call(n.console,o,i);return t.apply(this,arguments)}}function c(t,e,i){var o=e.prototype,n;n=t.prototype=Object.create(o);n.constructor=t;n._super=o;i&&gt(n,i);
}function p(t,e){return function i(){return t.apply(e,arguments)}}function f(t,e){return typeof t==pt?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function v(t,e,i){l(w(e),function(e){t.addEventListener(e,i,!1)})}function g(t,e,i){l(w(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function _(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var o=[],n=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];_(n,r)<0&&o.push(t[s]);n[s]=r;s++}i&&(o=e?o.sort(function t(i,o){return i[e]>o[e]}):o.sort());return o}function O(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),s=0;s<ut.length;){i=ut[s];o=i?i+n:e;if(o in t)return o;s++}return a}function M(){return wt++}function S(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}function D(t,e){var i=this;this.manager=t;this.callback=e;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){f(t.options.enable,[t])&&i.handler(e)};this.init()}function C(t){var e,i=t.options.inputClass;e=i?i:kt?W:Ot?V:xt?q:H;return new e(t,T)}function T(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&Et&&o-n===0,r=e&(It|Nt)&&o-n===0;i.isFirst=!!s;i.isFinal=!!r;s&&(t.session={});i.eventType=e;E(t,i);t.emit("hammer.input",i);t.recognize(i);t.session.prevInput=i}function E(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=N(e));n>1&&!i.firstMultiple?i.firstMultiple=N(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,h=e.center=z(o);e.timeStamp=vt();e.deltaTime=e.timeStamp-s.timeStamp;e.angle=B(a,h);e.distance=A(a,h);P(i,e);e.offsetDirection=L(e.deltaX,e.deltaY);var d=R(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x;e.overallVelocityY=d.y;e.overallVelocity=mt(d.x)>mt(d.y)?d.x:d.y;e.scale=r?j(r.pointers,o):1;e.rotation=r?F(r.pointers,o):0;e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length;I(i,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target);e.target=l}function P(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};if(e.eventType===Et||s.eventType===It){n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0};o=t.offsetDelta={x:i.x,y:i.y}}e.deltaX=n.x+(i.x-o.x);e.deltaY=n.y+(i.y-o.y)}function I(t,e){var i=t.lastInterval||e,o=e.timeStamp-i.timeStamp,n,s,r,h;if(e.eventType!=Nt&&(o>Tt||i.velocity===a)){var d=e.deltaX-i.deltaX,l=e.deltaY-i.deltaY,u=R(o,d,l);s=u.x;r=u.y;n=mt(u.x)>mt(u.y)?u.x:u.y;h=L(d,l);t.lastInterval=e}else{n=i.velocity;s=i.velocityX;r=i.velocityY;h=i.direction}e.velocity=n;e.velocityX=s;e.velocityY=r;e.direction=h}function N(t){for(var e=[],i=0;i<t.pointers.length;){e[i]={clientX:ft(t.pointers[i].clientX),clientY:ft(t.pointers[i].clientY)};i++}return{timeStamp:vt(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:ft(t[0].clientX),y:ft(t[0].clientY)};for(var i=0,o=0,n=0;n<e;){i+=t[n].clientX;o+=t[n].clientY;n++}return{x:ft(i/e),y:ft(o/e)}}function R(t,e,i){return{x:e/t||0,y:i/t||0}}function L(t,e){return t===e?zt:mt(t)>=mt(e)?t<0?Rt:Lt:e<0?At:Bt}function A(t,e,i){i||(i=Wt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function B(t,e,i){i||(i=Wt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function F(t,e){return B(e[1],e[0],Yt)+B(t[1],t[0],Yt)}function j(t,e){return A(e[0],e[1],Yt)/A(t[0],t[1],Yt)}function H(){this.evEl=Vt;this.evWin=Ut;this.allow=!0;this.pressed=!1;D.apply(this,arguments)}function W(){this.evEl=Zt;this.evWin=Kt;D.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=Qt;this.evWin=$t;this.started=!1;D.apply(this,arguments)}function G(t,e){var i=x(t.touches),o=x(t.changedTouches);e&(It|Nt)&&(i=k(i.concat(o),"identifier",!0));return[i,o]}function V(){this.evTarget=ee;this.targetIds={};D.apply(this,arguments)}function U(t,e){var i=x(t.touches),o=this.targetIds;if(e&(Et|Pt)&&1===i.length){o[i[0].identifier]=!0;return[i,i]}var n,s,r=x(t.changedTouches),a=[],h=this.target;s=i.filter(function(t){return y(t.target,h)});if(e===Et){n=0;for(;n<s.length;){o[s[n].identifier]=!0;n++}}n=0;for(;n<r.length;){o[r[n].identifier]&&a.push(r[n]);e&(It|Nt)&&delete o[r[n].identifier];n++}if(a.length)return[k(s.concat(a),"identifier",!0),a]}function q(){D.apply(this,arguments);var t=p(this.handler,this);this.touch=new V(this.manager,t);this.mouse=new H(this.manager,t)}function X(t,e){this.manager=t;this.set(e)}function Z(t){if(b(t,ae))return ae;var e=b(t,he),i=b(t,de);return e&&i?ae:e||i?e?he:de:b(t,re)?re:se}function K(t){this.options=gt({},this.defaults,t||{});this.id=M();this.manager=null;this.options.enable=m(this.options.enable,!0);this.state=le;this.simultaneous={};this.requireFail=[]}function J(t){return t&me?"cancel":t&pe?"end":t&ce?"move":t&ue?"start":""}function Q(t){return t==Bt?"down":t==At?"up":t==Rt?"left":t==Lt?"right":""}function $(t,e){var i=e.manager;return i?i.get(t):t}function tt(){K.apply(this,arguments)}function et(){tt.apply(this,arguments);this.pX=null;this.pY=null}function it(){tt.apply(this,arguments)}function ot(){K.apply(this,arguments);this._timer=null;this._input=null}function nt(){tt.apply(this,arguments)}function st(){tt.apply(this,arguments)}function rt(){K.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}function at(t,e){e=e||{};e.recognizers=m(e.recognizers,at.defaults.preset);return new ht(t,e)}function ht(t,e){this.options=gt({},at.defaults,e||{});this.options.inputTarget=this.options.inputTarget||t;this.handlers={};this.session={};this.recognizers=[];this.element=t;this.input=C(this);this.touchAction=new X(this,this.options.touchAction);dt(this,!0);l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]);t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var i=t.element;i.style&&l(t.options.cssProps,function(t,o){i.style[O(i.style,o)]=e?t:""})}function lt(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0);i.gesture=e;e.target.dispatchEvent(i)}var ut=["","webkit","Moz","MS","ms","o"],ct=s.createElement("div"),pt="function",ft=Math.round,mt=Math.abs,vt=Date.now,gt;gt="function"!==typeof Object.assign?function t(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var n=arguments[o];if(n!==a&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])}return i}:Object.assign;var yt=u(function t(e,i,o){for(var n=Object.keys(i),s=0;s<n.length;){(!o||o&&e[n[s]]===a)&&(e[n[s]]=i[n[s]]);s++}return e},"extend","Use `assign`."),bt=u(function t(e,i){return yt(e,i,!0)},"merge","Use `assign`."),wt=1,_t=/mobile|tablet|ip(ad|hone|od)|android/i,xt="ontouchstart"in n,kt=O(n,"PointerEvent")!==a,Ot=xt&&_t.test(navigator.userAgent),Mt="touch",St="pen",Dt="mouse",Ct="kinect",Tt=25,Et=1,Pt=2,It=4,Nt=8,zt=1,Rt=2,Lt=4,At=8,Bt=16,Ft=Rt|Lt,jt=At|Bt,Ht=Ft|jt,Wt=["x","y"],Yt=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler);this.evTarget&&v(this.target,this.evTarget,this.domHandler);this.evWin&&v(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler);this.evTarget&&g(this.target,this.evTarget,this.domHandler);this.evWin&&g(S(this.element),this.evWin,this.domHandler)}};var Gt={mousedown:Et,mousemove:Pt,mouseup:It},Vt="mousedown",Ut="mousemove mouseup";c(H,D,{handler:function t(e){var i=Gt[e.type];i&Et&&0===e.button&&(this.pressed=!0);i&Pt&&1!==e.which&&(i=It);if(this.pressed&&this.allow){i&It&&(this.pressed=!1);this.callback(this.manager,i,{pointers:[e],changedPointers:[e],pointerType:Dt,srcEvent:e})}}});var qt={pointerdown:Et,pointermove:Pt,pointerup:It,pointercancel:Nt,pointerout:Nt},Xt={2:Mt,3:St,4:Dt,5:Ct},Zt="pointerdown",Kt="pointermove pointerup pointercancel";if(n.MSPointerEvent&&!n.PointerEvent){Zt="MSPointerDown";Kt="MSPointerMove MSPointerUp MSPointerCancel"}c(W,D,{handler:function t(e){var i=this.store,o=!1,n=e.type.toLowerCase().replace("ms",""),s=qt[n],r=Xt[e.pointerType]||e.pointerType,a=r==Mt,h=_(i,e.pointerId,"pointerId");if(s&Et&&(0===e.button||a)){if(h<0){i.push(e);h=i.length-1}}else s&(It|Nt)&&(o=!0);if(!(h<0)){i[h]=e;this.callback(this.manager,s,{pointers:i,changedPointers:[e],pointerType:r,srcEvent:e});o&&i.splice(h,1)}}});var Jt={touchstart:Et,touchmove:Pt,touchend:It,touchcancel:Nt},Qt="touchstart",$t="touchstart touchmove touchend touchcancel";c(Y,D,{handler:function t(e){var i=Jt[e.type];i===Et&&(this.started=!0);if(this.started){var o=G.call(this,e,i);i&(It|Nt)&&o[0].length-o[1].length===0&&(this.started=!1);this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:Mt,srcEvent:e})}}});var te={touchstart:Et,touchmove:Pt,touchend:It,touchcancel:Nt},ee="touchstart touchmove touchend touchcancel";c(V,D,{handler:function t(e){var i=te[e.type],o=U.call(this,e,i);o&&this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:Mt,srcEvent:e})}});c(q,D,{handler:function t(e,i,o){var n=o.pointerType==Mt,s=o.pointerType==Dt;if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;i&(It|Nt)&&(this.mouse.allow=!0);this.callback(e,i,o)},destroy:function t(){this.touch.destroy();this.mouse.destroy()}});var ie=O(ct.style,"touchAction"),oe=ie!==a,ne="compute",se="auto",re="manipulation",ae="none",he="pan-x",de="pan-y";X.prototype={set:function(t){t==ne&&(t=this.compute());oe&&this.manager.element.style&&(this.manager.element.style[ie]=t);this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];l(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))});return Z(t.join(" "))},preventDefaults:function(t){if(!oe){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var o=this.actions,n=b(o,ae),s=b(o,de),r=b(o,he);if(n){var a=1===t.pointers.length,h=t.distance<2,d=t.deltaTime<250;if(a&&h&&d)return}if(!r||!s)return n||s&&i&Ft||r&&i&jt?this.preventSrc(e):void 0}}},preventSrc:function(t){this.manager.session.prevented=!0;t.preventDefault()}};var le=1,ue=2,ce=4,pe=8,fe=pe,me=16,ve=32;K.prototype={defaults:{},set:function(t){gt(this.options,t);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;t=$(t,this);if(!e[t.id]){e[t.id]=t;t.recognizeWith(this)}return this},dropRecognizeWith:function(t){if(d(t,"dropRecognizeWith",this))return this;t=$(t,this);delete this.simultaneous[t.id];return this},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;t=$(t,this);if(_(e,t)===-1){e.push(t);t.requireFailure(this)}return this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=$(t,this);var e=_(this.requireFail,t);e>-1&&this.requireFail.splice(e,1);return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,o=this.state;o<pe&&e(i.options.event+J(o));e(i.options.event);t.additionalEvent&&e(t.additionalEvent);o>=pe&&e(i.options.event+J(o))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ve},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ve|le)))return!1;t++}return!0},recognize:function(t){var e=gt({},t);if(f(this.options.enable,[this,e])){this.state&(fe|me|ve)&&(this.state=le);this.state=this.process(e);this.state&(ue|ce|pe|me)&&this.tryEmit(e)}else{this.reset();this.state=ve}},process:function(t){},getTouchAction:function(){},reset:function(){}};c(tt,K,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(ue|ce),n=this.attrTest(t);return o&&(i&Nt||!n)?e|me:o||n?i&It?e|pe:e&ue?e|ce:ue:ve}});c(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];t&Ft&&e.push(de);t&jt&&e.push(he);return e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;if(!(n&e.direction))if(e.direction&Ft){n=0===s?zt:s<0?Rt:Lt;i=s!=this.pX;o=Math.abs(t.deltaX)}else{n=0===r?zt:r<0?At:Bt;i=r!=this.pY;o=Math.abs(t.deltaY)}t.direction=n;return i&&o>e.threshold&&n&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&ue||!(this.state&ue)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX;this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e);this._super.emit.call(this,t)}});c(it,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ue)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});c(ot,K,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[se]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;this._input=t;if(!o||!i||t.eventType&(It|Nt)&&!n)this.reset();else if(t.eventType&Et){this.reset();this._timer=h(function(){this.state=fe;this.tryEmit()},e.time,this)}else if(t.eventType&It)return fe;return ve},reset:function(){clearTimeout(this._timer)},emit:function(t){if(this.state===fe)if(t&&t.eventType&It)this.manager.emit(this.options.event+"up",t);else{this._input.timeStamp=vt();this.manager.emit(this.options.event,this._input)}}});c(nt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ue)}});c(st,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ft|jt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction,i;e&(Ft|jt)?i=t.overallVelocity:e&Ft?i=t.overallVelocityX:e&jt&&(i=t.overallVelocityY);return this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&mt(i)>this.options.velocity&&t.eventType&It},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t);this.manager.emit(this.options.event,t)}});c(rt,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[re]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;this.reset();if(t.eventType&Et&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=It)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp;this.pCenter=t.center;r&&s?this.count+=1:this.count=1;this._input=t;var a=this.count%e.taps;if(0===a){if(this.hasRequireFailures()){this._timer=h(function(){this.state=fe;this.tryEmit()},e.interval,this);return ue}return fe}}return ve},failTimeout:function(){this._timer=h(function(){this.state=ve},this.options.interval,this);return ve},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==fe){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});at.VERSION="2.0.6";at.defaults={domEvents:!1,touchAction:ne,enable:!0,inputTarget:null,inputClass:null,preset:[[nt,{enable:!1}],[it,{enable:!1},["rotate"]],[st,{direction:Ft}],[et,{direction:Ft},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ge=1,ye=2;ht.prototype={set:function(t){gt(this.options,t);t.touchAction&&this.touchAction.update();if(t.inputTarget){this.input.destroy();this.input.target=t.inputTarget;this.input.init()}return this},stop:function(t){this.session.stopped=t?ye:ge},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&fe)&&(n=e.curRecognizer=null);for(var s=0;s<o.length;){i=o[s];e.stopped===ye||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t);!n&&i.state&(ue|ce|pe)&&(n=e.curRecognizer=i);s++}}},get:function(t){if(t instanceof K)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);e&&this.remove(e);this.recognizers.push(t);t.manager=this;this.touchAction.update();return t},remove:function(t){if(d(t,"remove",this))return this;t=this.get(t);if(t){var e=this.recognizers,i=_(e,t);if(i!==-1){e.splice(i,1);this.touchAction.update()}}return this},on:function(t,e){var i=this.handlers;l(w(t),function(t){i[t]=i[t]||[];i[t].push(e)});return this},off:function(t,e){var i=this.handlers;l(w(t),function(t){e?i[t]&&i[t].splice(_(i[t],e),1):delete i[t]});return this},emit:function(t,e){this.options.domEvents&&lt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t;e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;){i[o](e);o++}}},destroy:function(){this.element&&dt(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};gt(at,{INPUT_START:Et,INPUT_MOVE:Pt,INPUT_END:It,INPUT_CANCEL:Nt,STATE_POSSIBLE:le,STATE_BEGAN:ue,STATE_CHANGED:ce,STATE_ENDED:pe,STATE_RECOGNIZED:fe,STATE_CANCELLED:me,STATE_FAILED:ve,DIRECTION_NONE:zt,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:Lt,DIRECTION_UP:At,DIRECTION_DOWN:Bt,DIRECTION_HORIZONTAL:Ft,DIRECTION_VERTICAL:jt,DIRECTION_ALL:Ht,Manager:ht,Input:D,TouchAction:X,TouchInput:V,MouseInput:H,PointerEventInput:W,TouchMouseInput:q,SingleTouchInput:Y,Recognizer:K,AttrRecognizer:tt,Tap:rt,Pan:et,Swipe:st,Pinch:it,Rotate:nt,Press:ot,on:v,off:g,each:l,merge:bt,extend:yt,assign:gt,inherit:c,bindFn:p,prefixed:O});var be="undefined"!==typeof n?n:"undefined"!==typeof self?self:{};be.Hammer=at;0?"undefined"!=typeof t&&t.exports?t.exports=at:n[r]=at:!(o=function(){return at}.call(e,i,e,t),o!==a&&(t.exports=o))}(window,document,"Hammer")},function(t,e,i){var o,n,s;!function(i,r){0?"object"===typeof e?t.exports=r():i.keycharm=r():!(n=[],o=r,s="function"===typeof o?o.apply(e,n):o,void 0!==s&&(t.exports=s))}(this,function(){function t(t){var e=t&&t.preventDefault||!1,i=t&&t.container||window,o={},n={keydown:{},keyup:{}},s={},r;for(r=97;r<=122;r++)s[String.fromCharCode(r)]={code:65+(r-97),shift:!1};for(r=65;r<=90;r++)s[String.fromCharCode(r)]={code:r,shift:!0};for(r=0;r<=9;r++)s[""+r]={code:48+r,shift:!1};for(r=1;r<=12;r++)s["F"+r]={code:111+r,shift:!1};for(r=0;r<=9;r++)s["num"+r]={code:96+r,shift:!1};s["num*"]={code:106,shift:!1};s["num+"]={code:107,shift:!1};s["num-"]={code:109,shift:!1};s["num/"]={code:111,shift:!1};s["num."]={code:110,shift:!1};s["left"]={code:37,shift:!1};s["up"]={code:38,shift:!1};s["right"]={code:39,shift:!1};s["down"]={code:40,shift:!1};s["space"]={code:32,shift:!1};s["enter"]={code:13,shift:!1};s["shift"]={code:16,shift:void 0};s["esc"]={code:27,shift:!1};s["backspace"]={code:8,shift:!1};s["tab"]={code:9,shift:!1};s["ctrl"]={code:17,shift:!1};s["alt"]={code:18,shift:!1};s["delete"]={code:46,shift:!1};s["pageup"]={code:33,shift:!1};s["pagedown"]={code:34,shift:!1};s["="]={code:187,shift:!1};s["-"]={code:189,shift:!1};s["]"]={code:221,shift:!1};s["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,i){if(void 0!==n[i][t.keyCode]){for(var o=n[i][t.keyCode],s=0;s<o.length;s++)void 0===o[s].shift?o[s].fn(t):1==o[s].shift&&1==t.shiftKey?o[s].fn(t):0==o[s].shift&&0==t.shiftKey&&o[s].fn(t);1==e&&t.preventDefault()}};o.bind=function(t,e,i){void 0===i&&(i="keydown");if(void 0===s[t])throw new Error("unsupported key: "+t);void 0===n[i][s[t].code]&&(n[i][s[t].code]=[]);n[i][s[t].code].push({fn:e,shift:s[t].shift})};o.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in s)s.hasOwnProperty(i)&&o.bind(i,t,e)};o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"};o.unbind=function(t,e,i){void 0===i&&(i="keydown");if(void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],r=n[i][s[t].code];if(void 0!==r)for(var a=0;a<r.length;a++)r[a].fn==e&&r[a].shift==s[t].shift||o.push(n[i][s[t].code][a]);n[i][s[t].code]=o}else n[i][s[t].code]=[]};o.reset=function(){n={keydown:{},keyup:{}}};o.destroy=function(){n={keydown:{},keyup:{}};i.removeEventListener("keydown",a,!0);i.removeEventListener("keyup",h,!0)};i.addEventListener("keydown",a,!0);i.addEventListener("keyup",h,!0);return o}return t})},function(t,e,i){e.util=i(1);e.DOMutil=i(8);e.DataSet=i(9);e.DataView=i(11);e.Queue=i(10);e.Timeline=i(25);e.Graph2d=i(50);e.timeline={Core:i(33),DateUtil:i(32),Range:i(30),stack:i(37),TimeStep:i(35),components:{items:{Item:i(39),BackgroundItem:i(43),BoxItem:i(41),PointItem:i(42),RangeItem:i(38)},BackgroundGroup:i(40),Component:i(31),CurrentTime:i(48),CustomTime:i(46),DataAxis:i(52),DataScale:i(53),GraphGroup:i(54),Group:i(36),ItemSet:i(34),Legend:i(58),LineGraph:i(51),TimeAxis:i(44)}};e.moment=i(2);e.Hammer=i(20);e.keycharm=i(23)},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof p||i instanceof f)&&i instanceof Object){var s=o;o=i;i=s}var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,throttleRedraw:0,orientation:{axis:"bottom",item:"bottom"},rtl:!1,moment:u,width:null,height:null,maxHeight:null,minHeight:null};this.options=c.deepExtend({},this.defaultOptions);this._create(t);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function t(){return r.timeAxis.step.scale},getStep:function t(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}};this.range=new m(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new g(this.body);this.timeAxis2=null;this.components.push(this.timeAxis);this.currentTime=new y(this.body);this.components.push(this.currentTime);this.itemSet=new w(this.body,this.options);this.components.push(this.itemSet);this.itemsData=null;this.groupsData=null;this.on("tap",function(t){r.emit("click",r.getEventProperties(t))});this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))});this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))};this.fitDone=!1;this.on("changed",function(){if(null!=this.itemsData&&!r.fitDone){r.fitDone=!0;if(void 0!=r.options.start||void 0!=r.options.end){if(void 0==r.options.start||void 0==r.options.end)var t=r.getItemRange();var e=void 0!=r.options.start?r.options.start:t.min,i=void 0!=r.options.end?r.options.end:t.max;r.setWindow(e,i,{animation:!1})}else r.fit({animation:!1})}});o&&this.setOptions(o);i&&this.setGroups(i);e&&this.setItems(e);this._redraw()}var s=i(26),r=o(s),a=i(29),h=o(a),d=i(13),l=i(20),u=i(2),c=i(1),p=i(9),f=i(11),m=i(30),v=i(33),g=i(44),y=i(48),b=i(46),w=i(34),_=i(29).printStyle,x=i(49).allOptions,k=i(49).configureOptions;n.prototype=new v;n.prototype._createConfigurator=function(){return new r.default(this,this.dom.container,k)};n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0});this._redraw()};n.prototype.setOptions=function(t){var e=h.default.validate(t,x);e===!0&&console.log("%cErrors have been found in the supplied options object.",_);v.prototype.setOptions.call(this,t);if("type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var o=this.getSelection();this.setItems(null);this.setItems(i);this.setSelection(o)}}};n.prototype.setItems=function(t){var e;e=t?t instanceof p||t instanceof f?t:new p(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=e;this.itemSet&&this.itemSet.setItems(e)};n.prototype.setGroups=function(t){var e;e=t?t instanceof p||t instanceof f?t:new p(t):null;this.groupsData=e;this.itemSet.setGroups(e)};n.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups);t&&t.items&&this.setItems(t.items)};n.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t);e&&e.focus&&this.focus(t,e)};n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};n.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],o=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),n=null,s=null;o.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===n||e<n)&&(n=e);(null===s||i>s)&&(s=i)});if(null!==n&&null!==s){var r=(n+s)/2,a=Math.max(this.range.end-this.range.start,1.1*(s-n)),h=!e||void 0===e.animation||e.animation;this.range.setRange(r-a/2,r+a/2,h)}}};n.prototype.fit=function(t){var e=!t||void 0===t.animation||t.animation,i,o=this.itemsData&&this.itemsData.getDataSet();if(1===o.length&&void 0===o.get()[0].end){i=this.getDataRange();this.moveTo(i.min.valueOf(),{animation:e})}else{i=this.getItemRange();this.range.setRange(i.min,i.max,e)}};n.prototype.getItemRange=function(){var t=this,e=this.getDataRange(),i=null!==e.min?e.min.valueOf():null,o=null!==e.max?e.max.valueOf():null,n=null,s=null;if(null!=i&&null!=o){var r,a,h,d,l;!function(){var e=function t(e){return c.convert(e.data.start,"Date").valueOf()},u=function t(e){var i=void 0!=e.data.end?e.data.end:e.data.start;return c.convert(i,"Date").valueOf()};r=o-i;r<=0&&(r=10);a=r/t.props.center.width;c.forEach(t.itemSet.items,function(t){t.show();t.repositionX();var r=e(t),h=u(t);if(this.options.rtl)var d=r-(t.getWidthRight()+10)*a,l=h+(t.getWidthLeft()+10)*a;else var d=r-(t.getWidthLeft()+10)*a,l=h+(t.getWidthRight()+10)*a;if(d<i){i=d;n=t}if(l>o){o=l;s=t}}.bind(t));if(n&&s){h=n.getWidthLeft()+10;d=s.getWidthRight()+10;l=t.props.center.width-h-d;if(l>0)if(t.options.rtl){i=e(n)-d*r/l;o=u(s)+h*r/l}else{i=e(n)-h*r/l;o=u(s)+d*r/l}}}()}return{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}};n.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();i&&i.forEach(function(i){var o=c.convert(i.start,"Date").valueOf(),n=c.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||o<t)&&(t=o);(null===e||n>e)&&(e=n)});return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}};n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;if(this.options.rtl)var o=c.getAbsoluteRight(this.dom.centerContainer)-e;else var o=e-c.getAbsoluteLeft(this.dom.centerContainer);var n=i-c.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),r=this.itemSet.groupFromTarget(t),a=b.customTimeFromTarget(t),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),l=this.body.util.getStep(),u=this._toTime(o),p=h?h(u,d,l):u,f=c.getTarget(t),m=null;null!=s?m="item":null!=a?m="custom-time":c.hasParent(f,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&c.hasParent(f,this.timeAxis2.dom.foreground)?m="axis":c.hasParent(f,this.itemSet.dom.labelSet)?m="group-label":c.hasParent(f,this.currentTime.bar)?m="current-time":c.hasParent(f,this.dom.center)&&(m="background");return{event:t,item:s?s.id:null,group:r?r.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:u,snappedTime:p}};t.exports=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),a=i(27),h=o(a),d=i(1),l=function(){function t(e,i,o){var s=arguments.length<=3||void 0===arguments[3]?1:arguments[3];n(this,t);this.parent=e;this.changedOptions=[];this.container=i;this.allowCreation=!1;this.options={};this.initialized=!1;this.popupCounter=0;this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0};d.extend(this.options,this.defaultOptions);this.configureOptions=o;this.moduleOptions={};this.domElements=[];this.popupDiv={};this.popupLimit=5;this.popupHistory={};this.colorPicker=new h.default(s);this.wrapper=void 0}r(t,[{key:"setOptions",value:function t(e){if(void 0!==e){this.popupHistory={};this._removePopup();var i=!0;if("string"===typeof e)this.options.filter=e;else if(e instanceof Array)this.options.filter=e.join();else if("object"===("undefined"===typeof e?"undefined":s(e))){void 0!==e.container&&(this.options.container=e.container);void 0!==e.filter&&(this.options.filter=e.filter);void 0!==e.showButton&&(this.options.showButton=e.showButton);void 0!==e.enabled&&(i=e.enabled)}else if("boolean"===typeof e){this.options.filter=!0;i=e}else if("function"===typeof e){this.options.filter=e;i=!0}this.options.filter===!1&&(i=!1);this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function t(e){this.moduleOptions=e;if(this.options.enabled===!0){this._clean();void 0!==this.options.container&&(this.container=this.options.container);this._create()}}},{key:"_create",value:function t(){var e=this;this._clean();this.changedOptions=[];var i=this.options.filter,o=0,n=!1;for(var s in this.configureOptions)if(this.configureOptions.hasOwnProperty(s)){this.allowCreation=!1;n=!1;if("function"===typeof i){n=i(s,[]);n=n||this._handleObject(this.configureOptions[s],[s],!0)}else i!==!0&&i.indexOf(s)===-1||(n=!0);if(n!==!1){this.allowCreation=!0;o>0&&this._makeItem([]);this._makeHeader(s);this._handleObject(this.configureOptions[s],[s])}o++}this.options.showButton===!0&&!function(){var t=document.createElement("div");t.className="vis-configuration vis-config-button";t.innerHTML="generate options";t.onclick=function(){e._printOptions()};t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"};t.onmouseout=function(){t.className="vis-configuration vis-config-button"};e.optionsContainer=document.createElement("div");e.optionsContainer.className="vis-configuration vis-config-option-container";e.domElements.push(e.optionsContainer);e.domElements.push(t)}();this._push()}},{key:"_push",value:function t(){this.wrapper=document.createElement("div");this.wrapper.className="vis-configuration-wrapper";this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function t(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);
if(void 0!==this.wrapper){this.container.removeChild(this.wrapper);this.wrapper=void 0}this.domElements=[];this._removePopup()}},{key:"_getValue",value:function t(e){for(var i=this.moduleOptions,o=0;o<e.length;o++){if(void 0===i[e[o]]){i=void 0;break}i=i[e[o]]}return i}},{key:"_makeItem",value:function t(e){var i=arguments,o=this;if(this.allowCreation===!0){var n,r,a,h=function(){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(n=i.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];r.forEach(function(e){t.appendChild(e)});o.domElements.push(t);return{v:o.domElements.length}}();if("object"===("undefined"===typeof h?"undefined":s(h)))return h.v}return 0}},{key:"_makeHeader",value:function t(e){var i=document.createElement("div");i.className="vis-configuration vis-config-header";i.innerHTML=e;this._makeItem([],i)}},{key:"_makeLabel",value:function t(e,i){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=document.createElement("div");n.className="vis-configuration vis-config-label vis-config-s"+i.length;o===!0?n.innerHTML="<i><b>"+e+":</b></i>":n.innerHTML=e+":";return n}},{key:"_makeDropdown",value:function t(e,i,o){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var s=0;void 0!==i&&e.indexOf(i)!==-1&&(s=e.indexOf(i));for(var r=0;r<e.length;r++){var a=document.createElement("option");a.value=e[r];r===s&&(a.selected="selected");a.innerHTML=e[r];n.appendChild(a)}var h=this;n.onchange=function(){h._update(this.value,o)};var d=this._makeLabel(o[o.length-1],o);this._makeItem(o,d,n)}},{key:"_makeRange",value:function t(e,i,o){var n=e[0],s=e[1],r=e[2],a=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range";h.min=s;h.max=r}catch(t){}h.step=a;var d="",l=0;if(void 0!==i){var u=1.2;if(i<0&&i*u<s){h.min=Math.ceil(i*u);l=h.min;d="range increased"}else if(i/u<s){h.min=Math.ceil(i/u);l=h.min;d="range increased"}if(i*u>r&&1!==r){h.max=Math.ceil(i*u);l=h.max;d="range increased"}h.value=i}else h.value=n;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput";c.value=h.value;var p=this;h.onchange=function(){c.value=this.value;p._update(Number(this.value),o)};h.oninput=function(){c.value=this.value};var f=this._makeLabel(o[o.length-1],o),m=this._makeItem(o,f,h,c);if(""!==d&&this.popupHistory[m]!==l){this.popupHistory[m]=l;this._setupPopup(d,m)}}},{key:"_setupPopup",value:function t(e,i){var o=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup";n.className="vis-configuration-popup";n.innerHTML=e;n.onclick=function(){o._removePopup()};this.popupCounter+=1;this.popupDiv={html:n,index:i}}}},{key:"_removePopup",value:function t(){if(void 0!==this.popupDiv.html){this.popupDiv.html.parentNode.removeChild(this.popupDiv.html);clearTimeout(this.popupDiv.hideTimeout);clearTimeout(this.popupDiv.deleteTimeout);this.popupDiv={}}}},{key:"_showPopupIfNeeded",value:function t(){var e=this;if(void 0!==this.popupDiv.html){var i=this.domElements[this.popupDiv.index],o=i.getBoundingClientRect();this.popupDiv.html.style.left=o.left+"px";this.popupDiv.html.style.top=o.top-30+"px";document.body.appendChild(this.popupDiv.html);this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500);this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function t(e,i,o){var n=document.createElement("input");n.type="checkbox";n.className="vis-configuration vis-config-checkbox";n.checked=e;if(void 0!==i){n.checked=i;i!==e&&("object"===("undefined"===typeof e?"undefined":s(e))?i!==e.enabled&&this.changedOptions.push({path:o,value:i}):this.changedOptions.push({path:o,value:i}))}var r=this;n.onchange=function(){r._update(this.checked,o)};var a=this._makeLabel(o[o.length-1],o);this._makeItem(o,a,n)}},{key:"_makeTextInput",value:function t(e,i,o){var n=document.createElement("input");n.type="text";n.className="vis-configuration vis-config-text";n.value=i;i!==e&&this.changedOptions.push({path:o,value:i});var s=this;n.onchange=function(){s._update(this.value,o)};var r=this._makeLabel(o[o.length-1],o);this._makeItem(o,r,n)}},{key:"_makeColorField",value:function t(e,i,o){var n=this,s=e[1],r=document.createElement("div");i=void 0===i?s:i;if("none"!==i){r.className="vis-configuration vis-config-colorBlock";r.style.backgroundColor=i}else r.className="vis-configuration vis-config-colorBlock none";i=void 0===i?s:i;r.onclick=function(){n._showColorPicker(i,r,o)};var a=this._makeLabel(o[o.length-1],o);this._makeItem(o,a,r)}},{key:"_showColorPicker",value:function t(e,i,o){var n=this;i.onclick=function(){};this.colorPicker.insertTo(i);this.colorPicker.show();this.colorPicker.setColor(e);this.colorPicker.setUpdateCallback(function(t){var e="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";i.style.backgroundColor=e;n._update(e,o)});this.colorPicker.setCloseCallback(function(){i.onclick=function(){n._showColorPicker(e,i,o)}})}},{key:"_handleObject",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=!1,s=this.options.filter,r=!1;for(var a in e)if(e.hasOwnProperty(a)){n=!0;var h=e[a],l=d.copyAndExtendArray(i,a);if("function"===typeof s){n=s(a,i);if(n===!1&&!(h instanceof Array)&&"string"!==typeof h&&"boolean"!==typeof h&&h instanceof Object){this.allowCreation=!1;n=this._handleObject(h,l,!0);this.allowCreation=o===!1}}if(n!==!1){r=!0;var u=this._getValue(l);if(h instanceof Array)this._handleArray(h,u,l);else if("string"===typeof h)this._makeTextInput(h,u,l);else if("boolean"===typeof h)this._makeCheckbox(h,u,l);else if(h instanceof Object){var c=!0;i.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==a&&(c=!1);if(c===!0)if(void 0!==h.enabled){var p=d.copyAndExtendArray(l,"enabled"),f=this._getValue(p);if(f===!0){var m=this._makeLabel(a,l,!0);this._makeItem(l,m);r=this._handleObject(h,l)||r}else this._makeCheckbox(h,f,l)}else{var v=this._makeLabel(a,l,!0);this._makeItem(l,v);r=this._handleObject(h,l)||r}}else console.error("dont know how to handle",h,a,l)}}return r}},{key:"_handleArray",value:function t(e,i,o){if("string"===typeof e[0]&&"color"===e[0]){this._makeColorField(e,i,o);e[1]!==i&&this.changedOptions.push({path:o,value:i})}else if("string"===typeof e[0]){this._makeDropdown(e,i,o);e[0]!==i&&this.changedOptions.push({path:o,value:i})}else if("number"===typeof e[0]){this._makeRange(e,i,o);e[0]!==i&&this.changedOptions.push({path:o,value:Number(i)})}}},{key:"_update",value:function t(e,i){var o=this._constructOptions(e,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",o);this.initialized=!0;this.parent.setOptions(o)}},{key:"_constructOptions",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=o;e="true"===e||e;e="false"!==e&&e;for(var s=0;s<i.length;s++)if("global"!==i[s]){void 0===n[i[s]]&&(n[i[s]]={});s!==i.length-1?n=n[i[s]]:n[i[s]]=e}return o}},{key:"_printOptions",value:function t(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}},{key:"getOptions",value:function t(){for(var e={},i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,e);return e}}]);return t}();e.default=l},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),s=i(20),r=i(28),a=i(1),h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];o(this,t);this.pixelRatio=e;this.generated=!1;this.centerCoordinates={x:289/2,y:289/2};this.r=289*.49;this.color={r:255,g:255,b:255,a:1};this.hueCircle=void 0;this.initialColor={r:255,g:255,b:255,a:1};this.previousColor=void 0;this.applied=!1;this.updateCallback=function(){};this.closeCallback=function(){};this._create()}n(t,[{key:"insertTo",value:function t(e){if(void 0!==this.hammer){this.hammer.destroy();this.hammer=void 0}this.container=e;this.container.appendChild(this.frame);this._bindHammer();this._setSize()}},{key:"setUpdateCallback",value:function t(e){if("function"!==typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function t(e){if("function"!==typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function t(e){var i={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"===typeof e)return i[e]}},{key:"setColor",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];if("none"!==e){var o=void 0,n=this._isColorString(e);void 0!==n&&(e=n);if(a.isString(e)===!0){if(a.isValidRGB(e)===!0){var s=e.substr(4).substr(0,e.length-5).split(",");o={r:s[0],g:s[1],b:s[2],a:1}}else if(a.isValidRGBA(e)===!0){var r=e.substr(5).substr(0,e.length-6).split(",");o={r:r[0],g:r[1],b:r[2],a:r[3]}}else if(a.isValidHex(e)===!0){var h=a.hexToRGB(e);o={r:h.r,g:h.g,b:h.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var d=void 0!==e.a?e.a:"1.0";o={r:e.r,g:e.g,b:e.b,a:d}}if(void 0===o)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(o,i)}}},{key:"show",value:function t(){if(void 0!==this.closeCallback){this.closeCallback();this.closeCallback=void 0}this.applied=!1;this.frame.style.display="block";this._generateHueCircle()}},{key:"_hide",value:function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]||arguments[0];i===!0&&(this.previousColor=a.extend({},this.color));this.applied===!0&&this.updateCallback(this.initialColor);this.frame.style.display="none";setTimeout(function(){if(void 0!==e.closeCallback){e.closeCallback();e.closeCallback=void 0}},0)}},{key:"_save",value:function t(){this.updateCallback(this.color);this.applied=!1;this._hide()}},{key:"_apply",value:function t(){this.applied=!0;this.updateCallback(this.color);this._updatePicker(this.color)}},{key:"_loadLast",value:function t(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];i===!0&&(this.initialColor=a.extend({},e));this.color=e;var o=a.RGBToHSV(e.r,e.g,e.b),n=2*Math.PI,s=this.r*o.s,r=this.centerCoordinates.x+s*Math.sin(n*o.h),h=this.centerCoordinates.y+s*Math.cos(n*o.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px";this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px";this._updatePicker(e)}},{key:"_setOpacity",value:function t(e){this.color.a=e/100;this._updatePicker(this.color)}},{key:"_setBrightness",value:function t(e){var i=a.RGBToHSV(this.color.r,this.color.g,this.color.b);i.v=e/100;var o=a.HSVToRGB(i.h,i.s,i.v);o["a"]=this.color.a;this.color=o;this._updatePicker()}},{key:"_updatePicker",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?this.color:arguments[0],i=a.RGBToHSV(e.r,e.g,e.b),o=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1));o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;o.clearRect(0,0,n,s);o.putImageData(this.hueCircle,0,0);o.fillStyle="rgba(0,0,0,"+(1-i.v)+")";o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);o.fill();this.brightnessRange.value=100*i.v;this.opacityRange.value=100*e.a;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function t(){this.colorPickerCanvas.style.width="100%";this.colorPickerCanvas.style.height="100%";this.colorPickerCanvas.width=289*this.pixelRatio;this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function t(){this.frame=document.createElement("div");this.frame.className="vis-color-picker";this.colorPickerDiv=document.createElement("div");this.colorPickerSelector=document.createElement("div");this.colorPickerSelector.className="vis-selector";this.colorPickerDiv.appendChild(this.colorPickerSelector);this.colorPickerCanvas=document.createElement("canvas");this.colorPickerDiv.appendChild(this.colorPickerCanvas);if(this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var i=document.createElement("DIV");i.style.color="red";i.style.fontWeight="bold";i.style.padding="10px";i.innerHTML="Error: your browser does not support HTML canvas";this.colorPickerCanvas.appendChild(i)}this.colorPickerDiv.className="vis-color";this.opacityDiv=document.createElement("div");this.opacityDiv.className="vis-opacity";this.brightnessDiv=document.createElement("div");this.brightnessDiv.className="vis-brightness";this.arrowDiv=document.createElement("div");this.arrowDiv.className="vis-arrow";this.opacityRange=document.createElement("input");try{this.opacityRange.type="range";this.opacityRange.min="0";this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100";this.opacityRange.className="vis-range";this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range";this.brightnessRange.min="0";this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100";this.brightnessRange.className="vis-range";this.opacityDiv.appendChild(this.opacityRange);this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)};this.opacityRange.oninput=function(){o._setOpacity(this.value)};this.brightnessRange.onchange=function(){o._setBrightness(this.value)};this.brightnessRange.oninput=function(){o._setBrightness(this.value)};this.brightnessLabel=document.createElement("div");this.brightnessLabel.className="vis-label vis-brightness";this.brightnessLabel.innerHTML="brightness:";this.opacityLabel=document.createElement("div");this.opacityLabel.className="vis-label vis-opacity";this.opacityLabel.innerHTML="opacity:";this.newColorDiv=document.createElement("div");this.newColorDiv.className="vis-new-color";this.newColorDiv.innerHTML="new";this.initialColorDiv=document.createElement("div");this.initialColorDiv.className="vis-initial-color";this.initialColorDiv.innerHTML="initial";this.cancelButton=document.createElement("div");this.cancelButton.className="vis-button vis-cancel";this.cancelButton.innerHTML="cancel";this.cancelButton.onclick=this._hide.bind(this,!1);this.applyButton=document.createElement("div");this.applyButton.className="vis-button vis-apply";this.applyButton.innerHTML="apply";this.applyButton.onclick=this._apply.bind(this);this.saveButton=document.createElement("div");this.saveButton.className="vis-button vis-save";this.saveButton.innerHTML="save";this.saveButton.onclick=this._save.bind(this);this.loadButton=document.createElement("div");this.loadButton.className="vis-button vis-load";this.loadButton.innerHTML="load last";this.loadButton.onclick=this._loadLast.bind(this);this.frame.appendChild(this.colorPickerDiv);this.frame.appendChild(this.arrowDiv);this.frame.appendChild(this.brightnessLabel);this.frame.appendChild(this.brightnessDiv);this.frame.appendChild(this.opacityLabel);this.frame.appendChild(this.opacityDiv);this.frame.appendChild(this.newColorDiv);this.frame.appendChild(this.initialColorDiv);this.frame.appendChild(this.cancelButton);this.frame.appendChild(this.applyButton);this.frame.appendChild(this.saveButton);this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function t(){var e=this;this.drag={};this.pinch={};this.hammer=new s(this.colorPickerCanvas);this.hammer.get("pinch").set({enable:!0});r.onTouch(this.hammer,function(t){e._moveSelector(t)});this.hammer.on("tap",function(t){e._moveSelector(t)});this.hammer.on("panstart",function(t){e._moveSelector(t)});this.hammer.on("panmove",function(t){e._moveSelector(t)});this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function t(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1));e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,i,o);var n=void 0,s=void 0,r=void 0,h=void 0;this.centerCoordinates={x:.5*i,y:.5*o};this.r=.49*i;var d=2*Math.PI/360,l=1/360,u=1/this.r,c=void 0;for(r=0;r<360;r++)for(h=0;h<this.r;h++){n=this.centerCoordinates.x+h*Math.sin(d*r);s=this.centerCoordinates.y+h*Math.cos(d*r);c=a.HSVToRGB(r*l,h*u,1);e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")";e.fillRect(n-.5,s-.5,2,2)}e.strokeStyle="rgba(0,0,0,1)";e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);e.stroke();this.hueCircle=e.getImageData(0,0,i,o)}this.generated=!0}},{key:"_moveSelector",value:function t(e){var i=this.colorPickerDiv.getBoundingClientRect(),o=e.center.x-i.left,n=e.center.y-i.top,s=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,h=o-r,d=n-s,l=Math.atan2(h,d),u=.98*Math.min(Math.sqrt(h*h+d*d),r),c=Math.cos(l)*u+s,p=Math.sin(l)*u+r;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px";this.colorPickerSelector.style.left=p-.5*this.colorPickerSelector.clientWidth+"px";var f=l/(2*Math.PI);f=f<0?f+1:f;var m=u/this.r,v=a.RGBToHSV(this.color.r,this.color.g,this.color.b);v.h=f;v.s=m;var g=a.HSVToRGB(v.h,v.s,v.v);g["a"]=this.color.a;this.color=g;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]);return t}();e.default=h},function(t,e,i){var o=i(20);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)};t.on("hammer.input",e.inputHandler)};e.onRelease=function(t,e){e.inputHandler=function(t){t.isFinal&&e(t)};return t.on("hammer.input",e.inputHandler)};e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)};e.offRelease=e.offTouch;e.disablePreventDefaultVertically=function(t){var e="pan-y";t.getTouchAction=function(){return[e]};return t}},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(1),a=!1,h=void 0,d="background: #FFeeee; color: #dd0000",l=function(){function t(){o(this,t)}s(t,null,[{key:"validate",value:function e(i,o,n){a=!1;h=o;var s=o;void 0!==n&&(s=o[n]);t.parse(i,s,[]);return a}},{key:"parse",value:function e(i,o,n){for(var s in i)i.hasOwnProperty(s)&&t.check(s,i,o,n)}},{key:"check",value:function e(i,o,n,s){void 0===n[i]&&void 0===n.__any__?t.getSuggestion(i,n,s):void 0===n[i]&&void 0!==n.__any__?"object"===t.getType(o[i])&&void 0!==n["__any__"].__type__?t.checkFields(i,o,n,"__any__",n["__any__"].__type__,s):t.checkFields(i,o,n,"__any__",n["__any__"],s):void 0!==n[i].__type__?t.checkFields(i,o,n,i,n[i].__type__,s):t.checkFields(i,o,n,i,n[i],s)}},{key:"checkFields",value:function e(i,o,n,s,h,l){var u=t.getType(o[i]),c=h[u];if(void 0!==c){if("array"===t.getType(c)){if(c.indexOf(o[i])===-1){console.log('%cInvalid option detected in "'+i+'".'+" Allowed values are:"+t.print(c)+' not "'+o[i]+'". '+t.printLocation(l,i),d);a=!0}else if("object"===u&&"__any__"!==s){l=r.copyAndExtendArray(l,i);t.parse(o[i],n[s],l)}}else if("object"===u&&"__any__"!==s){l=r.copyAndExtendArray(l,i);t.parse(o[i],n[s],l)}}else if(void 0===h["any"]){console.log('%cInvalid type received for "'+i+'". Expected: '+t.print(Object.keys(h))+". Received ["+u+'] "'+o[i]+'"'+t.printLocation(l,i),d);a=!0}}},{key:"getType",value:function t(e){var i="undefined"===typeof e?"undefined":n(e);return"object"===i?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":e._isAMomentObject===!0?"moment":"object":"number"===i?"number":"boolean"===i?"boolean":"string"===i?"string":void 0===i?"undefined":i}},{key:"getSuggestion",value:function e(i,o,n){var s=t.findInOptions(i,o,n,!1),r=t.findInOptions(i,h,[],!0),l=8,u=4;void 0!==s.indexMatch?console.log('%cUnknown option detected: "'+i+'" in '+t.printLocation(s.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+s.indexMatch+'"?\n\n',d):r.distance<=u&&s.distance>r.distance?console.log('%cUnknown option detected: "'+i+'" in '+t.printLocation(s.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(r.path,r.closestMatch,""),d):s.distance<=l?console.log('%cUnknown option detected: "'+i+'". Did you mean "'+s.closestMatch+'"?'+t.printLocation(s.path,i),d):console.log('%cUnknown option detected: "'+i+'". Did you mean one of these: '+t.print(Object.keys(o))+t.printLocation(n,i),d);a=!0}},{key:"findInOptions",value:function e(i,o,n){var s=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],a=1e9,h="",d=[],l=i.toLowerCase(),u=void 0;for(var c in o){var p=void 0;if(void 0!==o[c].__type__&&s===!0){var f=t.findInOptions(i,o[c],r.copyAndExtendArray(n,c));if(a>f.distance){h=f.closestMatch;d=f.path;a=f.distance;u=f.indexMatch}}else{c.toLowerCase().indexOf(l)!==-1&&(u=c);p=t.levenshteinDistance(i,c);if(a>p){h=c;d=r.copyArray(n);a=p}}}return{closestMatch:h,path:d,distance:a,indexMatch:u}}},{key:"printLocation",value:function t(e,i){for(var o=arguments.length<=2||void 0===arguments[2]?"Problem value found at: \n":arguments[2],n="\n\n"+o+"options = {\n",s=0;s<e.length;s++){for(var r=0;r<s+1;r++)n+="  ";n+=e[s]+": {\n"}for(var a=0;a<e.length+1;a++)n+="  ";n+=i+"\n";for(var h=0;h<e.length+1;h++){for(var d=0;d<e.length-h;d++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function t(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function t(e,i){if(0===e.length)return i.length;if(0===i.length)return e.length;var o=[],n;for(n=0;n<=i.length;n++)o[n]=[n];var s;for(s=0;s<=e.length;s++)o[0][s]=s;for(n=1;n<=i.length;n++)for(s=1;s<=e.length;s++)i.charAt(n-1)==e.charAt(s-1)?o[n][s]=o[n-1][s-1]:o[n][s]=Math.min(o[n-1][s-1]+1,Math.min(o[n][s-1]+1,o[n-1][s]+1));return o[i.length][e.length]}}]);return t}();e.default=l;e.printStyle=d},function(t,e,i){function o(t,e){var i=h().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf();this.end=i.clone().add(4,"days").valueOf();this.body=t;this.deltaDifference=0;this.scaleOffset=0;this.startToFront=!1;this.endToFront=!0;this.defaultOptions={rtl:!1,start:null,end:null,moment:h,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4};this.options=r.extend({},this.defaultOptions);this.props={touch:{}};this.animationTimer=null;this.body.emitter.on("panstart",this._onDragStart.bind(this));this.body.emitter.on("panmove",this._onDrag.bind(this));this.body.emitter.on("panend",this._onDragEnd.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.setOptions(e)}function n(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". '+'Choose "horizontal" or "vertical".')}var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=i(1),a=i(28),h=i(2),d=i(31),l=i(32);o.prototype=new d;o.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl"];r.selectiveExtend(e,this.options,t);("start"in t||"end"in t)&&this.setRange(t.start,t.end)}};o.prototype.setRange=function(t,e,i,o){o!==!0&&(o=!1);var n=void 0!=t?r.convert(t,"Date").valueOf():null,a=void 0!=e?r.convert(e,"Date").valueOf():null;this._cancelAnimation();if(i){var h=this,d=this.start,u=this.end,c="object"===("undefined"===typeof i?"undefined":s(i))&&"duration"in i?i.duration:500,p="object"===("undefined"===typeof i?"undefined":s(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",f=r.easingFunctions[p];if(!f)throw new Error("Unknown easing function "+JSON.stringify(p)+". "+"Choose from: "+Object.keys(r.easingFunctions).join(", "));var m=(new Date).valueOf(),v=!1,g=function t(){if(!h.props.touch.dragging){var e=(new Date).valueOf(),i=e-m,s=f(i/c),r=i>c,p=r||null===n?n:d+(n-d)*s,g=r||null===a?a:u+(a-u)*s;y=h._applyRange(p,g);l.updateHiddenDates(h.options.moment,h.body,h.options.hiddenDates);v=v||y;y&&h.body.emitter.emit("rangechange",{start:new Date(h.start),end:new Date(h.end),byUser:o});r?v&&h.body.emitter.emit("rangechanged",{start:new Date(h.start),end:new Date(h.end),byUser:o}):h.animationTimer=setTimeout(t,20)}};return g()}var y=this._applyRange(n,a);l.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);if(y){var b={start:new Date(this.start),end:new Date(this.end),byUser:o};this.body.emitter.emit("rangechange",b);this.body.emitter.emit("rangechanged",b)}};o.prototype._cancelAnimation=function(){if(this.animationTimer){clearTimeout(this.animationTimer);this.animationTimer=null}};o.prototype._applyRange=function(t,e){var i=null!=t?r.convert(t,"Date").valueOf():this.start,o=null!=e?r.convert(e,"Date").valueOf():this.end,n=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,s=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null,a;if(isNaN(i)||null===i)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');o<i&&(o=i);if(null!==s&&i<s){a=s-i;i+=a;o+=a;null!=n&&o>n&&(o=n)}if(null!==n&&o>n){a=o-n;i-=a;o-=a;null!=s&&i<s&&(i=s)}if(null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);h<0&&(h=0);if(o-i<h)if(this.end-this.start===h&&i>this.start&&o<this.end){i=this.start;o=this.end}else{a=h-(o-i);i-=a/2;o+=a/2}}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);d<0&&(d=0);if(o-i>d)if(this.end-this.start===d&&i<this.start&&o>this.end){i=this.start;o=this.end}else{a=o-i-d;i+=a/2;o-=a/2}}var l=this.start!=i||this.end!=o;i>=this.start&&i<=this.end||o>=this.start&&o<=this.end||this.start>=i&&this.start<=o||this.end>=i&&this.end<=o||this.body.emitter.emit("checkRangedItems");this.start=i;this.end=o;return l};o.prototype.getRange=function(){return{start:this.start,end:this.end}};o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)};o.conversion=function(t,e,i,o){void 0===o&&(o=0);return 0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}};o.prototype._onDragStart=function(t){this.deltaDifference=0;this.previousDelta=0;if(this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.dragging=!0;this.body.dom.root&&(this.body.dom.root.style.cursor="move")}};o.prototype._onDrag=function(t){if(this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;n(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var o=this.props.touch.end-this.props.touch.start,s=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);o-=s;var r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;
if(this.options.rtl)var a=i/r*o;else var a=-i/r*o;var h=this.props.touch.start+a,d=this.props.touch.end+a,u=l.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0),c=l.snapAwayFromHidden(this.body.hiddenDates,d,this.previousDelta-i,!0);if(u==h&&c==d){this.previousDelta=i;this._applyRange(h,d);var p=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:p,end:f,byUser:!0})}else{this.deltaDifference+=i;this.props.touch.start=u;this.props.touch.end=c;this._onDrag(t)}}};o.prototype._onDragEnd=function(t){if(this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){this.props.touch.dragging=!1;this.body.dom.root&&(this.body.dom.root.style.cursor="auto");this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0})}};o.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&(!this.options.zoomKey||t[this.options.zoomKey])){var e=0;t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3);if(e){var i;i=e<0?1-e/5:1/(1+e/5);var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),n=this._pointerToDate(o);this.zoom(i,n,e)}t.preventDefault()}};o.prototype._onTouch=function(t){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null;this.scaleOffset=0;this.deltaDifference=0};o.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1;this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center));var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),o=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),s=o-n,r=i-n+(this.props.touch.start-(i-n))*e,a=i+s+(this.props.touch.end-(i+s))*e;this.startToFront=1-e<=0;this.endToFront=e-1<=0;var h=l.snapAwayFromHidden(this.body.hiddenDates,r,1-e,!0),d=l.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);if(h!=r||d!=a){this.props.touch.start=h;this.props.touch.end=d;this.scaleOffset=1-t.scale;r=h;a=d}this.setRange(r,a,!1,!0);this.startToFront=!1;this.endToFront=!0}};o.prototype._isInsideRange=function(t){var e=t.center?t.center.x:t.clientX;if(this.options.rtl)var i=e-r.getAbsoluteLeft(this.body.dom.centerContainer);else var i=r.getAbsoluteRight(this.body.dom.centerContainer)-e;var o=this.body.util.toTime(i);return o>=this.start&&o<=this.end};o.prototype._pointerToDate=function(t){var e,i=this.options.direction;n(i);if("horizontal"==i)return this.body.util.toTime(t.x).valueOf();var o=this.body.domProps.center.height;e=this.conversion(o);return t.y/e.scale+e.offset};o.prototype.getPointer=function(t,e){return this.options.rtl?{x:r.getAbsoluteRight(e)-t.x,y:t.y-r.getAbsoluteTop(e)}:{x:t.x-r.getAbsoluteLeft(e),y:t.y-r.getAbsoluteTop(e)}};o.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var o=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=l.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-n,r=e-n+(this.start-(e-n))*t,a=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0);this.endToFront=!(-i>0);var h=l.snapAwayFromHidden(this.body.hiddenDates,r,i,!0),d=l.snapAwayFromHidden(this.body.hiddenDates,a,-i,!0);if(h!=r||d!=a){r=h;a=d}this.setRange(r,a,!1,!0);this.startToFront=!1;this.endToFront=!0};o.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,o=this.end+e*t;this.start=i;this.end=o};o.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,o=this.start-i,n=this.end-i;this.setRange(o,n)};t.exports=o},function(t,e){function i(t,e){this.options=null;this.props=null}i.prototype.setOptions=function(t){t&&util.extend(this.options,t)};i.prototype.redraw=function(){return!1};i.prototype.destroy=function(){};i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return t};t.exports=i},function(t,e){e.convertHiddenOptions=function(t,i,o){if(o&&!Array.isArray(o))return e.convertHiddenOptions(t,i,[o]);i.hiddenDates=[];if(o&&1==Array.isArray(o)){for(var n=0;n<o.length;n++)if(void 0===o[n].repeat){var s={};s.start=t(o[n].start).toDate().valueOf();s.end=t(o[n].end).toDate().valueOf();i.hiddenDates.push(s)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}};e.updateHiddenDates=function(t,i,o){if(o&&!Array.isArray(o))return e.updateHiddenDates(t,i,[o]);if(o&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,o);for(var n=t(i.range.start),s=t(i.range.end),r=i.range.end-i.range.start,a=r/i.domProps.centerContainer.width,h=0;h<o.length;h++)if(void 0!==o[h].repeat){var d=t(o[h].start),l=t(o[h].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+o[h].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+o[h].end);var u=l-d;if(u>=4*a){var c=0,p=s.clone();switch(o[h].repeat){case"daily":d.day()!=l.day()&&(c=1);d.dayOfYear(n.dayOfYear());d.year(n.year());d.subtract(7,"days");l.dayOfYear(n.dayOfYear());l.year(n.year());l.subtract(7-c,"days");p.add(1,"weeks");break;case"weekly":var f=l.diff(d,"days"),m=d.day();d.date(n.date());d.month(n.month());d.year(n.year());l=d.clone();d.day(m);l.day(m);l.add(f,"days");d.subtract(1,"weeks");l.subtract(1,"weeks");p.add(1,"weeks");break;case"monthly":d.month()!=l.month()&&(c=1);d.month(n.month());d.year(n.year());d.subtract(1,"months");l.month(n.month());l.year(n.year());l.subtract(1,"months");l.add(c,"months");p.add(1,"months");break;case"yearly":d.year()!=l.year()&&(c=1);d.year(n.year());d.subtract(1,"years");l.year(n.year());l.subtract(1,"years");l.add(c,"years");p.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat);return}for(;d<p;){i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()});switch(o[h].repeat){case"daily":d.add(1,"days");l.add(1,"days");break;case"weekly":d.add(1,"weeks");l.add(1,"weeks");break;case"monthly":d.add(1,"months");l.add(1,"months");break;case"yearly":d.add(1,"y");l.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat);return}}i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var v=e.isHidden(i.range.start,i.hiddenDates),g=e.isHidden(i.range.end,i.hiddenDates),y=i.range.start,b=i.range.end;1==v.hidden&&(y=1==i.range.startToFront?v.startDate-1:v.endDate+1);1==g.hidden&&(b=1==i.range.endToFront?g.startDate-1:g.endDate+1);1!=v.hidden&&1!=g.hidden||i.range._applyRange(y,b)}};e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)if(o!=n&&1!=e[n].remove&&1!=e[o].remove)if(e[n].start>=e[o].start&&e[n].end<=e[o].end)e[n].remove=!0;else if(e[n].start>=e[o].start&&e[n].start<=e[o].end){e[o].end=e[n].end;e[n].remove=!0}else if(e[n].end>=e[o].start&&e[n].end<=e[o].end){e[o].start=e[n].start;e[n].remove=!0}for(var o=0;o<e.length;o++)e[o].remove!==!0&&i.push(e[o]);t.hiddenDates=i;t.hiddenDates.sort(function(t,e){return t.start-e.start})};e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)};e.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(n>=r&&n<a){o=!0;break}}if(1==o&&n<e._end.valueOf()&&n!=i){var h=t(i),d=t(a);h.year()!=d.year()?e.switchedYear=!0:h.month()!=d.month()?e.switchedMonth=!0:h.dayOfYear()!=d.dayOfYear()&&(e.switchedDay=!0);e.current=d}};e.toScreen=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return(i.valueOf()-n.offset)*n.scale}var s=e.isHidden(i,t.body.hiddenDates);1==s.hidden&&(i=s.startDate);var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i);var n=t.range.conversion(o,r);return(i.valueOf()-n.offset)*n.scale};e.toTime=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(i/n.scale+n.offset)}var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-s,a=r*i/o,h=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a),d=new Date(h+a+t.range.start);return d};e.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;s>=e&&r<i&&(o+=r-s)}return o};e.correctTimeForHidden=function(t,i,o,n){n=t(n).toDate().valueOf();n-=e.getHiddenDurationBefore(t,i,o,n);return n};e.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&o>=a&&(n+=a-r)}return n};e.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){n+=a-s;s=h;if(n>=i)break;o+=h-a}}return o};e.snapAwayFromHidden=function(t,i,o,n){var s=e.isHidden(i,t);return 1==s.hidden?o<0?1==n?s.startDate-(s.endDate-i)-1:s.startDate-1:1==n?s.endDate+(i-s.startDate)+1:s.endDate+1:i};e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(t>=o&&t<n){return{hidden:!0,startDate:o,endDate:n};break}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){function o(){}var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(13),r=i(20),a=i(28),h=i(1),d=i(9),l=i(11),u=i(30),c=i(34),p=i(44),f=i(45),m=i(32),v=i(46);s(o.prototype);o.prototype._create=function(t){function e(t){i.isActive()&&i.emit("mousewheel",t)}this.dom={};this.dom.container=t;this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.root.className="vis-timeline";this.dom.background.className="vis-panel vis-background";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical";this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal";this.dom.centerContainer.className="vis-panel vis-center";this.dom.leftContainer.className="vis-panel vis-left";this.dom.rightContainer.className="vis-panel vis-right";this.dom.top.className="vis-panel vis-top";this.dom.bottom.className="vis-panel vis-bottom";this.dom.left.className="vis-content";this.dom.center.className="vis-content";this.dom.right.className="vis-content";this.dom.shadowTop.className="vis-shadow vis-top";this.dom.shadowBottom.className="vis-shadow vis-bottom";this.dom.shadowTopLeft.className="vis-shadow vis-top";this.dom.shadowBottomLeft.className="vis-shadow vis-bottom";this.dom.shadowTopRight.className="vis-shadow vis-top";this.dom.shadowBottomRight.className="vis-shadow vis-bottom";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.centerContainer.appendChild(this.dom.center);this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.on("rangechange",function(){this.initialDrawDone===!0&&this._redraw()}.bind(this));this.on("touch",this._onTouch.bind(this));this.on("pan",this._onDrag.bind(this));var i=this;this.on("_change",function(t){t&&1==t.queue?i._redrawTimer||(i._redrawTimer=setTimeout(function(){i._redrawTimer=null;i._redraw()},0)):i._redraw()});this.hammer=new r(this.dom.root);var o=this.hammer.get("pinch").set({enable:!0});a.disablePreventDefaultVertically(o);this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL});this.listeners={};var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];n.forEach(function(t){var e=function e(o){i.isActive()&&i.emit(t,o)};i.hammer.on(t,e);i.listeners[t]=e});a.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this));a.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this));this.dom.root.addEventListener("mousewheel",e);this.dom.root.addEventListener("DOMMouseScroll",e);this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.customTimes=[];this.touch={};this.redrawCount=0;this.initialDrawDone=!1;if(!t)throw new Error("No container provided");t.appendChild(this.dom.root)};o.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","throttleRedraw"];h.selectiveExtend(e,this.options,t);if(this.options.rtl){var i=this.dom.leftContainer;this.dom.leftContainer=this.dom.rightContainer;this.dom.rightContainer=i;this.dom.container.style.direction="rtl";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"}this.options.orientation={item:void 0,axis:void 0};if("orientation"in t)if("string"===typeof t.orientation)this.options.orientation={item:t.orientation,axis:t.orientation};else if("object"===n(t.orientation)){"item"in t.orientation&&(this.options.orientation.item=t.orientation.item);"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)}if("both"===this.options.orientation.axis){if(!this.timeAxis2){var o=this.timeAxis2=new p(this.body);o.setOptions=function(t){var e=t?h.extend({},t):{};e.orientation="top";p.prototype.setOptions.call(o,e)};this.components.push(o)}}else if(this.timeAxis2){var s=this.components.indexOf(this.timeAxis2);s!==-1&&this.components.splice(s,1);this.timeAxis2.destroy();this.timeAxis2=null}"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints});"hiddenDates"in this.options&&m.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates);if("clickToUse"in t)if(t.clickToUse)this.activator||(this.activator=new f(this.dom.root));else if(this.activator){this.activator.destroy();delete this.activator}if("showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}this.components.forEach(function(e){return e.setOptions(t)});if("configure"in t){this.configurator||(this.configurator=this._createConfigurator());this.configurator.setOptions(t.configure);var r=h.deepExtend({},this.options);this.components.forEach(function(t){h.deepExtend(r,t.options)});this.configurator.setModuleOptions({global:r})}if(this._origRedraw)this._redraw();else{this._origRedraw=this._redraw.bind(this);this._redraw=h.throttle(this._origRedraw,this.options.throttleRedraw)}};o.prototype.isActive=function(){return!this.activator||this.activator.active};o.prototype.destroy=function(){this.setItems(null);this.setGroups(null);this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);this.dom=null;if(this.activator){this.activator.destroy();delete this.activator}for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null;this.hammer=null;this.components.forEach(function(t){return t.destroy()});this.body=null};o.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));i.length>0&&i[0].setCustomTime(t)};o.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));return e[0].getCustomTime()};o.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));if(i.length>0)return i[0].setCustomTitle(t)};o.prototype.getEventProperties=function(t){return{event:t}};o.prototype.addCustomTime=function(t,e){var i=void 0!==t?h.convert(t,"Date").valueOf():new Date,o=this.customTimes.some(function(t){return t.options.id===e});if(o)throw new Error("A custom time with id "+JSON.stringify(e)+" already exists");var n=new v(this.body,h.extend({},this.options,{time:i,id:e}));this.customTimes.push(n);this.components.push(n);this._redraw();return e};o.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1);this.components.splice(this.components.indexOf(t),1);t.destroy()}.bind(this))};o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};o.prototype.fit=function(t){var e=this.getDataRange();if(null!==e.min||null!==e.max){var i=e.max-e.min,o=new Date(e.min.valueOf()-.01*i),n=new Date(e.max.valueOf()+.01*i),s=!t||void 0===t.animation||t.animation;this.range.setRange(o,n,s)}};o.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")};o.prototype.setWindow=function(t,e,i){var o;if(1==arguments.length){var n=arguments[0];o=void 0===n.animation||n.animation;this.range.setRange(n.start,n.end,o)}else{o=!i||void 0===i.animation||i.animation;this.range.setRange(t,e,o)}};o.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,o=h.convert(t,"Date").valueOf(),n=o-i/2,s=o+i/2,r=!e||void 0===e.animation||e.animation;this.range.setRange(n,s,r)};o.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}};o.prototype.redraw=function(){this._redraw()};o.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,o=this.dom;if(o&&o.container&&0!=o.root.offsetWidth){m.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);if("top"==e.orientation){h.addClassName(o.root,"vis-top");h.removeClassName(o.root,"vis-bottom")}else{h.removeClassName(o.root,"vis-top");h.addClassName(o.root,"vis-bottom")}o.root.style.maxHeight=h.option.asSize(e.maxHeight,"");o.root.style.minHeight=h.option.asSize(e.minHeight,"");o.root.style.width=h.option.asSize(e.width,"");i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2;i.border.right=i.border.left;i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2;i.border.bottom=i.border.top;var n=o.root.offsetHeight-o.root.clientHeight,s=o.root.offsetWidth-o.root.clientWidth;if(0===o.centerContainer.clientHeight){i.border.left=i.border.top;i.border.right=i.border.left}0===o.root.clientHeight&&(s=n);i.center.height=o.center.offsetHeight;i.left.height=o.left.offsetHeight;i.right.height=o.right.offsetHeight;i.top.height=o.top.clientHeight||-i.border.top;i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var a=Math.max(i.left.height,i.center.height,i.right.height),d=i.top.height+a+i.bottom.height+n+i.border.top+i.border.bottom;o.root.style.height=h.option.asSize(e.height,d+"px");i.root.height=o.root.offsetHeight;i.background.height=i.root.height-n;var l=i.root.height-i.top.height-i.bottom.height-n;i.centerContainer.height=l;i.leftContainer.height=l;i.rightContainer.height=i.leftContainer.height;i.root.width=o.root.offsetWidth;i.background.width=i.root.width-s;i.left.width=o.leftContainer.clientWidth||-i.border.left;i.leftContainer.width=i.left.width;i.right.width=o.rightContainer.clientWidth||-i.border.right;i.rightContainer.width=i.right.width;var u=i.root.width-i.left.width-i.right.width-s;i.center.width=u;i.centerContainer.width=u;i.top.width=u;i.bottom.width=u;o.background.style.height=i.background.height+"px";o.backgroundVertical.style.height=i.background.height+"px";o.backgroundHorizontal.style.height=i.centerContainer.height+"px";o.centerContainer.style.height=i.centerContainer.height+"px";o.leftContainer.style.height=i.leftContainer.height+"px";o.rightContainer.style.height=i.rightContainer.height+"px";o.background.style.width=i.background.width+"px";o.backgroundVertical.style.width=i.centerContainer.width+"px";o.backgroundHorizontal.style.width=i.background.width+"px";o.centerContainer.style.width=i.center.width+"px";o.top.style.width=i.top.width+"px";o.bottom.style.width=i.bottom.width+"px";o.background.style.left="0";o.background.style.top="0";o.backgroundVertical.style.left=i.left.width+i.border.left+"px";o.backgroundVertical.style.top="0";o.backgroundHorizontal.style.left="0";o.backgroundHorizontal.style.top=i.top.height+"px";o.centerContainer.style.left=i.left.width+"px";o.centerContainer.style.top=i.top.height+"px";o.leftContainer.style.left="0";o.leftContainer.style.top=i.top.height+"px";o.rightContainer.style.left=i.left.width+i.center.width+"px";o.rightContainer.style.top=i.top.height+"px";o.top.style.left=i.left.width+"px";o.top.style.top="0";o.bottom.style.left=i.left.width+"px";o.bottom.style.top=i.top.height+i.centerContainer.height+"px";this._updateScrollTop();var c=this.props.scrollTop;"top"!=e.orientation.item&&(c+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0));o.center.style.left="0";o.center.style.top=c+"px";o.left.style.left="0";o.left.style.top=c+"px";o.right.style.left="0";o.right.style.top=c+"px";var p=0==this.props.scrollTop?"hidden":"",f=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";o.shadowTop.style.visibility=p;o.shadowBottom.style.visibility=f;o.shadowTopLeft.style.visibility=p;o.shadowBottomLeft.style.visibility=f;o.shadowTopRight.style.visibility=p;o.shadowBottomRight.style.visibility=f;var v=this.props.center.height>this.props.centerContainer.height;this.hammer.get("pan").set({direction:v?r.DIRECTION_ALL:r.DIRECTION_HORIZONTAL});this.components.forEach(function(e){t=e.redraw()||t});var g=5;if(t){if(this.redrawCount<g){this.body.emitter.emit("_change");return}console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0;this.body.emitter.emit("changed")}};o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")};o.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)};o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};o.prototype._toTime=function(t){return m.toTime(this,t,this.props.center.width)};o.prototype._toGlobalTime=function(t){return m.toTime(this,t,this.props.root.width)};o.prototype._toScreen=function(t){return m.toScreen(this,t,this.props.center.width)};o.prototype._toGlobalScreen=function(t){return m.toScreen(this,t,this.props.root.width)};o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};o.prototype._startAutoResize=function(){var t=this;this._stopAutoResize();this._onResize=function(){if(1==t.options.autoResize){if(t.dom.root&&(t.dom.root.offsetWidth!=t.props.lastWidth||t.dom.root.offsetHeight!=t.props.lastHeight)){t.props.lastWidth=t.dom.root.offsetWidth;t.props.lastHeight=t.dom.root.offsetHeight;t.body.emitter.emit("_change")}}else t._stopAutoResize()};h.addEventListener(window,"resize",this._onResize);if(t.dom.root){t.props.lastWidth=t.dom.root.offsetWidth;t.props.lastHeight=t.dom.root.offsetHeight}this.watchTimer=setInterval(this._onResize,1e3)};o.prototype._stopAutoResize=function(){if(this.watchTimer){clearInterval(this.watchTimer);this.watchTimer=void 0}if(this._onResize){h.removeEventListener(window,"resize",this._onResize);this._onResize=null}};o.prototype._onTouch=function(t){this.touch.allowDragging=!0;this.touch.initialScrollTop=this.props.scrollTop};o.prototype._onPinch=function(t){this.touch.allowDragging=!1};o.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),o=this._setScrollTop(this.touch.initialScrollTop+e);o!=i&&this.emit("verticalDrag")}};o.prototype._setScrollTop=function(t){this.props.scrollTop=t;this._updateScrollTop();return this.props.scrollTop};o.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);if(t!=this.props.scrollTopMin){"top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin);this.props.scrollTopMin=t}this.props.scrollTop>0&&(this.props.scrollTop=0);this.props.scrollTop<t&&(this.props.scrollTop=t);return this.props.scrollTop};o.prototype._getScrollTop=function(){return this.props.scrollTop};o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")};t.exports=o},function(t,e,i){function o(t,e){this.body=t;this.defaultOptions={rtl:!1,type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function t(e,i,o){var n=i.order;i.order=e.order;e.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onAdd:function t(e,i){i(e)},onUpdate:function t(e,i){i(e)},onMove:function t(e,i){i(e)},onRemove:function t(e,i){i(e)},onMoving:function t(e,i){i(e)},onAddGroup:function t(e,i){i(e)},onMoveGroup:function t(e,i){i(e)},onRemoveGroup:function t(e,i){i(e)},margin:{item:{horizontal:10,vertical:10},axis:20}};this.options=r.extend({},this.defaultOptions);this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime};this.dom={};this.props={};this.hammer=null;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function t(e,o,n){i._onAdd(o.items)},update:function t(e,o,n){i._onUpdate(o.items)},remove:function t(e,o,n){i._onRemove(o.items)}};this.groupListeners={add:function t(e,o,n){i._onAddGroups(o.items)},update:function t(e,o,n){i._onUpdateGroups(o.items)},remove:function t(e,o,n){i._onRemoveGroups(o.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.stackDirty=!0;this.touchParams={};this.groupTouchParams={};this._create();this.setOptions(e)}var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(20),r=i(1),a=i(9),h=i(11),d=i(35),l=i(31),u=i(36),c=i(40),p=i(41),f=i(42),m=i(38),v=i(43),g="__ungrouped__",y="__background__";o.prototype=new l;o.types={background:v,box:p,range:m,point:f};o.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset";t["timeline-itemset"]=this;this.dom.frame=t;var e=document.createElement("div");e.className="vis-background";t.appendChild(e);this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground";t.appendChild(i);this.dom.foreground=i;var o=document.createElement("div");o.className="vis-axis";this.dom.axis=o;var n=document.createElement("div");n.className="vis-labelset";this.dom.labelSet=n;this._updateUngrouped();var r=new c(y,null,this);r.show();this.groups[y]=r;this.hammer=new s(this.body.dom.centerContainer);this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this));this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL});this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("press",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.groupHammer=new s(this.body.dom.leftContainer);this.groupHammer.on("panstart",this._onGroupDragStart.bind(this));this.groupHammer.on("panmove",this._onGroupDrag.bind(this));this.groupHammer.on("panend",this._onGroupDragEnd.bind(this));this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL});this.show()};o.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap"];r.selectiveExtend(e,this.options,t);"orientation"in t&&("string"===typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===n(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item));if("margin"in t)if("number"===typeof t.margin){this.options.margin.axis=t.margin;this.options.margin.item.horizontal=t.margin;this.options.margin.item.vertical=t.margin}else if("object"===n(t.margin)){r.selectiveExtend(["axis"],this.options.margin,t.margin);if("item"in t.margin)if("number"===typeof t.margin.item){this.options.margin.item.horizontal=t.margin.item;this.options.margin.item.vertical=t.margin.item}else"object"===n(t.margin.item)&&r.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)}if("editable"in t)if("boolean"===typeof t.editable){this.options.editable.updateTime=t.editable;this.options.editable.updateGroup=t.editable;this.options.editable.add=t.editable;this.options.editable.remove=t.editable}else"object"===n(t.editable)&&r.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable);if("groupEditable"in t)if("boolean"===typeof t.groupEditable){this.options.groupEditable.order=t.groupEditable;this.options.groupEditable.add=t.groupEditable;this.options.groupEditable.remove=t.groupEditable}else"object"===n(t.groupEditable)&&r.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable);var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i);this.markDirty()}};o.prototype.markDirty=function(t){this.groupIds=[];this.stackDirty=!0;t&&t.refreshItems&&r.forEach(this.items,function(t){t.dirty=!0;t.displayed&&t.redraw()})};o.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.hammer=null;this.body=null;this.conversion=null;
};o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)};o.prototype.setSelection=function(t){var e,i,o,n;void 0==t&&(t=[]);Array.isArray(t)||(t=[t]);for(e=0,i=this.selection.length;e<i;e++){o=this.selection[e];n=this.items[o];n&&n.unselect()}this.selection=[];for(e=0,i=t.length;e<i;e++){o=t[e];n=this.items[o];if(n){this.selection.push(o);n.select()}}};o.prototype.getSelection=function(){return this.selection.concat([])};o.prototype.getVisibleItems=function(){var t=this.body.range.getRange();if(this.options.rtl)var e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end);else var i=this.body.util.toScreen(t.start),e=this.body.util.toScreen(t.end);var o=[];for(var n in this.groups)if(this.groups.hasOwnProperty(n))for(var s=this.groups[n],r=s.visibleItems,a=0;a<r.length;a++){var h=r[a];this.options.rtl?h.right<i&&h.right+h.width>e&&o.push(h.id):h.left<e&&h.left+h.width>i&&o.push(h.id)}return o};o.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;i<o;i++)if(e[i]==t){e.splice(i,1);break}};o.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=r.option.asSize,o=this.options,n=o.orientation.item,s=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;a.className="vis-itemset";s=this._orderGroups()||s;var h=e.end-e.start,d=h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;d&&(this.stackDirty=!0);this.lastVisibleInterval=h;this.props.lastWidth=this.props.width;var l=this.stackDirty,u=this._firstGroup(),c={item:t.item,axis:t.axis},p={item:t.item,axis:t.item.vertical/2},f=0,m=t.axis+t.item.vertical;this.groups[y].redraw(e,p,l);r.forEach(this.groups,function(t){var i=t==u?c:p,o=t.redraw(e,i,l);s=o||s;f+=t.height});f=Math.max(f,m);this.stackDirty=!1;a.style.height=i(f);this.props.width=a.offsetWidth;this.props.height=f;this.dom.axis.style.top=i("top"==n?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height);this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0";s=this._isResized()||s;return s};o.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[g];return i||null};o.prototype._updateUngrouped=function(){var t=this.groups[g],e=this.groups[y],i,o;if(this.groupsData){if(t){t.hide();delete this.groups[g];for(o in this.items)if(this.items.hasOwnProperty(o)){i=this.items[o];i.parent&&i.parent.remove(i);var n=this._getGroupId(i.data),s=this.groups[n];s&&s.add(i)||i.hide()}}}else if(!t){var r=null,a=null;t=new u(r,a,this);this.groups[g]=t;for(o in this.items)if(this.items.hasOwnProperty(o)){i=this.items[o];t.add(i)}t.show()}};o.prototype.getLabelSet=function(){return this.dom.labelSet};o.prototype.setItems=function(t){var e=this,i,o=this.itemsData;if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o){r.forEach(this.itemListeners,function(t,e){o.off(e,t)});i=o.getIds();this._onRemove(i)}if(this.itemsData){var n=this.id;r.forEach(this.itemListeners,function(t,i){e.itemsData.on(i,t,n)});i=this.itemsData.getIds();this._onAdd(i);this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})};o.prototype.getItems=function(){return this.itemsData};o.prototype.setGroups=function(t){var e=this,i;if(this.groupsData){r.forEach(this.groupListeners,function(t,i){e.groupsData.off(i,t)});i=this.groupsData.getIds();this.groupsData=null;this._onRemoveGroups(i)}if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(t,i){e.groupsData.on(i,t,o)});i=this.groupsData.getIds();this._onAddGroups(i)}this._updateUngrouped();this._order();this.body.emitter.emit("_change",{queue:!0})};o.prototype.getGroups=function(){return this.groupsData};o.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})};o.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")};o.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?y:this.groupsData?t.group:g};o.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i=e.itemsData.get(t,e.itemOptions),n=e.items[t],s=e._getType(i),r=o.types[s],a;if(n)if(r&&n instanceof r)e._updateItem(n,i);else{a=n.selected;e._removeItem(n);n=null}if(!n){if(!r)throw"rangeoverflow"==s?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: '+".vis-item.vis-range .vis-item-content {overflow: visible;}"):new TypeError('Unknown item type "'+s+'"');n=new r(i,e.conversion,e.options);n.id=t;e._addItem(n);if(a){this.selection.push(t);n.select()}}}.bind(this));this._order();this.stackDirty=!0;this.body.emitter.emit("_change",{queue:!0})};o.prototype._onAdd=o.prototype._onUpdate;o.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var o=i.items[t];if(o){e++;i._removeItem(o)}});if(e){this._order();this.stackDirty=!0;this.body.emitter.emit("_change",{queue:!0})}};o.prototype._order=function(){r.forEach(this.groups,function(t){t.order()})};o.prototype._onUpdateGroups=function(t){this._onAddGroups(t)};o.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==g||t==y)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=Object.create(e.options);r.extend(n,{height:null});o=new u(t,i,e);e.groups[t]=o;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&o.add(a)}o.order();o.show()}});this.body.emitter.emit("_change",{queue:!0})};o.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];if(i){i.hide();delete e[t]}});this.markDirty();this.body.emitter.emit("_change",{queue:!0})};o.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!r.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()});t.forEach(function(t){i[t].show()});this.groupIds=t}return e}return!1};o.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i&&i.add(t)};o.prototype._updateItem=function(t,e){var i=t.data.group,o=t.data.subgroup;t.setData(e);if(i!=t.data.group||o!=t.data.subgroup){var n=this.groups[i];n&&n.remove(t);var s=this._getGroupId(t.data),r=this.groups[s];r&&r.add(t)}};o.prototype._removeItem=function(t){t.hide();delete this.items[t.id];var e=this.selection.indexOf(t.id);e!=-1&&this.selection.splice(e,1);t.parent&&t.parent.remove(t)};o.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof m&&e.push(t[i]);return e};o.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t);this.touchParams.dragLeftItem=t.target.dragLeftItem||!1;this.touchParams.dragRightItem=t.target.dragRightItem||!1;this.touchParams.itemProps=null};o.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e};o.prototype._onDragStart=function(t){var e=this.touchParams.item||null,i=this,o;if(e&&(e.selected||this.options.itemsAlwaysDraggable)){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!e.editable)return;if(e.editable===!1)return;var n=this.touchParams.dragLeftItem,s=this.touchParams.dragRightItem;if(n){o={item:n,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(e.data)};this.touchParams.itemProps=[o]}else if(s){o={item:s,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(e.data)};this.touchParams.itemProps=[o]}else{this.touchParams.selectedItem=e;var r=this._getGroupIndex(e.data.group),a=this.options.itemsAlwaysDraggable&&!e.selected?[e.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var o=i.items[e],n=i._getGroupIndex(o.data.group);return{item:o,initialX:t.center.x,groupOffset:r-n,data:this._cloneItemData(o.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)};o.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null;if(this.options.rtl)var i=r.getAbsoluteRight(this.dom.frame),o=i-t.center.x+10;else var i=r.getAbsoluteLeft(this.dom.frame),o=t.center.x-i-10;var n=this.body.util.toTime(o),s=this.body.util.getScale(),a=this.body.util.getStep(),h=e?e(n,s,a):n,d=h,l={type:"range",start:h,end:d,content:"new item"},u=r.randomUUID();l[this.itemsData._fieldId]=u;var c=this.groupFromTarget(t);c&&(l.group=c.groupId);var p=new m(l,this.conversion,this.options);p.id=u;p.data=this._cloneItemData(l);this._addItem(p);var f={item:p,initialX:t.center.x,data:p.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0;this.touchParams.itemProps=[f];t.stopPropagation()};o.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.options.snap||null;if(this.options.rtl)var o=this.body.dom.root.offsetLeft+this.body.domProps.right.width;else var o=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var n=this.body.util.getScale(),s=this.body.util.getStep(),a=this.touchParams.selectedItem,h=e.options.editable.updateGroup,d=null;if(h&&a&&void 0!=a.data.group){var l=e.groupFromTarget(t);l&&(d=this._getGroupIndex(l.groupId))}this.touchParams.itemProps.forEach(function(a){var h=e.body.util.toTime(t.center.x-o),l=e.body.util.toTime(a.initialX-o);if(this.options.rtl)var u=-(h-l);else var u=h-l;var c=this._cloneItemData(a.item.data);if(a.item.editable!==!1){var p=e.options.editable.updateTime||a.item.editable===!0;if(p)if(a.dragLeft){if(this.options.rtl){if(void 0!=c.end){var f=r.convert(a.data.end,"Date"),m=new Date(f.valueOf()+u);c.end=i?i(m,n,s):m}}else if(void 0!=c.start){var v=r.convert(a.data.start,"Date"),g=new Date(v.valueOf()+u);c.start=i?i(g,n,s):g}}else if(a.dragRight){if(this.options.rtl){if(void 0!=c.start){var v=r.convert(a.data.start,"Date"),g=new Date(v.valueOf()+u);c.start=i?i(g,n,s):g}}else if(void 0!=c.end){var f=r.convert(a.data.end,"Date"),m=new Date(f.valueOf()+u);c.end=i?i(m,n,s):m}}else if(void 0!=c.start){var v=r.convert(a.data.start,"Date").valueOf(),g=new Date(v+u);if(void 0!=c.end){var f=r.convert(a.data.end,"Date"),y=f.valueOf()-v.valueOf();c.start=i?i(g,n,s):g;c.end=new Date(c.start.valueOf()+y)}else c.start=i?i(g,n,s):g}var b=e.options.editable.updateGroup||a.item.editable===!0;if(b&&!a.dragLeft&&!a.dragRight&&null!=d&&void 0!=c.group){var w=d-a.groupOffset;w=Math.max(0,w);w=Math.min(e.groupIds.length-1,w);c.group=e.groupIds[w]}c=this._cloneItemData(c);e.options.onMoving(c,function(t){t&&a.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this));this.stackDirty=!0;this.body.emitter.emit("_change")}};o.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var o=t.parent;o.remove(t);o.order();i.add(t);i.order();t.data.group=i.groupId}};o.prototype._onDragEnd=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null;o.forEach(function(t){var o=t.item.id,n=null!=e.itemsData.get(o,e.itemOptions);if(n){var s=this._cloneItemData(t.item.data);e.options.onMove(s,function(n){if(n){n[i._fieldId]=o;i.update(n)}else{t.item.setData(t.data);e.stackDirty=!0;e.body.emitter.emit("_change")}})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item);i&&e.itemsData.getDataSet().add(i);e.stackDirty=!0;e.body.emitter.emit("_change")})}.bind(this))}};o.prototype._onGroupDragStart=function(t){if(this.options.groupEditable.order){this.groupTouchParams.group=this.groupFromTarget(t);if(this.groupTouchParams.group){t.stopPropagation();this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})}}};o.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupFromTarget(t);if(e&&e.height!=this.groupTouchParams.group.height){var i=e.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,n=r.getAbsoluteTop(e.dom.foreground),s=this.groupTouchParams.group.height;if(i){if(n+s<o)return}else{var a=e.height;if(n+a-s>o)return}}if(e&&e!=this.groupTouchParams.group){var h=this.groupsData,d=h.get(e.groupId),l=h.get(this.groupTouchParams.group.groupId);if(l&&d){this.options.groupOrderSwap(l,d,this.groupsData);this.groupsData.update(l);this.groupsData.update(d)}var u=this.groupsData.getIds({order:this.options.groupOrder});if(!r.equalArray(u,this.groupTouchParams.originalOrder))for(var h=this.groupsData,c=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(c.length,u.length),m=0,v=0,g=0;m<f;){for(;m+v<f&&m+g<f&&u[m+v]==c[m+g];)m++;if(m+v>=f)break;if(u[m+v]!=p)if(c[m+g]!=p){var y=u.indexOf(c[m+g]),b=h.get(u[m+v]),w=h.get(c[m+g]);this.options.groupOrderSwap(b,w,h);h.update(b);h.update(w);var _=u[m+v];u[m+v]=c[m+g];u[y]=_;m++}else g=1;else v=1}}}};o.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,o=e.groupsData.getDataSet(),n=r.extend({},o.get(i));e.options.onMoveGroup(n,function(t){if(t){t[o._fieldId]=i;o.update(t)}else{var n=o.getIds({order:e.options.groupOrder});if(!r.equalArray(n,e.groupTouchParams.originalOrder))for(var s=e.groupTouchParams.originalOrder,a=Math.min(s.length,n.length),h=0;h<a;){for(;h<a&&n[h]==s[h];)h++;if(h>=a)break;var d=n.indexOf(s[h]),l=o.get(n[h]),u=o.get(s[h]);e.options.groupOrderSwap(l,u,o);groupsData.update(l);groupsData.update(u);var c=n[h];n[h]=s[h];n[d]=c;h++}}});e.body.emitter.emit("groupDragged",{groupId:i})}};o.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)this._onMultiSelectItem(t);else{var o=this.getSelection(),n=this.itemFromTarget(t),s=n?[n.id]:[];this.setSelection(s);var r=this.getSelection();(r.length>0||o.length>0)&&this.body.emitter.emit("select",{items:r,event:t})}}};o.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,i=this.options.snap||null,o=this.itemFromTarget(t);if(o){var n=e.itemsData.get(o.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}else{if(this.options.rtl)var s=r.getAbsoluteRight(this.dom.frame),a=s-t.center.x;else var s=r.getAbsoluteLeft(this.dom.frame),a=t.center.x-s;var h=this.body.util.toTime(a),d=this.body.util.getScale(),l=this.body.util.getStep(),u={start:i?i(h,d,l):h,content:"new item"};if("range"===this.options.type){var c=this.body.util.toTime(a+this.props.width/5);u.end=i?i(c,d,l):c}u[this.itemsData._fieldId]=r.randomUUID();var p=this.groupFromTarget(t);p&&(u.group=p.groupId);u=this._cloneItemData(u);this.options.onAdd(u,function(t){t&&e.itemsData.getDataSet().add(t)})}}};o.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[],n=t.srcEvent&&t.srcEvent.shiftKey||!1;if(n&&this.options.multiselect){var s=this.itemsData.get(e.id).group,r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group);this.options.multiselectPerGroup&&void 0!=r&&r!=s||i.push(e.id);var a=o._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==s){i=[];for(var h in this.items)if(this.items.hasOwnProperty(h)){var d=this.items[h],l=d.data.start,u=void 0!==d.data.end?d.data.end:l;!(l>=a.min&&u<=a.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(d.id).group||d instanceof v||i.push(d.id)}}}else{var c=i.indexOf(e.id);c==-1?i.push(e.id):i.splice(c,1)}this.setSelection(i);this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}};o._getItemRange=function(t){var e=null,i=null;t.forEach(function(t){(null==i||t.start<i)&&(i=t.start);void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)});return{min:i,max:e}};o.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null};o.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var o=this.groupIds[i],n=this.groups[o],s=n.dom.foreground,a=r.getAbsoluteTop(s);if(e>a&&e<a+s.offsetHeight)return n;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>a)return n}else if(0===i&&e<a+s.offset)return n}return null};o.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null};o.prototype._cloneItemData=function(t,e){var i=r.extend({},t);e||(e=this.itemsData.getDataSet()._options.type);void 0!=i.start&&(i.start=r.convert(i.start,e&&e.start||"Date"));void 0!=i.end&&(i.end=r.convert(i.end,e&&e.end||"Date"));return i};t.exports=o},function(t,e,i){function o(t,e,i,s){this.moment=n;this.current=this.moment();this._start=this.moment();this._end=this.moment();this.autoScale=!0;this.scale="day";this.step=1;this.setRange(t,e,i);this.switchedDay=!1;this.switchedMonth=!1;this.switchedYear=!1;Array.isArray(s)?this.hiddenDates=s:void 0!=s?this.hiddenDates=[s]:this.hiddenDates=[];this.format=o.FORMAT}var n=i(2),s=i(32),r=i(1);o.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}};o.prototype.setMoment=function(t){this.moment=t;this.current=this.moment(this.current);this._start=this.moment(this._start);this._end=this.moment(this._end)};o.prototype.setFormat=function(t){var e=r.deepExtend({},o.FORMAT);this.format=r.deepExtend(e,t)};o.prototype.setRange=function(t,e,i){if(!(t instanceof Date)||!(e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date;this._end=void 0!=e?this.moment(e.valueOf()):new Date;this.autoScale&&this.setMinimumStep(i)};o.prototype.start=function(){this.current=this._start.clone();this.roundToMinor()};o.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step));this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}};o.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};o.prototype.next=function(){var t=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":}this.current.valueOf()==t&&(this.current=this._end.clone());s.stepOverHiddenDates(this.moment,this,t)};o.prototype.getCurrent=function(){return this.current};o.prototype.setScale=function(t){if(t&&"string"==typeof t.scale){this.scale=t.scale;this.step=t.step>0?t.step:1;this.autoScale=!1}};o.prototype.setAutoScale=function(t){this.autoScale=t};o.prototype.setMinimumStep=function(t){if(void 0!=t){var e=1e3*60*60*24*30*12,i=1e3*60*60*24*30,o=1e3*60*60*24,n=1e3*60*60,s=1e3*60,r=1e3,a=1;if(1e3*e>t){this.scale="year";this.step=1e3}if(500*e>t){this.scale="year";this.step=500}if(100*e>t){this.scale="year";this.step=100}if(50*e>t){this.scale="year";this.step=50}if(10*e>t){this.scale="year";this.step=10}if(5*e>t){this.scale="year";this.step=5}if(e>t){this.scale="year";this.step=1}if(3*i>t){this.scale="month";this.step=3}if(i>t){this.scale="month";this.step=1}if(5*o>t){this.scale="day";this.step=5}if(2*o>t){this.scale="day";this.step=2}if(o>t){this.scale="day";this.step=1}if(o/2>t){this.scale="weekday";this.step=1}if(4*n>t){this.scale="hour";this.step=4}if(n>t){this.scale="hour";this.step=1}if(15*s>t){this.scale="minute";this.step=15}if(10*s>t){this.scale="minute";this.step=10}if(5*s>t){this.scale="minute";this.step=5}if(s>t){this.scale="minute";this.step=1}if(15*r>t){this.scale="second";this.step=15}if(10*r>t){this.scale="second";this.step=10}if(5*r>t){this.scale="second";this.step=5}if(r>t){this.scale="second";this.step=1}if(200*a>t){this.scale="millisecond";this.step=200}if(100*a>t){this.scale="millisecond";this.step=100}if(50*a>t){this.scale="millisecond";this.step=50}if(10*a>t){this.scale="millisecond";this.step=10}if(5*a>t){this.scale="millisecond";this.step=5}if(a>t){this.scale="millisecond";this.step=1}}};o.snap=function(t,e,i){var o=n(t);if("year"==e){var s=o.year()+Math.round(o.month()/12);o.year(Math.round(s/i)*i);o.month(0);o.date(0);o.hours(0);o.minutes(0);o.seconds(0);o.milliseconds(0)}else if("month"==e){if(o.date()>15){o.date(1);o.add(1,"month")}else o.date(1);o.hours(0);o.minutes(0);o.seconds(0);o.milliseconds(0)}else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0);o.seconds(0);o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0);o.seconds(0);o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0);o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5));o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5));o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var r=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/r)*r)}return o};o.prototype.isMajor=function(){if(1==this.switchedYear){this.switchedYear=!1;switch(this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}}else if(1==this.switchedMonth){this.switchedMonth=!1;switch(this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}}else if(1==this.switchedDay){this.switchedDay=!1;switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"month":return 0==t.month();case"year":return!1;default:return!1}};o.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);var e=this.format.minorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""};o.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""};o.prototype.getClassName=function(){function t(t){return t/h%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(s().add(1,"day"),"day")?" vis-tomorrow":t.isSame(s().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function o(t){return t.isSame(new Date,"month")?" vis-current-month":""}function n(t){return t.isSame(new Date,"year")?" vis-current-year":""}var s=this.moment,r=this.moment(this.current),a=r.locale?r.locale("en"):r.lang("en"),h=this.step;switch(this.scale){case"millisecond":return t(a.milliseconds()).trim();case"second":return t(a.seconds()).trim();case"minute":return t(a.minutes()).trim();case"hour":var d=a.hours();4==this.step&&(d=d+"-h"+(d+4));return"vis-h"+d+e(a)+t(a.hours());case"weekday":return"vis-"+a.format("dddd").toLowerCase()+e(a)+i(a)+t(a.date());case"day":var l=a.date(),u=a.format("MMMM").toLowerCase();return"vis-day"+l+" vis-"+u+o(a)+t(l-1);case"month":return"vis-"+a.format("MMMM").toLowerCase()+o(a)+t(a.month());case"year":var c=a.year();return"vis-year"+c+n(a)+t(c);default:return""}};t.exports=o},function(t,e,i){function o(t,e,i){this.groupId=t;this.subgroups={};this.subgroupIndex=0;this.subgroupOrderer=e&&e.subgroupOrder;this.itemSet=i;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0});this._create();this.setData(e)}var n=i(1),s=i(37),r=i(38);o.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label";this.dom.label=t;var e=document.createElement("div");e.className="vis-inner";t.appendChild(e);this.dom.inner=e;var i=document.createElement("div");i.className="vis-group";i["timeline-group"]=this;this.dom.foreground=i;this.dom.background=document.createElement("div");this.dom.background.className="vis-group";this.dom.axis=document.createElement("div");this.dom.axis.className="vis-group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.innerHTML="?";this.dom.background.appendChild(this.dom.marker)};o.prototype.setData=function(t){var e;e=this.itemSet.options&&this.itemSet.options.groupTemplate?this.itemSet.options.groupTemplate(t):t&&t.content;if(e instanceof Element){this.dom.inner.appendChild(e);for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else void 0!==e&&null!==e?this.dom.inner.innerHTML=e:this.dom.inner.innerHTML=this.groupId||"";this.dom.label.title=t&&t.title||"";this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"vis-hidden"):n.addClassName(this.dom.inner,"vis-hidden");var i=t&&t.className||null;if(i!=this.className){if(this.className){n.removeClassName(this.dom.label,this.className);n.removeClassName(this.dom.foreground,this.className);n.removeClassName(this.dom.background,this.className);n.removeClassName(this.dom.axis,this.className)}n.addClassName(this.dom.label,i);n.addClassName(this.dom.foreground,i);n.addClassName(this.dom.background,i);n.addClassName(this.dom.axis,i);this.className=i}if(this.style){n.removeCssText(this.dom.label,this.style);this.style=null}if(t&&t.style){n.addCssText(this.dom.label,t.style);this.style=t.style}};o.prototype.getLabelWidth=function(){return this.props.label.width};o.prototype.redraw=function(t,e,i){var o=!1,r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight){this.lastMarkerHeight=r;n.forEach(this.items,function(t){t.dirty=!0;t.displayed&&t.redraw()});i=!0}this._calculateSubGroupHeights();if("function"===typeof this.itemSet.options.order){if(i){var a=this,h=!1;n.forEach(this.items,function(t){if(!t.displayed){t.redraw();a.visibleItems.push(t)}t.repositionX(h)});var d=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});s.stack(d,e,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)}else{this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t);this.itemSet.options.stack?s.stack(this.visibleItems,e,i):s.nostack(this.visibleItems,e,this.subgroups)}var l=this._calculateHeight(e),u=this.dom.foreground;this.top=u.offsetTop;this.right=u.offsetLeft;this.width=u.offsetWidth;o=n.updateProperty(this,"height",l)||o;o=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||o;o=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||o;this.dom.background.style.height=l+"px";this.dom.foreground.style.height=l+"px";this.dom.label.style.height=l+"px";for(var c=0,p=this.visibleItems.length;c<p;c++){var f=this.visibleItems[c];f.repositionY(e)}return o};o.prototype._calculateSubGroupHeights=function(){if(Object.keys(this.subgroups).length>0){var t=this;this.resetSubgroups();n.forEach(this.visibleItems,function(e){if(void 0!==e.data.subgroup){t.subgroups[e.data.subgroup].height=Math.max(t.subgroups[e.data.subgroup].height,e.height);t.subgroups[e.data.subgroup].visible=!0}})}};o.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var o=i[0].top,s=i[0].top+i[0].height;n.forEach(i,function(t){o=Math.min(o,t.top);s=Math.max(s,t.top+t.height)});if(o>t.axis){var r=o-t.axis;s-=r;n.forEach(i,function(t){t.top-=r})}e=s+t.item.vertical/2}else e=0;e=Math.max(e,this.props.label.height);return e};o.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis);
};o.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var o=this.dom.axis;o.parentNode&&o.parentNode.removeChild(o)};o.prototype.add=function(t){this.items[t.id]=t;t.setParent(this);if(void 0!==t.data.subgroup){if(void 0===this.subgroups[t.data.subgroup]){this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]};this.subgroupIndex++}this.subgroups[t.data.subgroup].items.push(t)}this.orderSubgroups();if(this.visibleItems.indexOf(t)==-1){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}};o.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}};o.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)};o.prototype.remove=function(t){delete this.items[t.id];t.setParent(null);var e=this.visibleItems.indexOf(t);e!=-1&&this.visibleItems.splice(e,1);if(void 0!==t.data.subgroup){var i=this.subgroups[t.data.subgroup];if(i){var o=i.items.indexOf(t);i.items.splice(o,1);if(!i.items.length){delete this.subgroups[t.data.subgroup];this.subgroupIndex--}this.orderSubgroups()}}};o.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)};o.prototype.order=function(){for(var t=n.toArray(this.items),e=[],i=[],o=0;o<t.length;o++){void 0!==t[o].data.end&&i.push(t[o]);e.push(t[o])}this.orderedItems={byStart:e,byEnd:i};s.orderByStart(this.orderedItems.byStart);s.orderByEnd(this.orderedItems.byEnd)};o.prototype._updateVisibleItems=function(t,e,i){var o=[],s={},r=(i.end-i.start)/4,a=i.start-r,h=i.end+r,d,l,u=function t(e){return e<a?-1:e<=h?0:1};if(e.length>0)for(l=0;l<e.length;l++)this._checkIfVisibleWithReference(e[l],o,s,i);var c=n.binarySearchCustom(t.byStart,u,"data","start");this._traceVisible(c,t.byStart,o,s,function(t){return t.data.start<a||t.data.start>h});if(1==this.checkRangedItems){this.checkRangedItems=!1;for(l=0;l<t.byEnd.length;l++)this._checkIfVisibleWithReference(t.byEnd[l],o,s,i)}else{var p=n.binarySearchCustom(t.byEnd,u,"data","end");this._traceVisible(p,t.byEnd,o,s,function(t){return t.data.end<a||t.data.end>h})}for(l=0;l<o.length;l++){d=o[l];d.displayed||d.show();d.repositionX()}return o};o.prototype._traceVisible=function(t,e,i,o,n){var s,r;if(t!=-1){for(r=t;r>=0;r--){s=e[r];if(n(s))break;if(void 0===o[s.id]){o[s.id]=!0;i.push(s)}}for(r=t+1;r<e.length;r++){s=e[r];if(n(s))break;if(void 0===o[s.id]){o[s.id]=!0;i.push(s)}}}};o.prototype._checkIfVisible=function(t,e,i){if(t.isVisible(i)){t.displayed||t.show();t.repositionX();e.push(t)}else t.displayed&&t.hide()};o.prototype._checkIfVisibleWithReference=function(t,e,i,o){if(t.isVisible(o)){if(void 0===i[t.id]){i[t.id]=!0;e.push(t)}}else t.displayed&&t.hide()};t.exports=o},function(t,e){var i=.001;e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})};e.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,o="end"in e.data?e.data.end:e.data.start;return i-o})};e.stack=function(t,i,o){var n,s;if(o)for(n=0,s=t.length;n<s;n++)t[n].top=null;for(n=0,s=t.length;n<s;n++){var r=t[n];if(r.stack&&null===r.top){r.top=i.axis;do{for(var a=null,h=0,d=t.length;h<d;h++){var l=t[h];if(null!==l.top&&l!==r&&l.stack&&e.collision(r,l,i.item,l.options.rtl)){a=l;break}}null!=a&&(r.top=a.top+a.height+i.item.vertical)}while(a)}}};e.nostack=function(t,e,i){var o,n,s;for(o=0,n=t.length;o<n;o++)if(void 0!==t[o].data.subgroup){s=e.axis;for(var r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[o].data.subgroup].index&&(s+=i[r].height+e.item.vertical);t[o].top=s}else t[o].top=e.axis};e.collision=function(t,e,o,n){return n?t.right-o.horizontal+i<e.right+e.width&&t.right+t.width+o.horizontal-i>e.right&&t.top-o.vertical+i<e.top+e.height&&t.top+t.height+o.vertical-i>e.top:t.left-o.horizontal+i<e.left+e.width&&t.left+t.width+o.horizontal-i>e.left&&t.top-o.vertical+i<e.top+e.height&&t.top+t.height+o.vertical-i>e.top}},function(t,e,i){function o(t,e,i){this.props={content:{width:0}};this.overflow=!1;this.options=i;if(t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}s.call(this,t,e,i)}var n=i(20),s=i(39);o.prototype=new s(null,null,null);o.prototype.baseClassName="vis-item vis-range";o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start};o.prototype.redraw=function(){var t=this.dom;if(!t){this.dom={};t=this.dom;t.box=document.createElement("div");t.frame=document.createElement("div");t.frame.className="vis-item-overflow";t.box.appendChild(t.frame);t.content=document.createElement("div");t.content.className="vis-item-content";t.frame.appendChild(t.content);t.box["timeline-item"]=this;this.dirty=!0}if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}this.displayed=!0;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.box);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.box.className=this.baseClassName+o;this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow;this.dom.content.style.maxWidth="none";this.props.content.width=this.dom.content.offsetWidth;this.height=this.dom.box.offsetHeight;this.dom.content.style.maxWidth="";this.dirty=!1}this._repaintDeleteButton(t.box);this._repaintDragLeft();this._repaintDragRight()};o.prototype.show=function(){this.displayed||this.redraw()};o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t);this.displayed=!1}};o.prototype.repositionX=function(t){var e=this.parent.width,i=this.conversion.toScreen(this.data.start),o=this.conversion.toScreen(this.data.end),n,s;if(void 0===t||t===!0){i<-e&&(i=-e);o>2*e&&(o=2*e)}var r=Math.max(o-i,1);if(this.overflow){this.options.rtl?this.right=i:this.left=i;this.width=r+this.props.content.width;s=this.props.content.width}else{this.options.rtl?this.right=i:this.left=i;this.width=r;s=Math.min(o-i,this.props.content.width)}this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px";this.dom.box.style.width=r+"px";switch(this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(r-s,0)+"px":this.dom.content.style.left=Math.max(r-s,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((r-s)/2,0)+"px":this.dom.content.style.left=Math.max((r-s)/2,0)+"px";break;default:n=this.overflow?o>0?Math.max(-i,0):-s:i<0?-i:0;this.options.rtl?this.dom.content.style.right=n+"px":this.dom.content.style.left=n+"px"}};o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"};o.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left";t.dragLeftItem=this;this.dom.box.appendChild(t);this.dom.dragLeft=t}else if(!this.selected&&this.dom.dragLeft){this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft);this.dom.dragLeft=null}};o.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right";t.dragRightItem=this;this.dom.box.appendChild(t);this.dom.dragRight=t}else if(!this.selected&&this.dom.dragRight){this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight);this.dom.dragRight=null}};t.exports=o},function(t,e,i){function o(t,e,i){this.id=null;this.parent=null;this.data=t;this.dom=null;this.conversion=e||{};this.options=i||{};this.selected=!1;this.displayed=!1;this.dirty=!0;this.top=null;this.right=null;this.left=null;this.width=null;this.height=null;this.editable=null;this.data&&this.data.hasOwnProperty("editable")&&"boolean"===typeof this.data.editable&&(this.editable=t.editable)}var n=i(20),s=i(1);o.prototype.stack=!0;o.prototype.select=function(){this.selected=!0;this.dirty=!0;this.displayed&&this.redraw()};o.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};o.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&this.parent.itemSet._moveToGroup(this,t.group);t.hasOwnProperty("editable")&&"boolean"===typeof t.editable&&(this.editable=t.editable);this.data=t;this.dirty=!0;this.displayed&&this.redraw()};o.prototype.setParent=function(t){if(this.displayed){this.hide();this.parent=t;this.parent&&this.show()}else this.parent=t};o.prototype.isVisible=function(t){return!1};o.prototype.show=function(){return!1};o.prototype.hide=function(){return!1};o.prototype.redraw=function(){};o.prototype.repositionX=function(){};o.prototype.repositionY=function(){};o.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.remove||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&e&&!this.dom.deleteButton){var i=this,o=document.createElement("div");this.options.rtl?o.className="vis-delete-rtl":o.className="vis-delete";o.title="Delete this item";new n(o).on("tap",function(t){t.stopPropagation();i.parent.removeFromDataSet(i)});t.appendChild(o);this.dom.deleteButton=o}else if(!this.selected&&this.dom.deleteButton){this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton);this.dom.deleteButton=null}};o.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;var o=this._contentToString(this.content)!==this._contentToString(e);if(o){if(e instanceof Element){t.innerHTML="";t.appendChild(e)}else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}};o.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("vis-title")};o.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}};o.prototype._updateStyle=function(t){if(this.style){s.removeCssText(t,this.style);this.style=null}if(this.data.style){s.addCssText(t,this.data.style);this.style=this.data.style}};o.prototype._contentToString=function(t){return"string"===typeof t?t:t&&"outerHTML"in t?t.outerHTML:t};o.prototype.getWidthLeft=function(){return 0};o.prototype.getWidthRight=function(){return 0};t.exports=o},function(t,e,i){function o(t,e,i){s.call(this,t,e,i);this.width=0;this.height=0;this.top=0;this.left=0}var n=i(1),s=i(36);o.prototype=Object.create(s.prototype);o.prototype.redraw=function(t,e,i){var o=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t);this.width=this.dom.background.offsetWidth;this.dom.background.style.height="0";for(var n=0,s=this.visibleItems.length;n<s;n++){var r=this.visibleItems[n];r.repositionY(e)}return o};o.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)};t.exports=o},function(t,e,i){function o(t,e,i){this.props={dot:{width:0,height:0},line:{width:0,height:0}};this.options=i;if(t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(39),s=i(1);o.prototype=new n(null,null,null);o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e};o.prototype.redraw=function(){var t=this.dom;if(!t){this.dom={};t=this.dom;t.box=document.createElement("DIV");t.content=document.createElement("DIV");t.content.className="vis-item-content";t.box.appendChild(t.content);t.line=document.createElement("DIV");t.line.className="vis-line";t.dot=document.createElement("DIV");t.dot.className="vis-dot";t.box["timeline-item"]=this;this.dirty=!0}if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var o=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");o.appendChild(t.dot)}this.displayed=!0;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.box);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var n=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,s=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(n?" vis-editable":" vis-readonly");t.box.className="vis-item vis-box"+s;t.line.className="vis-item vis-line"+s;t.dot.className="vis-item vis-dot"+s;this.props.dot.height=t.dot.offsetHeight;this.props.dot.width=t.dot.offsetWidth;this.props.line.width=t.line.offsetWidth;this.width=t.box.offsetWidth;this.height=t.box.offsetHeight;this.dirty=!1}this._repaintDeleteButton(t.box)};o.prototype.show=function(){this.displayed||this.redraw()};o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box);t.line.parentNode&&t.line.parentNode.removeChild(t.line);t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot);this.displayed=!1}};o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;if("right"==e)if(this.options.rtl){this.right=t-this.width;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=t-this.props.line.width+"px";this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"}else{this.left=t-this.width;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=t-this.props.line.width+"px";this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"}else if("left"==e)if(this.options.rtl){this.right=t;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=t+"px";this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"}else{this.left=t;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=t+"px";this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"}else if(this.options.rtl){this.right=t-this.width/2;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=t-this.props.line.width+"px";this.dom.dot.style.right=t-this.props.dot.width/2+"px"}else{this.left=t-this.width/2;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=t-this.props.line.width/2+"px";this.dom.dot.style.left=t-this.props.dot.width/2+"px"}};o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,o=this.dom.dot;if("top"==t){e.style.top=(this.top||0)+"px";i.style.top="0";i.style.height=this.parent.top+this.top+1+"px";i.style.bottom=""}else{var n=this.parent.itemSet.props.height,s=n-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px";i.style.top=n-s+"px";i.style.bottom="0"}o.style.top=-this.props.dot.height/2+"px"};o.prototype.getWidthLeft=function(){return this.width/2};o.prototype.getWidthRight=function(){return this.width/2};t.exports=o},function(t,e,i){function o(t,e,i){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}};this.options=i;if(t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(39);o.prototype=new n(null,null,null);o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e};o.prototype.redraw=function(){var t=this.dom;if(!t){this.dom={};t=this.dom;t.point=document.createElement("div");t.content=document.createElement("div");t.content.className="vis-item-content";t.point.appendChild(t.content);t.dot=document.createElement("div");t.point.appendChild(t.dot);t.point["timeline-item"]=this;this.dirty=!0}if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}this.displayed=!0;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.point);this._updateDataAttributes(this.dom.point);this._updateStyle(this.dom.point);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.point.className="vis-item vis-point"+o;t.dot.className="vis-item vis-dot"+o;this.props.dot.width=t.dot.offsetWidth;this.props.dot.height=t.dot.offsetHeight;this.props.content.height=t.content.offsetHeight;this.options.rtl?t.content.style.marginRight=2*this.props.dot.width+"px":t.content.style.marginLeft=2*this.props.dot.width+"px";this.width=t.point.offsetWidth;this.height=t.point.offsetHeight;t.dot.style.top=(this.height-this.props.dot.height)/2+"px";this.options.rtl?t.dot.style.right=this.props.dot.width/2+"px":t.dot.style.left=this.props.dot.width/2+"px";this.dirty=!1}this._repaintDeleteButton(t.point)};o.prototype.show=function(){this.displayed||this.redraw()};o.prototype.hide=function(){if(this.displayed){this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point);this.displayed=!1}};o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);if(this.options.rtl){this.right=t-this.props.dot.width;this.dom.point.style.right=this.right+"px"}else{this.left=t-this.props.dot.width;this.dom.point.style.left=this.left+"px"}};o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"};o.prototype.getWidthLeft=function(){return this.props.dot.width};o.prototype.getWidthRight=function(){return this.props.dot.width};t.exports=o},function(t,e,i){function o(t,e,i){this.props={content:{width:0}};this.overflow=!1;if(t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}s.call(this,t,e,i)}var n=i(20),s=i(39),r=i(40),a=i(38);o.prototype=new s(null,null,null);o.prototype.baseClassName="vis-item vis-background";o.prototype.stack=!1;o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start};o.prototype.redraw=function(){var t=this.dom;if(!t){this.dom={};t=this.dom;t.box=document.createElement("div");t.frame=document.createElement("div");t.frame.className="vis-item-overflow";t.box.appendChild(t.frame);t.content=document.createElement("div");t.content.className="vis-item-content";t.frame.appendChild(t.content);this.dirty=!0}if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}this.displayed=!0;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.content);this._updateDataAttributes(this.dom.content);this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i;this.overflow="hidden"!==window.getComputedStyle(t.content).overflow;this.props.content.width=this.dom.content.offsetWidth;this.height=0;this.dirty=!1}};o.prototype.show=a.prototype.show;o.prototype.hide=a.prototype.hide;o.prototype.repositionX=a.prototype.repositionX;o.prototype.repositionY=function(t){var e="top"===this.options.orientation.item;this.dom.content.style.top=e?"":"0";this.dom.content.style.bottom=e?"0":"";var i;if(void 0!==this.data.subgroup){var o=this.data.subgroup,n=this.parent.subgroups,s=n[o].index;if(1==e){i=this.parent.subgroups[o].height+t.item.vertical;i+=0==s?t.axis-.5*t.item.vertical:0;var a=this.parent.top;for(var h in n)n.hasOwnProperty(h)&&1==n[h].visible&&n[h].index<s&&(a+=n[h].height+t.item.vertical);a+=0!=s?t.axis-.5*t.item.vertical:0;this.dom.box.style.top=a+"px";this.dom.box.style.bottom=""}else{var a=this.parent.top,d=0;for(var h in n)if(n.hasOwnProperty(h)&&1==n[h].visible){var l=n[h].height+t.item.vertical;d+=l;n[h].index>s&&(a+=l)}i=this.parent.subgroups[o].height+t.item.vertical;this.dom.box.style.top=this.parent.height-d+a+"px";this.dom.box.style.bottom=""}}else if(this.parent instanceof r){i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height);this.dom.box.style.top=e?"0":"";this.dom.box.style.bottom=e?"":"0"}else{i=this.parent.height;this.dom.box.style.top=this.parent.top+"px";this.dom.box.style.bottom=""}this.dom.box.style.height=i+"px"};t.exports=o},function(t,e,i){function o(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:a.FORMAT,moment:d,timeAxis:null};this.options=s.extend({},this.defaultOptions);this.body=t;this._create();this.setOptions(e)}var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(31),a=i(35),h=i(32),d=i(2);o.prototype=new r;o.prototype.setOptions=function(t){if(t){s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t);s.selectiveDeepExtend(["format"],this.options,t);"orientation"in t&&("string"===typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===n(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis));"locale"in t&&("function"===typeof d.locale?d.locale(t.locale):d.lang(t.locale))}};o.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="vis-time-axis vis-foreground";this.dom.background.className="vis-time-axis vis-background"};o.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};o.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=s?t.minorCharHeight:0;t.majorLabelHeight=r?t.majorCharHeight:0;t.height=t.minorLabelHeight+t.majorLabelHeight;t.width=e.offsetWidth;t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height);t.minorLineWidth=1;t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight;t.majorLineWidth=1;var a=e.nextSibling,h=i.nextSibling;e.parentNode&&e.parentNode.removeChild(e);i.parentNode&&i.parentNode.removeChild(i);e.style.height=this.props.height+"px";this._repaintLabels();a?o.insertBefore(e,a):o.appendChild(e);h?this.body.dom.backgroundVertical.insertBefore(i,h):this.body.dom.backgroundVertical.appendChild(i);return this._isResized()||n};o.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=s.convert(this.body.range.start,"Number"),i=s.convert(this.body.range.end,"Number"),o=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),n=o-h.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,o);n-=this.body.util.toTime(0).valueOf();var r=new a(new Date(e),new Date(i),n,this.body.hiddenDates);r.setMoment(this.options.moment);this.options.format&&r.setFormat(this.options.format);this.options.timeAxis&&r.setScale(this.options.timeAxis);this.step=r;var d=this.dom;d.redundant.lines=d.lines;d.redundant.majorTexts=d.majorTexts;d.redundant.minorTexts=d.minorTexts;d.lines=[];d.majorTexts=[];d.minorTexts=[];var u,c,p,f,m,v,g=0,y,b,w,_=void 0,x=0,k=1e3,O;r.start();c=r.getCurrent();f=this.body.util.toScreen(c);for(;r.hasNext()&&x<k;){x++;m=r.isMajor();O=r.getClassName();w=r.getLabelMinor();u=c;p=f;r.next();c=r.getCurrent();v=r.isMajor();f=this.body.util.toScreen(c);y=g;g=f-p;var M=g>=.4*y;if(this.options.showMinorLabels&&M){var S=this._repaintMinorText(p,w,t,O);S.style.width=g+"px"}if(m&&this.options.showMajorLabels){if(p>0){void 0==_&&(_=p);S=this._repaintMajorText(p,r.getLabelMajor(),t,O)}b=this._repaintMajorLine(p,g,t,O)}else M?b=this._repaintMinorLine(p,g,t,O):b&&(b.style.width=parseInt(b.style.width)+g+"px")}if(x===k&&!l){console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+k+" lines.");l=!0}if(this.options.showMajorLabels){var D=this.body.util.toTime(0),C=r.getLabelMajor(D),T=C.length*(this.props.majorCharWidth||10)+10;(void 0==_||T<_)&&this._repaintMajorText(0,C,t,O)}s.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})};o.prototype._repaintMinorText=function(t,e,i,o){var n=this.dom.redundant.minorTexts.shift();if(!n){var s=document.createTextNode("");n=document.createElement("div");n.appendChild(s);this.dom.foreground.appendChild(n)}this.dom.minorTexts.push(n);n.childNodes[0].nodeValue=e;n.style.top="top"==i?this.props.majorLabelHeight+"px":"0";if(this.options.rtl){n.style.left="";n.style.right=t+"px"}else n.style.left=t+"px";n.className="vis-text vis-minor "+o;return n};o.prototype._repaintMajorText=function(t,e,i,o){var n=this.dom.redundant.majorTexts.shift();if(!n){var s=document.createTextNode(e);n=document.createElement("div");n.appendChild(s);this.dom.foreground.appendChild(n)}this.dom.majorTexts.push(n);n.childNodes[0].nodeValue=e;n.className="vis-text vis-major "+o;n.style.top="top"==i?"0":this.props.minorLabelHeight+"px";if(this.options.rtl){n.style.left="";n.style.right=t+"px"}else n.style.left=t+"px";return n};o.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();if(!n){n=document.createElement("div");this.dom.background.appendChild(n)}this.dom.lines.push(n);var s=this.props;"top"==i?n.style.top=s.majorLabelHeight+"px":n.style.top=this.body.domProps.top.height+"px";n.style.height=s.minorLineHeight+"px";if(this.options.rtl){n.style.left="";n.style.right=t-s.minorLineWidth/2+"px";n.className="vis-grid vis-vertical-rtl vis-minor "+o}else{n.style.left=t-s.minorLineWidth/2+"px";n.className="vis-grid vis-vertical vis-minor "+o}n.style.width=e+"px";return n};o.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();if(!n){n=document.createElement("div");this.dom.background.appendChild(n)}this.dom.lines.push(n);var s=this.props;"top"==i?n.style.top="0":n.style.top=this.body.domProps.top.height+"px";if(this.options.rtl){n.style.left="";n.style.right=t-s.majorLineWidth/2+"px";n.className="vis-grid vis-vertical-rtl vis-major "+o}else{n.style.left=t-s.majorLineWidth/2+"px";n.className="vis-grid vis-vertical vis-major "+o}n.style.height=s.majorLineHeight+"px";n.style.width=e+"px";return n};o.prototype._calculateCharSize=function(){if(!this.dom.measureCharMinor){this.dom.measureCharMinor=document.createElement("DIV");this.dom.measureCharMinor.className="vis-text vis-minor vis-measure";this.dom.measureCharMinor.style.position="absolute";this.dom.measureCharMinor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMinor)}this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;if(!this.dom.measureCharMajor){this.dom.measureCharMajor=document.createElement("DIV");this.dom.measureCharMajor.className="vis-text vis-major vis-measure";this.dom.measureCharMajor.style.position="absolute";this.dom.measureCharMajor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMajor)}this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var l=!1;t.exports=o},function(t,e,i){function o(t){this.active=!1;this.dom={container:t};this.dom.overlay=document.createElement("div");this.dom.overlay.className="vis-overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=a(this.dom.overlay);this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})});if(document&&document.body){this.onClick=function(i){n(i.target,t)||e.deactivate()};document.body.addEventListener("click",this.onClick)}void 0!==this.keycharm&&this.keycharm.destroy();this.keycharm=s();this.escListener=this.deactivate.bind(this)}function n(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var s=i(23),r=i(13),a=i(20),h=i(1);r(o.prototype);o.current=null;o.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.onClick&&document.body.removeEventListener("click",this.onClick);this.hammer.destroy();this.hammer=null};o.prototype.activate=function(){o.current&&o.current.deactivate();o.current=this;this.active=!0;this.dom.overlay.style.display="none";h.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};o.prototype.deactivate=function(){this.active=!1;this.dom.overlay.style.display="";h.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};o.prototype._onTapOverlay=function(t){this.activate();t.stopPropagation()};t.exports=o},function(t,e,i){function o(t,e){this.body=t;this.defaultOptions={moment:a,locales:h,locale:"en",id:void 0,title:void 0};this.options=s.extend({},this.defaultOptions);e&&e.time?this.customTime=e.time:this.customTime=new Date;
this.eventParams={};this.setOptions(e);this._create()}var n=i(20),s=i(1),r=i(31),a=i(2),h=i(47);o.prototype=new r;o.prototype.setOptions=function(t){t&&s.selectiveExtend(["moment","locale","locales","id"],this.options,t)};o.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this;t.className="vis-custom-time "+(this.options.id||"");t.style.position="absolute";t.style.top="0px";t.style.height="100%";this.bar=t;var e=document.createElement("div");e.style.position="relative";e.style.top="0px";e.style.left="-10px";e.style.height="100%";e.style.width="20px";t.appendChild(e);this.hammer=new n(e);this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})};o.prototype.destroy=function(){this.hide();this.hammer.destroy();this.hammer=null;this.body=null};o.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;if(this.bar.parentNode!=t){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);t.appendChild(this.bar)}var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];if(!i){if(!this.warned){console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization");this.warned=!0}i=this.options.locales["en"]}var o=this.options.title;if(void 0===o){o=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1)}this.bar.style.left=e+"px";this.bar.title=o;return!1};o.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)};o.prototype.setCustomTime=function(t){this.customTime=s.convert(t,"Date");this.redraw()};o.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};o.prototype.setCustomTitle=function(t){this.options.title=t};o.prototype._onDragStart=function(t){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;t.stopPropagation()};o.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i);this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())});t.stopPropagation()}};o.prototype._onDragEnd=function(t){if(this.eventParams.dragging){this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())});t.stopPropagation()}};o.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null};t.exports=o},function(t,e){e["en"]={current:"current",time:"time"};e["en_EN"]=e["en"];e["en_US"]=e["en"];e["nl"]={current:"huidige",time:"tijd"};e["nl_NL"]=e["nl"];e["nl_BE"]=e["nl"]},function(t,e,i){function o(t,e){this.body=t;this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:a,locale:"en"};this.options=n.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(e)}var n=i(1),s=i(31),r=i(2),a=i(47);o.prototype=new s;o.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time";t.style.position="absolute";t.style.top="0px";t.style.height="100%";this.bar=t};o.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};o.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)};o.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;if(this.bar.parentNode!=t){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);t.appendChild(this.bar);this.start()}var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),o=this.options.locales[this.options.locale];if(!o){if(!this.warned){console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization");this.warned=!0}o=this.options.locales["en"]}var n=o.current+" "+o.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1);this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px";this.bar.title=n}else{this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);this.stop()}return!1};o.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,o=1/i/10;o<30&&(o=30);o>1e3&&(o=1e3);e.redraw();e.body.emitter.emit("currentTimeTick");e.currentTimeTimer=setTimeout(t,o)}var e=this;t()};o.prototype.stop=function(){if(void 0!==this.currentTimeTimer){clearTimeout(this.currentTimeTimer);delete this.currentTimeTimer}};o.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i;this.redraw()};o.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="date",a="object",h="dom",d="moment",l="any",u={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:h},__type__:{object:a,boolean:o,function:"function"}},align:{string:i},rtl:{boolean:o,undefined:"undefined"},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},dataAttributes:{string:i,array:s},editable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},updateGroup:{boolean:o,undefined:"undefined"},updateTime:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},end:{number:n,date:r,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{function:"function"},groupOrder:{string:i,function:"function"},groupEditable:{add:{boolean:o,undefined:"undefined"},remove:{boolean:o,undefined:"undefined"},order:{boolean:o,undefined:"undefined"},__type__:{boolean:o,object:a}},groupOrderSwap:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:r,number:n,string:i,moment:d},end:{date:r,number:n,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:s}},itemsAlwaysDraggable:{boolean:o},locale:{string:i},locales:{__any__:{any:l},__type__:{object:a}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:a,number:n}},__type__:{object:a,number:n}},max:{date:r,number:n,string:i,moment:d},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:r,number:n,string:i,moment:d},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},multiselectPerGroup:{boolean:o},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{boolean:o},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},stack:{boolean:o},snap:{function:"function",null:"null"},start:{date:r,number:n,string:i,moment:d},template:{function:"function"},groupTemplate:{function:"function"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:a}},c={global:{align:["center","left","right"],direction:!1,autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=u;e.configureOptions=c},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,o){if(!(Array.isArray(i)||i instanceof p||i instanceof f)&&i instanceof Object){var n=o;o=i;i=n}var s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:u,width:null,height:null,maxHeight:null,minHeight:null};this.options=c.deepExtend({},this.defaultOptions);this._create(t);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}};this.range=new m(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new g(this.body);this.components.push(this.timeAxis);this.currentTime=new y(this.body);this.components.push(this.currentTime);this.linegraph=new w(this.body);this.components.push(this.linegraph);this.itemsData=null;this.groupsData=null;this.on("tap",function(t){s.emit("click",s.getEventProperties(t))});this.on("doubletap",function(t){s.emit("doubleClick",s.getEventProperties(t))});this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))};o&&this.setOptions(o);i&&this.setGroups(i);e&&this.setItems(e);this._redraw()}var s=i(26),r=o(s),a=i(29),h=o(a),d=i(13),l=i(20),u=i(2),c=i(1),p=i(9),f=i(11),m=i(30),v=i(33),g=i(44),y=i(48),b=i(46),w=i(51),_=i(29).printStyle,x=i(59).allOptions,k=i(59).configureOptions;n.prototype=new v;n.prototype.setOptions=function(t){var e=h.default.validate(t,x);e===!0&&console.log("%cErrors have been found in the supplied options object.",_);v.prototype.setOptions.call(this,t)};n.prototype.setItems=function(t){var e=null==this.itemsData,i;i=t?t instanceof p||t instanceof f?t:new p(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=i;this.linegraph&&this.linegraph.setItems(i);if(e)if(void 0!=this.options.start||void 0!=this.options.end){var o=void 0!=this.options.start?this.options.start:null,n=void 0!=this.options.end?this.options.end:null;this.setWindow(o,n,{animation:!1})}else this.fit({animation:!1})};n.prototype.setGroups=function(t){var e;e=t?t instanceof p||t instanceof f?t:new p(t):null;this.groupsData=e;this.linegraph.setGroups(e)};n.prototype.getLegend=function(t,e,i){void 0===e&&(e=15);void 0===i&&(i=15);return void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"};n.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))};n.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var o=0;o<this.linegraph.groups[i].itemsData.length;o++){var n=this.linegraph.groups[i].itemsData[o],s=c.convert(n.x,"Date").valueOf();t=null==t?s:t>s?s:t;e=null==e?s:e<s?s:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}};n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,o=e-c.getAbsoluteLeft(this.dom.centerContainer),n=i-c.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(o),r=b.customTimeFromTarget(t),a=c.getTarget(t),h=null;c.hasParent(a,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&c.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":c.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":c.hasParent(a,this.linegraph.yAxisRight.dom.frame)?h="data-axis":c.hasParent(a,this.linegraph.legendLeft.dom.frame)?h="legend":c.hasParent(a,this.linegraph.legendRight.dom.frame)?h="legend":null!=r?h="custom-time":c.hasParent(a,this.currentTime.bar)?h="current-time":c.hasParent(a,this.dom.center)&&(h="background");var d=[],l=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;l.hidden||d.push(l.screenToValue(n));u.hidden||d.push(u.screenToValue(n));return{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:s,value:d}};n.prototype._createConfigurator=function(){return new r.default(this,this.dom.container,k)};t.exports=n},function(t,e,i){function o(t,e){this.id=s.randomUUID();this.body=t;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}};this.options=s.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=!1;this.updateSVGheight=!1;this.updateSVGheightOnResize=!1;this.forceGraphUpdate=!0;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function t(e,o,n){i._onAdd(o.items)},update:function t(e,o,n){i._onUpdate(o.items)},remove:function t(e,o,n){i._onRemove(o.items)}};this.groupListeners={add:function t(e,o,n){i._onAddGroups(o.items)},update:function t(e,o,n){i._onUpdateGroups(o.items)},remove:function t(e,o,n){i._onRemoveGroups(o.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(e);this.groupsUsingDefaultStyles=[0];this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start;i.svg.style.left=s.option.asSize(-i.props.width);i.forceGraphUpdate=!0;i.redraw.call(i)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(8),a=i(9),h=i(11),d=i(31),l=i(52),u=i(54),c=i(58),p=i(55),f=i(57),m=i(56),v="__ungrouped__";o.prototype=new d;o.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph";this.dom.frame=t;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";t.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new l(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new l(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new c(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new c(this.body,this.options.legend,"right",this.options.groups);this.show()};o.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];if(void 0===t.graphHeight&&void 0!==t.height){this.updateSVGheight=!0;this.updateSVGheightOnResize=!0}else void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0);s.selectiveDeepExtend(e,this.options,t);s.mergeOptions(this.options,t,"interpolation");s.mergeOptions(this.options,t,"drawPoints");s.mergeOptions(this.options,t,"shaded");s.mergeOptions(this.options,t,"legend");if(t.interpolation&&"object"==n(t.interpolation)&&t.interpolation.parametrization)if("uniform"==t.interpolation.parametrization)this.options.interpolation.alpha=0;else if("chordal"==t.interpolation.parametrization)this.options.interpolation.alpha=1;else{this.options.interpolation.parametrization="centripetal";this.options.interpolation.alpha=.5}if(this.yAxisLeft&&void 0!==t.dataAxis){this.yAxisLeft.setOptions(this.options.dataAxis);this.yAxisRight.setOptions(this.options.dataAxis)}if(this.legendLeft&&void 0!==t.legend){this.legendLeft.setOptions(this.options.legend);this.legendRight.setOptions(this.options.legend)}this.groups.hasOwnProperty(v)&&this.groups[v].setOptions(t)}if(this.dom.frame){this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})}};o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};o.prototype.setItems=function(t){var e=this,i,o=this.itemsData;if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o){s.forEach(this.itemListeners,function(t,e){o.off(e,t)});i=o.getIds();this._onRemove(i)}if(this.itemsData){var n=this.id;s.forEach(this.itemListeners,function(t,i){e.itemsData.on(i,t,n)});i=this.itemsData.getIds();this._onAdd(i)}};o.prototype.setGroups=function(t){var e=this,i;if(this.groupsData){s.forEach(this.groupListeners,function(t,i){e.groupsData.off(i,t)});i=this.groupsData.getIds();this.groupsData=null;for(var o=0;o<i.length;o++)this._removeGroup(i[o])}if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;s.forEach(this.groupListeners,function(t,i){e.groupsData.on(i,t,n)});i=this.groupsData.getIds();this._onAddGroups(i)}};o.prototype._onUpdate=function(t){this._updateAllGroupData()};o.prototype._onAdd=function(t){this._onUpdate(t)};o.prototype._onRemove=function(t){this._onUpdate(t)};o.prototype._onUpdateGroups=function(t){this._updateAllGroupData()};o.prototype._onAddGroups=function(t){this._onUpdateGroups(t)};o.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})};o.prototype._removeGroup=function(t){if(this.groups.hasOwnProperty(t)){if("right"==this.groups[t].options.yAxisOrientation){this.yAxisRight.removeGroup(t);this.legendRight.removeGroup(t);this.legendRight.redraw()}else{this.yAxisLeft.removeGroup(t);this.legendLeft.removeGroup(t);this.legendLeft.redraw()}delete this.groups[t]}};o.prototype._updateGroup=function(t,e){if(this.groups.hasOwnProperty(e)){this.groups[e].update(t);if("right"==this.groups[e].options.yAxisOrientation){this.yAxisRight.updateGroup(e,this.groups[e]);this.legendRight.updateGroup(e,this.groups[e]);this.yAxisLeft.removeGroup(e);this.legendLeft.removeGroup(e)}else{this.yAxisLeft.updateGroup(e,this.groups[e]);this.legendLeft.updateGroup(e,this.groups[e]);this.yAxisRight.removeGroup(e);this.legendRight.removeGroup(e)}}else{this.groups[e]=new u(t,e,this.options,this.groupsUsingDefaultStyles);if("right"==this.groups[e].options.yAxisOrientation){this.yAxisRight.addGroup(e,this.groups[e]);this.legendRight.addGroup(e,this.groups[e])}else{this.yAxisLeft.addGroup(e,this.groups[e]);this.legendLeft.addGroup(e,this.groups[e])}}this.legendLeft.redraw();this.legendRight.redraw()};o.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var t={},e=this.itemsData.get(),i={},o=0;o<e.length;o++){var n=e[o],r=n.group;null!==r&&void 0!==r||(r=v);i.hasOwnProperty(r)?i[r]++:i[r]=1}for(var o=0;o<e.length;o++){var n=e[o],r=n.group;null!==r&&void 0!==r||(r=v);t.hasOwnProperty(r)||(t[r]=new Array(i[r]));var a=s.bridgeObject(n);a.x=s.convert(n.x,"Date");a.orginalY=n.y;a.y=Number(n.y);var h=t[r].length-i[r]--;t[r][h]=a}for(var r in this.groups)this.groups.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=new Array(0)));for(var r in t)if(t.hasOwnProperty(r))if(0==t[r].length)this.groups.hasOwnProperty(r)&&this._removeGroup(r);else{var d=void 0;void 0!=this.groupsData&&(d=this.groupsData.get(r));void 0==d&&(d={id:r,content:this.options.defaultGroup+r});this._updateGroup(d,r);this.groups[r].setItems(t[r])}this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})}};o.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth;this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom;t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;this.lastVisibleInterval=e;if(1==t){this.svg.style.width=s.option.asSize(3*this.props.width);this.svg.style.left=s.option.asSize(-this.props.width);(this.options.height+"").indexOf("%")==-1&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)}if(1==this.updateSVGheight){if(this.options.graphHeight!=this.props.height+"px"){this.options.graphHeight=this.props.height+"px";this.svg.style.height=this.props.height+"px"}this.updateSVGheight=!1}else this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";if(1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate){t=this._updateGraph()||t;this.forceGraphUpdate=!1}else if(0!=this.lastStart){var o=this.body.range.start-this.lastStart,n=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=this.props.width/n,a=o*r;this.svg.style.left=-this.props.width-a+"px"}}this.legendLeft.redraw();this.legendRight.redraw();return t};o.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex,o=e.zIndex;void 0===i&&(i=0);void 0===o&&(o=0);return i==o?0:i<o?-1:1});for(var o=new Array(t.length),n=0;n<t.length;n++)o[n]=t[n].id;return o};o.prototype._updateGraph=function(){r.prepareElements(this.svgElements);if(0!=this.props.width&&null!=this.itemsData){var t,e,i={},o=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var h={};this._getRelevantData(a,h,n,s);this._applySampling(a,h);for(e=0;e<a.length;e++)this._convertXcoordinates(h[a[e]]);this._getYRanges(a,h,i);o=this._updateYAxis(a,i);if(1==o){r.cleanupElements(this.svgElements);this.abortedGraphUpdate=!0;return!0}this.abortedGraphUpdate=!1;var d=void 0;for(e=0;e<a.length;e++){t=this.groups[a[e]];if(this.options.stack===!0&&"line"===this.options.style&&(void 0==t.options.excludeFromStacking||!t.options.excludeFromStacking)){if(void 0!=d){this._stack(h[t.id],h[d.id]);if(1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation)if("top"==t.options.shaded.orientation&&"group"!==d.options.shaded.orientation){d.options.shaded.orientation="group";d.options.shaded.groupId=t.id}else{t.options.shaded.orientation="group";t.options.shaded.groupId=d.id}}d=t}this._convertYcoordinates(h[a[e]],t)}var l={};for(e=0;e<a.length;e++){t=this.groups[a[e]];if("line"===t.options.style&&1==t.options.shaded.enabled){var u=h[a[e]];if(null==u||0==u.length)continue;l.hasOwnProperty(a[e])||(l[a[e]]=f.calcPath(u,t));if("group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(a.indexOf(c)===-1){console.log(t.id+": Unknown shading group target given:"+c);continue}l.hasOwnProperty(c)||(l[c]=f.calcPath(h[c],this.groups[c]));f.drawShading(l[a[e]],t,l[c],this.framework)}else f.drawShading(l[a[e]],t,void 0,this.framework)}}p.draw(a,h,this.framework);for(e=0;e<a.length;e++){t=this.groups[a[e]];if(h[a[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(a[e])||(l[a[e]]=f.calcPath(h[a[e]],t));f.draw(l[a[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||m.draw(h[a[e]],t,this.framework);break;case"bar":}}}}r.cleanupElements(this.svgElements);return!1};o.prototype._stack=function(t,e){var i,o,n,s,r;i=0;for(var a=0;a<t.length;a++){s=void 0;r=void 0;for(var h=i;h<e.length;h++){if(e[h].x===t[a].x){s=e[h];r=e[h];i=h;break}if(e[h].x>t[a].x){r=e[h];s=0==h?r:e[h-1];i=h;break}}if(void 0===r){s=e[e.length-1];r=e[e.length-1]}o=r.x-s.x;n=r.y-s.y;0==o?t[a].y=t[a].orginalY+r.y:t[a].y=t[a].orginalY+n/o*(t[a].x-s.x)+s.y}};o.prototype._getRelevantData=function(t,e,i,o){var n,r,a,h;if(t.length>0)for(r=0;r<t.length;r++){n=this.groups[t[r]];var d=n.getItems();if(1==n.options.sort){var l=function t(e,i){return e.getTime()==i.getTime()?0:e<i?-1:1},u=Math.max(0,s.binarySearchValue(d,i,"x","before",l)),c=Math.min(d.length,s.binarySearchValue(d,o,"x","after",l)+1);c<=0&&(c=d.length);var p=new Array(c-u);for(a=u;a<c;a++){h=n.itemsData[a];p[a-u]=h}e[t[r]]=p}else e[t[r]]=n.itemsData}};o.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var o=0;o<t.length;o++){i=this.groups[t[o]];if(1==i.options.sampling){var n=e[t[o]];if(n.length>0){var s=1,r=n.length,a=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),h=r/a;s=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(h)));for(var d=new Array(r),l=0;l<r;l+=s){var u=Math.round(l/s);d[u]=n[l]}e[t[o]]=d.splice(0,Math.round(r/s))}}}};o.prototype._getYRanges=function(t,e,i){var o,n,s,r=[],a=[],h;if(t.length>0){for(s=0;s<t.length;s++){o=e[t[s]];h=this.groups[t[s]].options;if(o.length>0){n=this.groups[t[s]];h.stack===!0&&"bar"===h.style?"left"===h.yAxisOrientation?r=r.concat(n.getItems()):a=a.concat(n.getItems()):i[t[s]]=n.getYRange(o,t[s])}}p.getStackedYRange(r,i,t,"__barStackLeft","left");p.getStackedYRange(a,i,t,"__barStackRight","right")}};o.prototype._updateYAxis=function(t,e){var i=!1,o=!1,n=!1,s=1e9,r=1e9,a=-1e9,h=-1e9,d,l;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];if(c&&"right"!=c.options.yAxisOrientation){o=!0;s=1e9;a=-1e9}else if(c&&c.options.yAxisOrientation){n=!0;r=1e9;h=-1e9}}for(var u=0;u<t.length;u++)if(e.hasOwnProperty(t[u])&&e[t[u]].ignore!==!0){d=e[t[u]].min;l=e[t[u]].max;if("right"!=e[t[u]].yAxisOrientation){o=!0;s=s>d?d:s;a=a<l?l:a}else{n=!0;r=r>d?d:r;h=h<l?l:h}}1==o&&this.yAxisLeft.setRange(s,a);1==n&&this.yAxisRight.setRange(r,h)}i=this._toggleAxisVisiblity(o,this.yAxisLeft)||i;i=this._toggleAxisVisiblity(n,this.yAxisRight)||i;if(1==n&&1==o){this.yAxisLeft.drawIcons=!0;this.yAxisRight.drawIcons=!0}else{this.yAxisLeft.drawIcons=!1;this.yAxisRight.drawIcons=!1}this.yAxisRight.master=!o;this.yAxisRight.masterAxis=this.yAxisLeft;if(0==this.yAxisRight.master){1==n?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0;i=this.yAxisLeft.redraw()||i;i=this.yAxisRight.redraw()||i}else i=this.yAxisRight.redraw()||i;for(var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],u=0;u<p.length;u++)t.indexOf(p[u])!=-1&&t.splice(t.indexOf(p[u]),1);return i};o.prototype._toggleAxisVisiblity=function(t,e){var i=!1;if(0==t){if(e.dom.frame.parentNode&&0==e.hidden){e.hide();i=!0}}else if(!e.dom.frame.parentNode&&1==e.hidden){e.show();i=!0}return i};o.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++){t[i].screen_x=e(t[i].x)+this.props.width;t[i].screen_y=t[i].y}};o.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))};t.exports=o},function(t,e,i){function o(t,e,i,o){this.id=n.randomUUID();this.body=t;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function t(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function t(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}}};this.linegraphOptions=o;this.linegraphSVG=i;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.scale=void 0;this.range={start:0,end:0};this.options=n.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(e);this.width=Number((""+this.options.width).replace("px",""));this.minWidth=this.width;this.height=this.linegraphSVG.getBoundingClientRect().height;this.hidden=!1;this.stepPixels=25;this.zeroCrossing=-1;this.amountOfSteps=-1;this.lineOffset=0;this.master=!0;this.masterAxis=null;this.svgElements={};this.iconsRemoved=!1;this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var s=this;this.body.emitter.on("verticalDrag",function(){s.dom.lineContainer.style.top=s.body.domProps.scrollTop+"px"})}var n=i(1),s=i(8),r=i(31),a=i(53);o.prototype=new r;o.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e);this.amountOfGroups+=1};o.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1);this.groups[t]=e};o.prototype.removeGroup=function(t){if(this.groups.hasOwnProperty(t)){delete this.groups[t];this.amountOfGroups-=1}};o.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];n.selectiveDeepExtend(i,this.options,t);this.minWidth=Number((""+this.options.width).replace("px",""));if(e===!0&&this.dom.frame){this.hide();this.show()}}};o.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};o.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=15,o=4,n=o+.5*i;t="left"===this.options.orientation?o:this.width-e-o;var r=Object.keys(this.groups);r.sort(function(t,e){return t<e?-1:1;
});for(var a=0;a<r.length;a++){var h=r[a];if(this.groups[h].visible===!0&&(void 0===this.linegraphOptions.visibility[h]||this.linegraphOptions.visibility[h]===!0)){this.groups[h].getLegend(e,i,this.framework,t,n);n+=i+o}}s.cleanupElements(this.svgElements);this.iconsRemoved=!1};o.prototype._cleanupIcons=function(){if(this.iconsRemoved===!1){s.prepareElements(this.svgElements);s.cleanupElements(this.svgElements);this.iconsRemoved=!0}};o.prototype.show=function(){this.hidden=!1;this.dom.frame.parentNode||(this.options.rtl?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.left.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};o.prototype.hide=function(){this.hidden=!0;this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};o.prototype.setRange=function(t,e){this.range.start=t;this.range.end=e};o.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var o=this.props,n=this.dom.frame;n.className="vis-data-axis";this._calculateCharSize();var s=this.options.orientation,r=this.options.showMinorLabels,a=this.options.showMajorLabels;o.minorLabelHeight=r?o.minorCharHeight:0;o.majorLabelHeight=a?o.majorCharHeight:0;o.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;o.minorLineHeight=1;o.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;o.majorLineHeight=1;if("left"===s){n.style.top="0";n.style.left="0";n.style.bottom="";n.style.width=this.width+"px";n.style.height=this.height+"px";this.props.width=this.body.domProps.left.width;this.props.height=this.body.domProps.left.height}else{n.style.top="";n.style.bottom="0";n.style.left="0";n.style.width=this.width+"px";n.style.height=this.height+"px";this.props.width=this.body.domProps.right.width;this.props.height=this.body.domProps.right.height}t=this._redrawLabels();t=this._isResized()||t;this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons();this._redrawTitle(s)}return t};o.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines);s.prepareElements(this.DOMelements.labels);var i=this.options["orientation"],o=void 0!=this.options[i].range?this.options[i].range:{},n=!0;if(void 0!=o.max){this.range.end=o.max;n=!1}var r=!0;if(void 0!=o.min){this.range.start=o.min;r=!1}this.scale=new a(this.range.start,this.range.end,r,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format);this.master===!1&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale);this.maxLabelSize=0;var h=this.scale.getLines();h.forEach(function(e){var o=e.y,n=e.major;t.options["showMinorLabels"]&&n===!1&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight);n&&o>=0&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight);t.master===!0&&(n?t._redrawLine(o,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(o,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var d=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(d=this.props.titleCharHeight);var l=this.options.icons===!0?Math.max(this.options.iconWidth,d)+this.options.labelOffsetX+15:d+this.options.labelOffsetX+15;if(this.maxLabelSize>this.width-l&&this.options.visible===!0){this.width=this.maxLabelSize+l;this.options.width=this.width+"px";s.cleanupElements(this.DOMelements.lines);s.cleanupElements(this.DOMelements.labels);this.redraw();e=!0}else if(this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth){this.width=Math.max(this.minWidth,this.maxLabelSize+l);this.options.width=this.width+"px";s.cleanupElements(this.DOMelements.lines);s.cleanupElements(this.DOMelements.labels);this.redraw();e=!0}else{s.cleanupElements(this.DOMelements.lines);s.cleanupElements(this.DOMelements.labels);e=!1}return e};o.prototype.convertValue=function(t){return this.scale.convertValue(t)};o.prototype.screenToValue=function(t){return this.scale.screenToValue(t)};o.prototype._redrawLabel=function(t,e,i,o,n){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=o;r.innerHTML=e;if("left"===i){r.style.left="-"+this.options.labelOffsetX+"px";r.style.textAlign="right"}else{r.style.right="-"+this.options.labelOffsetX+"px";r.style.textAlign="left"}r.style.top=t-.5*n+this.options.labelOffsetY+"px";e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)};o.prototype._redrawLine=function(t,e,i,o,n){if(this.master===!0){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i;r.innerHTML="";"left"===e?r.style.left=this.width-o+"px":r.style.right=this.width-o+"px";r.style.width=n+"px";r.style.top=t+"px"}};o.prototype._redrawTitle=function(t){s.prepareElements(this.DOMelements.title);if(void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t;e.innerHTML=this.options[t].title.text;void 0!==this.options[t].title.style&&n.addCssText(e,this.options[t].title.style);"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px";e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)};o.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure";e.appendChild(t);this.dom.frame.appendChild(e);this.props.minorCharHeight=e.clientHeight;this.props.minorCharWidth=e.clientWidth;this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-major vis-measure";o.appendChild(i);this.dom.frame.appendChild(o);this.props.majorCharHeight=o.clientHeight;this.props.majorCharWidth=o.clientWidth;this.dom.frame.removeChild(o)}if(!("titleCharHeight"in this.props)){var n=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure";s.appendChild(n);this.dom.frame.appendChild(s);this.props.titleCharHeight=s.clientHeight;this.props.titleCharWidth=s.clientWidth;this.dom.frame.removeChild(s)}};t.exports=o},function(t,e){function i(t,e,i,o,n,s){var r=!(arguments.length<=6||void 0===arguments[6])&&arguments[6],a=!(arguments.length<=7||void 0===arguments[7])&&arguments[7];this.majorSteps=[1,2,5,10];this.minorSteps=[.25,.5,1,2];this.customLines=null;this.containerHeight=n;this.majorCharHeight=s;this._start=t;this._end=e;this.scale=1;this.minorStepIdx=-1;this.magnitudefactor=1;this.determineScale();this.zeroAlign=r;this.autoScaleStart=i;this.autoScaleEnd=o;this.formattingFunction=a;if(i||o){var h=this,d=function t(e){var i=e-e%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return e%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>.5*(h.magnitudefactor*h.minorSteps[h.minorStepIdx])?i+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:i};if(i){this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx];this._start=d(this._start)}if(o){this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx];this._end=d(this._end)}this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t};i.prototype.setHeight=function(t){this.containerHeight=t};i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1;this.magnitudefactor=Math.pow(10,i);var o=0;i<0&&(o=i);for(var n=!1,s=o;Math.abs(s)<=Math.abs(i);s++){this.magnitudefactor=Math.pow(10,s);for(var r=0;r<this.minorSteps.length;r++){var a=this.magnitudefactor*this.minorSteps[r];if(a>=e){n=!0;this.minorStepIdx=r;break}}if(n===!0)break}};i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0};i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]};i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)};i.prototype.formatValue=function(t){var e=t.toPrecision(5);"function"===typeof this.formattingFunction&&(e=this.formattingFunction(t));return"number"===typeof e?""+e:"string"===typeof e?e:t.toPrecision(5)};i.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,o=this._start+i;this._end-o>1e-5;o+=e)o!=this._start&&t.push({major:this.is_major(o),y:this.convertValue(o),val:this.formatValue(o)});return t};i.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,o=this._end,n=this,s=function t(){n.magnitudefactor*=2},r=function t(){n.magnitudefactor/=2};if(t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1);else if(t.minorStepIdx<this.minorStepIdx){this.minorStepIdx=1;if(2==e)s();else{s();s()}}else{this.minorStepIdx=2;if(1==e)r();else{r();r()}}for(var a=t.getLines(),h=t.convertValue(0),d=t.getStep()*t.scale,l=!1,u=0;!l&&u++<5;){this.scale=d/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=i;this._end=this._start+c;var p=this._end*this.scale,f=this.magnitudefactor*this.majorSteps[this.minorStepIdx],m=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var v=h-p;this._end+=v/this.scale;this._start=this._end-c}else if(this.autoScaleStart){this._start-=m/this.scale;this._end=this._start+c}else{this._start+=f-m/this.scale;this._end=this._start+c}if(!this.autoScaleEnd&&this._end>o+1e-5){r();l=!1}else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){r();l=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}if(this.autoScaleStart&&this.autoScaleEnd&&c<o-i){s();l=!1}else l=!0}}};i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale};i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start};t.exports=i},function(t,e,i){function o(t,e,i,o){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=s.selectiveBridgeObject(n,i);this.usingDefaultStyle=void 0===t.className;this.groupsUsingDefaultStyles=o;this.zeroPosition=0;this.update(t);1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===t.visible||t.visible}var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(8),a=i(55),h=i(57),d=i(56);o.prototype.setItems=function(t){if(null!=t){this.itemsData=t;1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})}else this.itemsData=[]};o.prototype.getItems=function(){return this.itemsData};o.prototype.setZeroPosition=function(t){this.zeroPosition=t};o.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];s.selectiveDeepExtend(e,this.options,t);"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints});s.mergeOptions(this.options,t,"interpolation");s.mergeOptions(this.options,t,"drawPoints");s.mergeOptions(this.options,t,"shaded");if(t.interpolation&&"object"==n(t.interpolation)&&t.interpolation.parametrization)if("uniform"==t.interpolation.parametrization)this.options.interpolation.alpha=0;else if("chordal"==t.interpolation.parametrization)this.options.interpolation.alpha=1;else{this.options.interpolation.parametrization="centripetal";this.options.interpolation.alpha=.5}}};o.prototype.update=function(t){this.group=t;this.content=t.content||"graph";this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10;this.visible=void 0===t.visible||t.visible;this.style=t.style;this.setOptions(t.options)};o.prototype.getLegend=function(t,e,i,o,n){if(void 0==i||null==i){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:s,svgElements:{},options:this.options,groups:[this]}}void 0!=o&&null!=o||(o=0);void 0!=n&&null!=n||(n=.5*e);switch(this.options.style){case"line":h.drawIcon(this,o,n,t,e,i);break;case"points":case"point":d.drawIcon(this,o,n,t,e,i);break;case"bar":a.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}};o.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++){e=e>t[o].y?t[o].y:e;i=i<t[o].y?t[o].y:i}return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}};t.exports=o},function(t,e,i){function o(t,e){}var n=i(8),s=i(56);o.drawIcon=function(t,e,i,o,s,r){var a=.5*s,h,d,l=n.getSVGElement("rect",r.svgElements,r.svg);l.setAttributeNS(null,"x",e);l.setAttributeNS(null,"y",i-a);l.setAttributeNS(null,"width",o);l.setAttributeNS(null,"height",2*a);l.setAttributeNS(null,"class","vis-outline");var u=Math.round(.3*o),c=t.options.barChart.width,p=c/u,f=Math.round(.4*s),m=Math.round(.75*s),v=Math.round((o-2*u)/3);n.drawBar(e+.5*u+v,i+a-f-1,u,f,t.className+" vis-bar",r.svgElements,r.svg,t.style);n.drawBar(e+1.5*u+v+2,i+a-m-1,u,m,t.className+" vis-bar",r.svgElements,r.svg,t.style);if(1==t.options.drawPoints.enabled){var g={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/p,className:t.className};n.drawPoint(e+.5*u+v,i+a-f-1,g,r.svgElements,r.svg);n.drawPoint(e+1.5*u+v+2,i+a-m-1,g,r.svgElements,r.svg)}};o.draw=function(t,e,i){var r=[],a={},h,d,l,u,c,p,f=0;for(c=0;c<t.length;c++){u=i.groups[t[c]];if("bar"===u.options.style&&u.visible===!0&&(void 0===i.options.groups.visibility[t[c]]||i.options.groups.visibility[t[c]]===!0))for(p=0;p<e[t[c]].length;p++){r.push({screen_x:e[t[c]][p].screen_x,screen_y:e[t[c]][p].screen_y,x:e[t[c]][p].x,y:e[t[c]][p].y,groupId:t[c],label:e[t[c]][p].label});f+=1}}if(0!==f){r.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});o._getDataIntersections(a,r);for(c=0;c<r.length;c++){u=i.groups[r[c].groupId];var m=void 0!=u.options.barChart.minWidth?u.options.barChart.minWidth:.1*u.options.barChart.width;d=r[c].screen_x;var v=0;if(void 0===a[d]){c+1<r.length&&(h=Math.abs(r[c+1].screen_x-d));l=o._getSafeDrawData(h,u,m)}else{var g=c+(a[d].amount-a[d].resolved),y=c-(a[d].resolved+1);g<r.length&&(h=Math.abs(r[g].screen_x-d));l=o._getSafeDrawData(h,u,m);a[d].resolved+=1;if(u.options.stack===!0&&u.options.excludeFromStacking!==!0)if(r[c].screen_y<u.zeroPosition){v=a[d].accumulatedNegative;a[d].accumulatedNegative+=u.zeroPosition-r[c].screen_y}else{v=a[d].accumulatedPositive;a[d].accumulatedPositive+=u.zeroPosition-r[c].screen_y}else if(u.options.barChart.sideBySide===!0){l.width=l.width/a[d].amount;l.offset+=a[d].resolved*l.width-.5*l.width*(a[d].amount+1)}}n.drawBar(r[c].screen_x+l.offset,r[c].screen_y-v,l.width,u.zeroPosition-r[c].screen_y,u.className+" vis-bar",i.svgElements,i.svg,u.style);if(u.options.drawPoints.enabled===!0){var b={screen_x:r[c].screen_x,screen_y:r[c].screen_y-v,x:r[c].x,y:r[c].y,groupId:r[c].groupId,label:r[c].label};s.draw([b],u,i,l.offset)}}}};o._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++){o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x));o>0&&(i=Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x)));if(0===i){void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0});t[e[o].screen_x].amount+=1}}};o._getSafeDrawData=function(t,e,i){var o,n;if(t<e.options.barChart.width&&t>0){o=t<i?i:t;n=0;"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)}else{o=e.options.barChart.width;n=0;"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)}return{width:o,offset:n}};o.getStackedYRange=function(t,e,i,n,s){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};o._getDataIntersections(r,t);e[n]=o._getStackedYRange(r,t);e[n].yAxisOrientation=s;i.push(n)}};o._getStackedYRange=function(t,e){for(var i,o=e[0].screen_y,n=e[0].screen_y,s=0;s<e.length;s++){i=e[s].screen_x;if(void 0===t[i]){o=o>e[s].screen_y?e[s].screen_y:o;n=n<e[s].screen_y?e[s].screen_y:n}else e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y}for(var r in t)if(t.hasOwnProperty(r)){o=o>t[r].accumulatedNegative?t[r].accumulatedNegative:o;o=o>t[r].accumulatedPositive?t[r].accumulatedPositive:o;n=n<t[r].accumulatedNegative?t[r].accumulatedNegative:n;n=n<t[r].accumulatedPositive?t[r].accumulatedPositive:n}return{min:o,max:n}};t.exports=o},function(t,e,i){function o(t,e){}function n(t,e){e="undefined"===typeof e?{}:e;return{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function s(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(8);o.draw=function(t,e,i,o){o=o||0;for(var h=s(i,e),d=0;d<t.length;d++)if(h){var l=h(t[d],e);l!==!0&&"object"!==("undefined"===typeof l?"undefined":r(l))||a.drawPoint(t[d].screen_x+o,t[d].screen_y,n(e,l),i.svgElements,i.svg,t[d].label)}else a.drawPoint(t[d].screen_x+o,t[d].screen_y,n(e),i.svgElements,i.svg,t[d].label)};o.drawIcon=function(t,e,i,o,s,r){var h=.5*s,d,l,u=a.getSVGElement("rect",r.svgElements,r.svg);u.setAttributeNS(null,"x",e);u.setAttributeNS(null,"y",i-h);u.setAttributeNS(null,"width",o);u.setAttributeNS(null,"height",2*h);u.setAttributeNS(null,"class","vis-outline");a.drawPoint(e+.5*o,i,n(t),r.svgElements,r.svg)};t.exports=o},function(t,e,i){function o(t,e){}var n=i(8);o.calcPath=function(t,e){if(null!=t&&t.length>0){var i=[];i=1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t);return i}};o.drawIcon=function(t,e,i,o,s,r){var a=.5*s,h,d,l=n.getSVGElement("rect",r.svgElements,r.svg);l.setAttributeNS(null,"x",e);l.setAttributeNS(null,"y",i-a);l.setAttributeNS(null,"width",o);l.setAttributeNS(null,"height",2*a);l.setAttributeNS(null,"class","vis-outline");h=n.getSVGElement("path",r.svgElements,r.svg);h.setAttributeNS(null,"class",t.className);void 0!==t.style&&h.setAttributeNS(null,"style",t.style);h.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i);if(1==t.options.shaded.enabled){d=n.getSVGElement("path",r.svgElements,r.svg);"top"==t.options.shaded.orientation?d.setAttributeNS(null,"d","M"+e+", "+(i-a)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-a)):d.setAttributeNS(null,"d","M"+e+","+i+" "+"L"+e+","+(i+a)+" "+"L"+(e+o)+","+(i+a)+"L"+(e+o)+","+i);d.setAttributeNS(null,"class",t.className+" vis-icon-fill");void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&d.setAttributeNS(null,"style",t.options.shaded.style)}if(1==t.options.drawPoints.enabled){var u={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};n.drawPoint(e+.5*o,i,u,r.svgElements,r.svg)}};o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var s=Number(o.svg.style.height.replace("px","")),r=n.getSVGElement("path",o.svgElements,o.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var h,d=0;d="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s);h="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+d+" H"+t[0][0]+" Z";r.setAttributeNS(null,"class",e.className+" vis-fill");void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style);r.setAttributeNS(null,"d",h)}};o.draw=function(t,e,i){if(null!=t&&void 0!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className);void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var s="L";1==e.options.interpolation.enabled&&(s="C");o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1))}};o.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;if(i)for(var n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(var n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o};o._catmullRomUniform=function(t){var e,i,o,n,s,r,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=1/6,d=t.length,l=0;l<d-1;l++){e=0==l?t[0]:t[l-1];i=t[l];o=t[l+1];n=l+2<d?t[l+2]:o;s={screen_x:(-e.screen_x+6*i.screen_x+o.screen_x)*h,screen_y:(-e.screen_y+6*i.screen_y+o.screen_y)*h};r={screen_x:(i.screen_x+6*o.screen_x-n.screen_x)*h,screen_y:(i.screen_y+6*o.screen_y-n.screen_y)*h};a.push([s.screen_x,s.screen_y]);a.push([r.screen_x,r.screen_y]);a.push([o.screen_x,o.screen_y])}return a};o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var o,n,s,r,a,h,d,l,u,c,p,f,m,v,g,y,b,w,_,x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var k=t.length,O=0;O<k-1;O++){o=0==O?t[0]:t[O-1];n=t[O];s=t[O+1];r=O+2<k?t[O+2]:s;d=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2));l=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2));u=Math.sqrt(Math.pow(s.screen_x-r.screen_x,2)+Math.pow(s.screen_y-r.screen_y,2));v=Math.pow(u,i);y=Math.pow(u,2*i);g=Math.pow(l,i);b=Math.pow(l,2*i);_=Math.pow(d,i);w=Math.pow(d,2*i);c=2*w+3*_*g+b;p=2*y+3*v*g+b;f=3*_*(_+g);f>0&&(f=1/f);m=3*v*(v+g);m>0&&(m=1/m);a={screen_x:(-b*o.screen_x+c*n.screen_x+w*s.screen_x)*f,screen_y:(-b*o.screen_y+c*n.screen_y+w*s.screen_y)*f};h={screen_x:(y*n.screen_x+p*s.screen_x-b*r.screen_x)*m,screen_y:(y*n.screen_y+p*s.screen_y-b*r.screen_y)*m};0==a.screen_x&&0==a.screen_y&&(a=n);0==h.screen_x&&0==h.screen_y&&(h=s);x.push([a.screen_x,a.screen_y]);x.push([h.screen_x,h.screen_y]);x.push([s.screen_x,s.screen_y])}return x};o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e};t.exports=o},function(t,e,i){function o(t,e,i,o){this.body=t;this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}};this.side=i;this.options=n.extend({},this.defaultOptions);this.linegraphOptions=o;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.setOptions(e)}var n=i(1),s=i(8),r=i(31);o.prototype=new r;o.prototype.clear=function(){this.groups={};this.amountOfGroups=0};o.prototype.addGroup=function(t,e){if(1!=e.options.excludeFromLegend){this.groups.hasOwnProperty(t)||(this.groups[t]=e);this.amountOfGroups+=1}};o.prototype.updateGroup=function(t,e){this.groups[t]=e};o.prototype.removeGroup=function(t){if(this.groups.hasOwnProperty(t)){delete this.groups[t];this.amountOfGroups-=1}};o.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="vis-legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="vis-legend-text";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top=0+"px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};o.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];n.selectiveDeepExtend(e,this.options,t)};o.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show();if("top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position){this.dom.frame.style.left="4px";this.dom.frame.style.textAlign="left";this.dom.textArea.style.textAlign="left";this.dom.textArea.style.left=this.options.iconSize+15+"px";this.dom.textArea.style.right="";this.svg.style.left=0+"px";this.svg.style.right=""}else{this.dom.frame.style.right="4px";this.dom.frame.style.textAlign="right";this.dom.textArea.style.textAlign="right";this.dom.textArea.style.right=this.options.iconSize+15+"px";this.dom.textArea.style.left="";this.svg.style.right=0+"px";this.svg.style.left=""}if("top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position){this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.bottom=""}else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.top=""}if(0==this.options.icons){this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px";this.dom.textArea.style.right="";this.dom.textArea.style.left="";this.svg.style.width="0px"}else{this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px";this.drawLegendIcons()}for(var s="",i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s;this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};o.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups);t.sort(function(t,e){return t<e?-1:1});s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),o=i,n=this.options.iconSize,r=.75*this.options.iconSize,a=i+.5*r+3;this.svg.style.width=n+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];if(1==this.groups[d].visible&&(void 0===this.linegraphOptions.visibility[d]||1==this.linegraphOptions.visibility[d])){this.groups[d].getLegend(n,r,this.framework,o,a);a+=r+this.options.iconSpacing}}}};t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="date",a="object",h="dom",d="moment",l="any",u={configure:{enabled:{boolean:o},filter:{boolean:o,function:"function"},container:{dom:h},__type__:{object:a,boolean:o,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{boolean:o},sampling:{boolean:o},stack:{boolean:o},graphHeight:{string:i,number:n},shaded:{enabled:{boolean:o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{boolean:o,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:n},minWidth:{number:n},sideBySide:{boolean:o},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{boolean:o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:a,boolean:o}},drawPoints:{enabled:{boolean:o},onRender:{function:"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:a,boolean:o,function:"function"}},dataAxis:{showMinorLabels:{boolean:o},showMajorLabels:{boolean:o},icons:{boolean:o},width:{string:i,number:n},visible:{boolean:o},alignZeros:{boolean:o},left:{range:{min:{number:n},max:{number:n},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:n},max:{number:n},__type__:{object:a}},format:{function:"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{boolean:o},icons:{boolean:o},left:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{boolean:o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,boolean:o}},groups:{visibility:{any:l},__type__:{object:a}},autoResize:{boolean:o},throttleRedraw:{number:n},clickToUse:{boolean:o},end:{number:n,date:r,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{function:"function"},height:{string:i,number:n},hiddenDates:{start:{date:r,number:n,string:i,moment:d},end:{date:r,number:n,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:s}},locale:{string:i},locales:{__any__:{any:l},__type__:{object:a}},max:{date:r,number:n,string:i,moment:d},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:r,number:n,string:i,moment:d},minHeight:{number:n,string:i},moveable:{boolean:o},multiselect:{boolean:o},orientation:{string:i},showCurrentTime:{boolean:o},showMajorLabels:{boolean:o},showMinorLabels:{boolean:o},start:{date:r,number:n,string:i,moment:d},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:n},zoomable:{boolean:o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:a}},c={global:{sort:!0,
sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=u;e.configureOptions=c},function(t,e,i){e.util=i(1);e.DOMutil=i(8);e.DataSet=i(9);e.DataView=i(11);e.Queue=i(10);e.Network=i(61);e.network={Images:i(62),dotparser:i(118),gephiParser:i(119),allOptions:i(114)};e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)};e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)};e.moment=i(2);e.Hammer=i(20);e.keycharm=i(23)},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i){var o=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={};this.defaultOptions={locale:"en",locales:V,clickToUse:!1};F.extend(this.options,this.defaultOptions);this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function t(){},onTouch:function t(){},onDoubleTap:function t(){},onHold:function t(){},onDragStart:function t(){},onDrag:function t(){},onDragEnd:function t(){},onMouseWheel:function t(){},onPinch:function t(){},onMouseMove:function t(){},onRelease:function t(){},onContext:function t(){}},data:{nodes:null,edges:null},functions:{createNode:function t(){},createEdge:function t(){},getPointer:function t(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}};this.bindEventListeners();this.images=new r.default(function(){return o.body.emitter.emit("_requestRedraw")});this.groups=new h.default;this.canvas=new w.default(this.body);this.selectionHandler=new S.default(this.body,this.canvas);this.interactionHandler=new O.default(this.body,this.canvas,this.selectionHandler);this.view=new x.default(this.body,this.canvas);this.renderer=new y.default(this.body,this.canvas);this.physics=new f.default(this.body);this.layoutEngine=new C.default(this.body);this.clustering=new v.default(this.body);this.manipulation=new E.default(this.body,this.canvas,this.selectionHandler);this.nodesHandler=new l.default(this.body,this.images,this.groups,this.layoutEngine);this.edgesHandler=new c.default(this.body,this.images,this.groups);this.body.modules["kamadaKawai"]=new A.default(this.body,150,.05);this.body.modules["clustering"]=this.clustering;this.canvas._create();this.setOptions(i);this.setData(e)}var s=i(62),r=o(s),a=i(63),h=o(a),d=i(64),l=o(d),u=i(84),c=o(u),p=i(93),f=o(p),m=i(102),v=o(m),g=i(105),y=o(g),b=i(106),w=o(b),_=i(107),x=o(_),k=i(108),O=o(k),M=i(111),S=o(M),D=i(112),C=o(D),T=i(113),E=o(T),P=i(26),I=o(P),N=i(29),z=o(N),R=i(114),L=i(115),A=o(L);i(117);var B=i(13),F=i(1),j=i(9),H=i(11),W=i(118),Y=i(119),G=i(45),V=i(120);B(n.prototype);n.prototype.setOptions=function(t){var e=this;if(void 0!==t){var i=z.default.validate(t,R.allOptions);i===!0&&console.log("%cErrors have been found in the supplied options object.",N.printStyle);var o=["locale","locales","clickToUse"];F.selectiveDeepExtend(o,this.options,t);t=this.layoutEngine.setOptions(t.layout,t);this.canvas.setOptions(t);this.groups.setOptions(t.groups);this.nodesHandler.setOptions(t.nodes);this.edgesHandler.setOptions(t.edges);this.physics.setOptions(t.physics);this.manipulation.setOptions(t.manipulation,t,this.options);this.interactionHandler.setOptions(t.interaction);this.renderer.setOptions(t.interaction);this.selectionHandler.setOptions(t.interaction);void 0!==t.groups&&this.body.emitter.emit("refreshNodes");if("configure"in t){this.configurator||(this.configurator=new I.default(this,this.body.container,R.configureOptions,this.canvas.pixelRatio));this.configurator.setOptions(t.configure)}if(this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};F.deepExtend(n.nodes,this.nodesHandler.options);F.deepExtend(n.edges,this.edgesHandler.options);F.deepExtend(n.layout,this.layoutEngine.options);F.deepExtend(n.interaction,this.selectionHandler.options);F.deepExtend(n.interaction,this.renderer.options);F.deepExtend(n.interaction,this.interactionHandler.options);F.deepExtend(n.manipulation,this.manipulation.options);F.deepExtend(n.physics,this.physics.options);F.deepExtend(n.global,this.canvas.options);F.deepExtend(n.global,this.options);this.configurator.setModuleOptions(n)}if(void 0!==t.clickToUse)if(t.clickToUse===!0){if(void 0===this.activator){this.activator=new G(this.canvas.frame);this.activator.on("change",function(){e.body.emitter.emit("activate")})}}else{if(void 0!==this.activator){this.activator.destroy();delete this.activator}this.body.emitter.emit("activate")}else this.body.emitter.emit("activate");this.canvas.setSize();this.body.emitter.emit("startSimulation")}};n.prototype._saveCanvasAsPng=function(){var t=this.canvas.frame.canvas.getContext("2d");console.log("xxxxx")};n.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[];this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&t[i].options.hidden===!1&&this.body.nodeIndices.push(t[i].id);for(var o in e)e.hasOwnProperty(o)&&e[o].options.hidden===!1&&this.body.edgeIndices.push(e[o].id)};n.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices();t.body.emitter.emit("_requestRedraw");t.body.emitter.emit("_dataUpdated")});this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes);t._updateValueRange(t.body.edges);t.body.emitter.emit("startSimulation");t.body.emitter.emit("_requestRedraw")})};n.prototype.setData=function(t){this.body.emitter.emit("_resetData");if(t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or '+' parameter pair "nodes" and "edges", but not both.');this.setOptions(t&&t.options);if(t&&t.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=W.DOTToGraph(t.dot);this.setData(e)}else if(t&&t.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=Y.parseGephi(t.gephi);this.setData(i)}else{this.nodesHandler.setData(t&&t.nodes,!0);this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged");this.body.emitter.emit("_dataLoaded");this.body.emitter.emit("initPhysics")}};n.prototype.destroy=function(){this.body.emitter.emit("destroy");this.body.emitter.off();this.off();delete this.groups;delete this.canvas;delete this.selectionHandler;delete this.interactionHandler;delete this.view;delete this.renderer;delete this.physics;delete this.layoutEngine;delete this.clustering;delete this.manipulation;delete this.nodesHandler;delete this.edgesHandler;delete this.configurator;delete this.images;for(var t in this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];F.recursiveDOMDelete(this.body.container)};n.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();if(void 0!==s){i=void 0===i?s:Math.min(s,i);o=void 0===o?s:Math.max(s,o);n+=s}}if(void 0!==i&&void 0!==o)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,o,n)};n.prototype.isActive=function(){return!this.activator||this.activator.active};n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};n.prototype.editNodeMode=function(){console.log("Deprecated: Please use editNode instead of editNodeMode.");return this.manipulation.editNode.apply(this.manipulation,arguments)};n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};n.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)};n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)};n.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t};n.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t};n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments);this.redraw()};n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};n.prototype.getOptionsFromConfigurator=function(){var t={};this.configurator&&(t=this.configurator.getOptions.apply(this.configurator));return t};t.exports=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e){i(this,t);this.images={};this.imageBroken={};this.callback=e}o(t,[{key:"_addImageToCache",value:function t(e,i){if(0===i.width){document.body.appendChild(i);i.width=i.offsetWidth;i.height=i.offsetHeight;document.body.removeChild(i)}this.images[e]=i}},{key:"_tryloadBrokenUrl",value:function t(e,i,o){var n=this;if(void 0!==e&&void 0!==i&&void 0!==o){o.onerror=function(){console.error("Could not load brokenImage:",i);n._addImageToCache(e,new Image)};o.src=i}}},{key:"_redrawWithImage",value:function t(e){this.callback&&this.callback(e)}},{key:"load",value:function t(e,i,o){var n=this,s=this.images[e];if(s)return s;var r=new Image;r.onload=function(){n._addImageToCache(e,r);n._redrawWithImage(r)};r.onerror=function(){console.error("Could not load image:",e);n._tryloadBrokenUrl(e,i,r)};r.src=e;return r}}]);return t}();e.default=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),s=i(1),r=function(){function t(){o(this,t);this.clear();this.defaultIndex=0;this.groupsArray=[];this.groupIndex=0;this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}];this.options={};this.defaultOptions={useDefaultGroups:!0};s.extend(this.options,this.defaultOptions)}n(t,[{key:"setOptions",value:function t(e){var i=["useDefaultGroups"];if(void 0!==e)for(var o in e)if(e.hasOwnProperty(o)&&i.indexOf(o)===-1){var n=e[o];this.add(o,n)}}},{key:"clear",value:function t(){this.groups={};this.groupsArray=[]}},{key:"get",value:function t(e){var i=this.groups[e];if(void 0===i)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var o=this.groupIndex%this.groupsArray.length;this.groupIndex++;i={};i.color=this.groups[this.groupsArray[o]];this.groups[e]=i}else{var n=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++;i={};i.color=this.defaultGroups[n];this.groups[e]=i}return i}},{key:"add",value:function t(e,i){this.groups[e]=i;this.groupsArray.push(e);return i}}]);return t}();e.default=r},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(65),a=o(r),h=i(66),d=o(h),l=i(1),u=i(9),c=i(11),p=function(){function t(e,i,o,s){var r=this;n(this,t);this.body=e;this.images=i;this.groups=o;this.layoutEngine=s;this.body.functions.createNode=this.create.bind(this);this.nodesListeners={add:function t(e,i){r.add(i.items)},update:function t(e,i){r.update(i.items,i.data)},remove:function t(e,i){r.remove(i.items)}};this.options={};this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function t(e,i,o,n){if(i===e)return.5;var s=1/(i-e);return Math.max(0,(n-e)*s)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}s(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){l.forEach(e.nodesListeners,function(t,i){e.body.data.nodes&&e.body.data.nodes.off(i,t)});delete e.body.functions.createNode;delete e.nodesListeners.add;delete e.nodesListeners.update;delete e.nodesListeners.remove;delete e.nodesListeners})}},{key:"setOptions",value:function t(e){if(void 0!==e){a.default.parseOptions(this.options,e);if(void 0!==e.shape)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].updateShape();if(void 0!==e.font){d.default.parseOptions(this.options.font,e);for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){this.body.nodes[o].updateLabelModule();this.body.nodes[o]._reset()}}if(void 0!==e.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n]._reset();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function t(e){var i=this,o=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.body.data.nodes;if(e instanceof u||e instanceof c)this.body.data.nodes=e;else if(Array.isArray(e)){this.body.data.nodes=new u;this.body.data.nodes.add(e)}else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new u}n&&l.forEach(this.nodesListeners,function(t,e){n.off(e,t)});this.body.nodes={};this.body.data.nodes&&!function(){var t=i;l.forEach(i.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});var e=i.body.data.nodes.getIds();i.add(e,!0)}();o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function t(e){for(var i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=void 0,n=[],s=0;s<e.length;s++){o=e[s];var r=this.body.data.nodes.get(o),a=this.create(r);n.push(a);this.body.nodes[o]=a}this.layoutEngine.positionInitially(n);i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function t(e,i){for(var o=this.body.nodes,n=!1,s=0;s<e.length;s++){var r=e[s],a=o[r],h=i[s];if(void 0!==a)n=a.setOptions(h);else{n=!0;a=this.create(h);o[r]=a}}n===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function t(e){for(var i=this.body.nodes,o=0;o<e.length;o++){var n=e[o];delete i[n]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?a.default:arguments[1];return new i(e,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function t(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=this.body.nodes;for(var o in i){var n=void 0;i.hasOwnProperty(o)&&(n=i[o]);var s=this.body.data.nodes._data[o];if(void 0!==n&&void 0!==s){e===!0&&n.setOptions({x:null,y:null});n.setOptions({fixed:!1});n.setOptions(s)}}}},{key:"getPositions",value:function t(e){var i={};if(void 0!==e){if(Array.isArray(e)===!0){for(var o=0;o<e.length;o++)if(void 0!==this.body.nodes[e[o]]){var n=this.body.nodes[e[o]];i[e[o]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[e]){var s=this.body.nodes[e];i[e]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var a=this.body.nodes[this.body.nodeIndices[r]];i[this.body.nodeIndices[r]]={x:Math.round(a.x),y:Math.round(a.y)}}return i}},{key:"storePositions",value:function t(){var e=[],i=this.body.data.nodes.getDataSet();for(var o in i._data)if(i._data.hasOwnProperty(o)){var n=this.body.nodes[o];i._data[o].x==Math.round(n.x)&&i._data[o].y==Math.round(n.y)||e.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}i.update(e)}},{key:"getBoundingBox",value:function t(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function t(e){var i=[];if(void 0!==this.body.nodes[e])for(var o=this.body.nodes[e],n={},s=0;s<o.edges.length;s++){var r=o.edges[s];if(r.toId==o.id){if(void 0===n[r.fromId]){i.push(r.fromId);n[r.fromId]=!0}}else if(r.fromId==o.id&&void 0===n[r.toId]){i.push(r.toId);n[r.toId]=!0}}return i}},{key:"getConnectedEdges",value:function t(e){var i=[];if(void 0!==this.body.nodes[e])for(var o=this.body.nodes[e],n=0;n<o.edges.length;n++)i.push(o.edges[n].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return i}},{key:"moveNode",value:function t(e,i,o){var n=this;if(void 0!==this.body.nodes[e]){this.body.nodes[e].x=Number(i);this.body.nodes[e].y=Number(o);setTimeout(function(){n.body.emitter.emit("startSimulation")},0)}else console.log("Node id supplied to moveNode does not exist. Provided: ",e)}}]);return t}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(66),a=o(r),h=i(67),d=o(h),l=i(69),u=o(l),c=i(71),p=o(c),f=i(72),m=o(f),v=i(73),g=o(v),y=i(75),b=o(y),w=i(76),_=o(w),x=i(77),k=o(x),O=i(78),M=o(O),S=i(79),D=o(S),C=i(80),T=o(C),E=i(81),P=o(E),I=i(82),N=o(I),z=i(83),R=o(z),L=i(29),A=o(L),B=i(1),F=function(){function t(e,i,o,s,r){n(this,t);this.options=B.bridgeObject(r);this.globalOptions=r;this.body=i;this.edges=[];this.id=void 0;this.imagelist=o;this.grouplist=s;this.x=void 0;this.y=void 0;this.baseSize=this.options.size;this.baseFontSize=this.options.font.size;this.predefinedPosition=!1;this.selected=!1;this.hover=!1;this.labelModule=new a.default(this.body,this.options,!1);this.setOptions(e)}s(t,[{key:"attachEdge",value:function t(e){this.edges.indexOf(e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function t(e){var i=this.edges.indexOf(e);i!=-1&&this.edges.splice(i,1)}},{key:"setOptions",value:function e(i){var o=this.options.shape;if(i){void 0!==i.id&&(this.id=i.id);if(void 0===this.id)throw"Node must have an id";if(void 0!==i.x)if(null===i.x){this.x=void 0;this.predefinedPosition=!1}else{this.x=parseInt(i.x);this.predefinedPosition=!0}if(void 0!==i.y)if(null===i.y){this.y=void 0;this.predefinedPosition=!1}else{this.y=parseInt(i.y);this.predefinedPosition=!0}void 0!==i.size&&(this.baseSize=i.size);void 0!==i.value&&(i.value=parseFloat(i.value));if("number"===typeof i.group||"string"===typeof i.group&&""!=i.group){var n=this.grouplist.get(i.group);B.deepExtend(this.options,n);this.options.color=B.parseColor(this.options.color)}t.parseOptions(this.options,i,!0,this.globalOptions);if(void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}this.updateLabelModule();this.updateShape(o);return void 0!==i.hidden||void 0!==i.physics}}},{key:"updateLabelModule",value:function t(){void 0!==this.options.label&&null!==this.options.label||(this.options.label="");this.labelModule.setOptions(this.options,!0);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function t(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new d.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new u.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p.default(this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new m.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new b.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new _.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new k.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new M.default(this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new D.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new T.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new P.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new N.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new R.default(this.options,this.body,this.labelModule);break;default:this.shape=new _.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function t(){this.selected=!0;this._reset()}},{key:"unselect",value:function t(){this.selected=!1;this._reset()}},{key:"_reset",value:function t(){this.shape.width=void 0;this.shape.height=void 0}},{key:"getTitle",value:function t(){return this.options.title}},{key:"distanceToBorder",value:function t(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function t(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function t(){return this.selected}},{key:"getValue",value:function t(){return this.options.value}},{key:"setValueRange",value:function t(e,i,o){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,i,o,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.size=this.options.scaling.min+n*s}else{this.options.size=this.baseSize;this.options.font.size=this.baseFontSize}this.updateLabelModule()}},{key:"draw",value:function t(e){this.shape.draw(e,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function t(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function t(e){this.shape.resize(e,this.selected)}},{key:"isOverlappingWith",value:function t(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function t(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"parseOptions",value:function t(e,i){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],s=["color","font","fixed","shadow"];
B.selectiveNotDeepExtend(s,e,i,o);B.mergeOptions(e,i,"shadow",o,n);if(void 0!==i.color&&null!==i.color){var r=B.parseColor(i.color);B.fillIfDefined(e.color,r)}else o===!0&&null===i.color&&(e.color=B.bridgeObject(n.color));if(void 0!==i.fixed&&null!==i.fixed)if("boolean"===typeof i.fixed){e.fixed.x=i.fixed;e.fixed.y=i.fixed}else{void 0!==i.fixed.x&&"boolean"===typeof i.fixed.x&&(e.fixed.x=i.fixed.x);void 0!==i.fixed.y&&"boolean"===typeof i.fixed.y&&(e.fixed.y=i.fixed.y)}void 0!==i.font&&null!==i.font?a.default.parseOptions(e.font,i):o===!0&&null===i.font&&(e.font=B.bridgeObject(n.font));void 0!==i.scaling&&B.mergeOptions(e.scaling,i.scaling,"label",o,n.scaling)}}]);return t}();e.default=F},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r=t[Symbol.iterator](),a;!(o=(a=r.next()).done);o=!0){i.push(a.value);if(e&&i.length===e)break}}catch(t){n=!0;s=t}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),a=i(1),h=function(){function t(e,i){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];o(this,t);this.body=e;this.pointToSelf=!1;this.baseSize=void 0;this.fontOptions={};this.setOptions(i);this.size={top:0,left:0,width:0,height:0,yLine:0};this.isEdgeLabel=n}r(t,[{key:"setOptions",value:function e(i){var o=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];this.nodeOptions=i;this.fontOptions=a.deepExtend({},i.font,!0);void 0!==i.label&&(this.labelDirty=!0);if(void 0!==i.font){t.parseOptions(this.fontOptions,i,o);"string"===typeof i.font?this.baseSize=this.fontOptions.size:"object"===s(i.font)&&void 0!==i.font.size&&(this.baseSize=i.font.size)}}},{key:"draw",value:function t(e,i,o,n){var s=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.nodeOptions.label){var r=this.fontOptions.size*this.body.view.scale;if(!(this.nodeOptions.label&&r<this.nodeOptions.scaling.label.drawThreshold-1)){this.calculateLabelSize(e,n,i,o,s);this._drawBackground(e);this._drawText(e,n,i,o,s)}}}},{key:"_drawBackground",value:function t(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var i=2;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":e.fillRect(.5*-this.size.width-1,.5*-this.size.height-1,this.size.width+1,this.size.height+1);break;case"top":e.fillRect(.5*-this.size.width,-(this.size.height+i),this.size.width,this.size.height);break;case"bottom":e.fillRect(.5*-this.size.width,i,this.size.width,this.size.height);break;default:e.fillRect(this.size.left,this.size.top-.5*i,this.size.width,this.size.height)}else e.fillRect(this.size.left,this.size.top-.5*i,this.size.width,this.size.height)}}},{key:"_drawText",value:function t(e,i,o,s){var r=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4],a=this.fontOptions.size,h=a*this.body.view.scale;h>=this.nodeOptions.scaling.label.maxVisible&&(a=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale);var d=this.size.yLine,l=this._getColor(h),u=n(l,2),c=u[0],p=u[1],f=this._setAlignment(e,o,d,r),m=n(f,2);o=m[0];d=m[1];e.font=(i&&this.nodeOptions.labelHighlightBold?"bold ":"")+a+"px "+this.fontOptions.face;e.fillStyle=c;if(this.isEdgeLabel||"left"!==this.fontOptions.align)e.textAlign="center";else{e.textAlign=this.fontOptions.align;o-=.5*this.size.width}if(this.fontOptions.strokeWidth>0){e.lineWidth=this.fontOptions.strokeWidth;e.strokeStyle=p;e.lineJoin="round"}for(var v=0;v<this.lineCount;v++){this.fontOptions.strokeWidth>0&&e.strokeText(this.lines[v],o,d);var g=parseInt((2*this.nodeOptions.size-8)/12),y=this.lines[v];y.length>g+2*(g-1)&&(y=y.substring(0,g+2*(g-1)-2)+"...");var b=[];if(y.length>g){if(y.length<=2*g-1){b.push(y.substring(0,parseInt(y.length/2)));b.push(y.substring(parseInt(y.length/2),y.length))}else{b.push(y.substring(0,parseInt((y.length-g)/2)));b.push(y.substring(parseInt((y.length-g)/2),parseInt((y.length-g)/2)+g));b.push(y.substring(parseInt((y.length-g)/2)+g,y.length))}d-=3}else b.push(y);for(var w=0;w<b.length;w++){var _=b.length%2==0,x=w-1,k=d-4-this.nodeOptions.size-(_?0:6)+(b.length>1?12*x:0);e.fillText(b[w],o,k?k:0);d+=3}d+=a}}},{key:"_setAlignment",value:function t(e,i,o,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&this.pointToSelf===!1){i=0;o=0;var s=2;if("top"===this.fontOptions.align){e.textBaseline="alphabetic";o-=2*s}else if("bottom"===this.fontOptions.align){e.textBaseline="hanging";o+=2*s}else e.textBaseline="middle"}else e.textBaseline=n;return[i,o]}},{key:"_getColor",value:function t(e){var i=this.fontOptions.color||"#000000",o=this.fontOptions.strokeColor||"#ffffff";if(e<=this.nodeOptions.scaling.label.drawThreshold){var n=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-e)));i=a.overrideOpacity(i,n);o=a.overrideOpacity(o,n)}return[i,o]}},{key:"getTextSize",value:function t(e){var i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o={width:this._processLabel(e,i),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount};return o}},{key:"calculateLabelSize",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=arguments.length<=3||void 0===arguments[3]?0:arguments[3],s=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(e,i));this.size.height=this.fontOptions.size*this.lineCount;this.size.left=o-.5*this.size.width;this.size.top=n-.5*this.size.height;this.size.yLine=n+.5*(1-this.lineCount)*this.fontOptions.size;if("hanging"===s){this.size.top+=.5*this.fontOptions.size;this.size.top+=4;this.size.yLine+=4}this.labelDirty=!1}},{key:"_processLabel",value:function t(e,i){var o=0,n=[""],s=0;if(void 0!==this.nodeOptions.label){n=String(this.nodeOptions.label).split("\n");s=n.length;e.font=(i&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face;o=e.measureText(n[0]).width;for(var r=1;r<s;r++){var a=e.measureText(n[r]).width;o=a>o?a:o}}this.lines=n;this.lineCount=s;return o}}],[{key:"parseOptions",value:function t(e,i){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("string"===typeof i.font){var n=i.font.split(" ");e.size=n[0].replace("px","");e.face=n[1];e.color=n[2]}else"object"===s(i.font)&&a.fillIfDefined(e,i.font,o);e.size=Number(e.size)}}]);return t}();e.default=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e,i){if(void 0===this.width){var o=5,n=this.labelModule.getTextSize(e,i);this.width=n.width+2*o;this.height=n.height+2*o;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,s){this.resize(e,n);this.left=i-this.width/2;this.top=o-this.height/2;var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth;e.strokeStyle=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border;e.lineWidth=n?a:r;e.lineWidth/=this.body.view.scale;e.lineWidth=Math.min(this.width,e.lineWidth);e.fillStyle=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;var h=this.options.shapeProperties.borderRadius;e.roundRect(this.left,this.top,this.width,this.height,h);this.enableShadow(e);e.fill();this.disableShadow(e);e.save();if(r>0){this.enableBorderDashes(e);e.stroke();this.disableBorderDashes(e)}e.restore();this.updateBoundingBox(i,o,e,n);this.labelModule.draw(e,i,o,n)}},{key:"updateBoundingBox",value:function t(e,i,o,n){this.resize(o,n);this.left=e-.5*this.width;this.top=i-.5*this.height;var s=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-s;this.boundingBox.top=this.top-s;this.boundingBox.bottom=this.top+this.height+s;this.boundingBox.right=this.left+this.width+s}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}}]);return e}(d.default);e.default=l},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=o;this.labelModule=n;this.setOptions(e);this.top=void 0;this.left=void 0;this.height=void 0;this.width=void 0;this.radius=void 0;this.boundingBox={top:0,left:0,right:0,bottom:0}}o(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"_distanceToBorder",value:function t(e,i){var o=this.options.borderWidth;this.resize(e);return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}},{key:"enableShadow",value:function t(e){if(this.options.shadow.enabled===!0){e.shadowColor=this.options.shadow.color;e.shadowBlur=this.options.shadow.size;e.shadowOffsetX=this.options.shadow.x;e.shadowOffsetY=this.options.shadow.y}}},{key:"disableShadow",value:function t(e){if(this.options.shadow.enabled===!0){e.shadowColor="rgba(0,0,0,0)";e.shadowBlur=0;e.shadowOffsetX=0;e.shadowOffsetY=0}}},{key:"enableBorderDashes",value:function t(e){if(this.options.shapeProperties.borderDashes!==!1)if(void 0!==e.setLineDash){var i=this.options.shapeProperties.borderDashes;i===!0&&(i=[5,15]);e.setLineDash(i)}else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=!1}}},{key:"disableBorderDashes",value:function t(e){if(this.options.shapeProperties.borderDashes!==!1)if(void 0!==e.setLineDash)e.setLineDash([0]);else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=!1}}}]);return t}();e.default=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(70),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e,i){if(void 0===this.width){var o=5,n=this.labelModule.getTextSize(e,i),s=Math.max(n.width,n.height)+2*o;this.options.size=s/2;this.width=s;this.height=s;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,s){this.resize(e,n);this.left=i-this.width/2;this.top=o-this.height/2;this._drawRawCircle(e,i,o,n,s,this.options.size);this.boundingBox.top=o-this.options.size;this.boundingBox.left=i-this.options.size;this.boundingBox.right=i+this.options.size;this.boundingBox.bottom=o+this.options.size;this.updateBoundingBox(i,o);this.labelModule.draw(e,i,o,n)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=e-this.options.size;this.boundingBox.right=e+this.options.size;this.boundingBox.bottom=i+this.options.size}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);return.5*this.width}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);var r=s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o));r.labelOffset=0;r.imageLoaded=!1;return r}r(e,t);a(e,[{key:"setOptions",value:function t(e,i){this.options=e;i&&(this.imageObj=i)}},{key:"_resizeImage",value:function t(){var e=!1;if(this.imageObj.width&&this.imageObj.height){if(this.imageLoaded===!1){this.imageLoaded=!0;e=!0}}else this.imageLoaded=!1;if(!this.width||!this.height||e===!0){var i,o,n;if(this.imageObj.width&&this.imageObj.height){i=0;o=0}if(this.options.shapeProperties.useImageSize===!1)if(this.imageObj.width>this.imageObj.height){n=this.imageObj.width/this.imageObj.height;i=2*this.options.size*n||this.imageObj.width;o=2*this.options.size||this.imageObj.height}else{n=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1;i=2*this.options.size;o=2*this.options.size*n}else{i=this.imageObj.width;o=this.imageObj.height}this.width=i;this.height=o;this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function t(e,i,o,n,s,r){var a=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,d=(n?h:a)/this.body.view.scale;e.lineWidth=Math.min(this.width,d);e.strokeStyle=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border;e.fillStyle=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;e.circle(i,o,r);this.enableShadow(e);e.fill();this.disableShadow(e);e.save();if(d>0){this.enableBorderDashes(e);e.stroke();this.disableBorderDashes(e)}e.restore()}},{key:"_drawImageAtPosition",value:function t(e){if(0!=this.imageObj.width){e.globalAlpha=1;this.enableShadow(e);var i=this.imageObj.width/this.width/this.body.view.scale;if(i>2&&this.options.shapeProperties.interpolation===!0){var o=this.imageObj.width,n=this.imageObj.height,s=document.createElement("canvas");s.width=o;s.height=o;var r=s.getContext("2d");i*=.5;o*=.5;n*=.5;r.drawImage(this.imageObj,0,0,o,n);for(var a=0,h=1;i>2&&h<4;){r.drawImage(s,a,0,o,n,a+o,0,o/2,n/2);a+=o;i*=.5;o*=.5;n*=.5;h+=1}e.drawImage(s,a,0,o,n,this.left,this.top,this.width,this.height)}else e.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(e)}}},{key:"_drawImageLabel",value:function t(e,i,o,n){var s,r=0;if(void 0!==this.height){r=.5*this.height;var a=this.labelModule.getTextSize(e);a.lineCount>=1&&(r+=a.height/2)}s=o+r;this.options.label&&(this.labelOffset=r);this.labelModule.draw(e,i,s,n,"hanging")}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(70),d=o(h),l=function(t){function e(t,i,o,r){n(this,e);var a=s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o));a.imageObj=r;a._swapToImageResizeWhenImageLoaded=!0;return a}r(e,t);a(e,[{key:"resize",value:function t(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var e=2*this.options.size;this.width=e;this.height=e;this._swapToImageResizeWhenImageLoaded=!0;this.radius=.5*this.width}}else{if(this._swapToImageResizeWhenImageLoaded){this.width=void 0;this.height=void 0;this._swapToImageResizeWhenImageLoaded=!1}this._resizeImage()}}},{key:"draw",value:function t(e,i,o,n,s){this.resize();this.left=i-this.width/2;this.top=o-this.height/2;var r=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(e,i,o,n,s,r);e.save();e.clip();this._drawImageAtPosition(e);e.restore();this._drawImageLabel(e,i,o,n);this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=e-this.options.size;this.boundingBox.right=e+this.options.size;this.boundingBox.bottom=i+this.options.size;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);return.5*this.width}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e,i){if(void 0===this.width){var o=5,n=this.labelModule.getTextSize(e,i),s=n.width+2*o;this.width=s;this.height=s;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,s){this.resize(e,n);this.left=i-this.width/2;this.top=o-this.height/2;var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,h=(n?a:r)/this.body.view.scale;e.lineWidth=Math.min(this.width,h);e.strokeStyle=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border;e.fillStyle=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;e.database(i-this.width/2,o-.5*this.height,this.width,this.height);this.enableShadow(e);e.fill();this.disableShadow(e);e.save();if(h>0){this.enableBorderDashes(e);e.stroke();this.disableBorderDashes(e)}e.restore();this.updateBoundingBox(i,o,e,n);this.labelModule.draw(e,i,o,n)}},{key:"updateBoundingBox",value:function t(e,i,o,n){this.resize(o,n);this.left=e-.5*this.width;this.top=i-.5*this.height;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e){this._resizeShape()}},{key:"draw",value:function t(e,i,o,n,s){this._drawShape(e,"diamond",4,i,o,n,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_resizeShape",value:function t(){if(void 0===this.width){var e=2*this.options.size;this.width=e;this.height=e;this.radius=.5*this.width}}},{key:"_drawShape",value:function t(e,i,o,n,s,r,a){this._resizeShape();this.left=n-this.width/2;this.top=s-this.height/2;var h=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,l=(r?d:h)/this.body.view.scale;e.lineWidth=Math.min(this.width,l);e.strokeStyle=r?this.options.color.highlight.border:a?this.options.color.hover.border:this.options.color.border;e.fillStyle=r?this.options.color.highlight.background:a?this.options.color.hover.background:this.options.color.background;e[i](n,s,this.options.size);this.enableShadow(e);e.fill();this.disableShadow(e);e.save();if(l>0){this.enableBorderDashes(e);e.stroke();this.disableBorderDashes(e)}e.restore();if(void 0!==this.options.label){var u=s+.5*this.height+3;this.labelModule.draw(e,n,u,r,"hanging")}this.updateBoundingBox(n,s)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=e-this.options.size;this.boundingBox.right=e+this.options.size;this.boundingBox.bottom=i+this.options.size;if(void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3)}}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e){this._resizeShape()}},{key:"draw",value:function t(e,i,o,n,s){this._drawShape(e,"circle",2,i,o,n,s)}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);return this.options.size}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e,i){if(void 0===this.width){var o=this.labelModule.getTextSize(e,i);this.width=1.5*o.width;this.height=2*o.height;this.width<this.height&&(this.width=this.height);this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,s){this.resize(e,n);this.left=i-.5*this.width;this.top=o-.5*this.height;var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,h=(n?a:r)/this.body.view.scale;e.lineWidth=Math.min(this.width,h);e.strokeStyle=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border;e.fillStyle=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;e.ellipse(this.left,this.top,this.width,this.height);this.enableShadow(e);e.fill();this.disableShadow(e);e.save();if(h>0){this.enableBorderDashes(e);e.stroke();this.disableBorderDashes(e)}e.restore();this.updateBoundingBox(i,o,e,n);this.labelModule.draw(e,i,o,n)}},{key:"updateBoundingBox",value:function t(e,i,o,n){this.resize(o,n);this.left=e-.5*this.width;this.top=i-.5*this.height;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);var o=.5*this.width,n=.5*this.height,s=Math.sin(i)*o,r=Math.cos(i)*n;return o*n/Math.sqrt(s*s+r*r)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e){if(void 0===this.width){var i=5,o={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=o.width+2*i;this.height=o.height+2*i;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,s){this.resize(e);this.options.icon.size=this.options.icon.size||50;this.left=i-.5*this.width;this.top=o-.5*this.height;this._icon(e,i,o,n);if(void 0!==this.options.label){var r=5;this.labelModule.draw(e,i,o+.5*this.height+r,n)}this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-.5*this.options.icon.size;this.boundingBox.left=e-.5*this.options.icon.size;this.boundingBox.right=e+.5*this.options.icon.size;this.boundingBox.bottom=i+.5*this.options.icon.size;if(void 0!==this.options.label&&this.labelModule.size.width>0){var o=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);
this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+o)}}},{key:"_icon",value:function t(e,i,o,n){var s=Number(this.options.icon.size);if(void 0!==this.options.icon.code){e.font=(n?"bold ":"")+s+"px "+this.options.icon.face;e.fillStyle=this.options.icon.color||"black";e.textAlign="center";e.textBaseline="middle";this.enableShadow(e);e.fillText(this.options.icon.code,i,o);this.disableShadow(e)}else console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(70),d=o(h),l=function(t){function e(t,i,o,r){n(this,e);var a=s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o));a.imageObj=r;return a}r(e,t);a(e,[{key:"resize",value:function t(){this._resizeImage()}},{key:"draw",value:function t(e,i,o,n,s){this.resize();this.left=i-this.width/2;this.top=o-this.height/2;if(this.options.shapeProperties.useBorderWithImage===!0){var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,h=(n?a:r)/this.body.view.scale;e.lineWidth=Math.min(this.width,h);e.beginPath();e.strokeStyle=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border;e.fillStyle=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth);e.fill();e.save();if(h>0){this.enableBorderDashes(e);e.stroke();this.disableBorderDashes(e)}e.restore();e.closePath()}this._drawImageAtPosition(e);this._drawImageLabel(e,i,o,n||s);this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function t(e,i){this.resize();this.left=e-this.width/2;this.top=i-this.height/2;this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;if(void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(){this._resizeShape()}},{key:"draw",value:function t(e,i,o,n,s){this._drawShape(e,"square",2,i,o,n,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e){this._resizeShape()}},{key:"draw",value:function t(e,i,o,n,s){this._drawShape(e,"star",4,i,o,n,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e,i){if(void 0===this.width){var o=5,n=this.labelModule.getTextSize(e,i);this.width=n.width+2*o;this.height=n.height+2*o;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,s){this.resize(e,n||s);this.left=i-this.width/2;this.top=o-this.height/2;this.enableShadow(e);this.labelModule.draw(e,i,o,n||s);this.disableShadow(e);this.updateBoundingBox(i,o,e,n)}},{key:"updateBoundingBox",value:function t(e,i,o,n){this.resize(o,n);this.left=e-this.width/2;this.top=i-this.height/2;this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e){this._resizeShape()}},{key:"draw",value:function t(e,i,o,n,s){this._drawShape(e,"triangle",3,i,o,n,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"resize",value:function t(e){this._resizeShape()}},{key:"draw",value:function t(e,i,o,n,s){this._drawShape(e,"triangleDown",3,i,o,n,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(85),a=o(r),h=i(66),d=o(h),l=i(1),u=i(9),c=i(11),p=function(){function t(e,i,o){var s=this;n(this,t);this.body=e;this.images=i;this.groups=o;this.body.functions.createEdge=this.create.bind(this);this.edgesListeners={add:function t(e,i){s.add(i.items)},update:function t(e,i){s.update(i.items)},remove:function t(e,i){s.remove(i.items)}};this.options={};this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},alwaysShow:!1,dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function t(e,i,o,n){if(i===e)return.5;var s=1/(i-e);return Math.max(0,(n-e)*s)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}s(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){"dynamic"===t&&(t="continuous");var i=!1;for(var o in e.body.edges)if(e.body.edges.hasOwnProperty(o)){var n=e.body.edges[o],s=e.body.data.edges._data[o];if(void 0!==s){var r=s.smooth;if(void 0!==r&&r.enabled===!0&&"dynamic"===r.type){void 0===t?n.setOptions({smooth:!1}):n.setOptions({smooth:{type:t}});i=!0}}}i===!0&&e.body.emitter.emit("_dataChanged")});this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges();e.markAllEdgesAsDirty()});this.body.emitter.on("refreshEdges",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){l.forEach(e.edgesListeners,function(t,i){e.body.data.edges&&e.body.data.edges.off(i,t)});delete e.body.functions.createEdge;delete e.edgesListeners.add;delete e.edgesListeners.update;delete e.edgesListeners.remove;delete e.edgesListeners})}},{key:"setOptions",value:function t(e){if(void 0!==e){a.default.parseOptions(this.options,e);void 0!==e.color&&this.markAllEdgesAsDirty();var i=!1;if(void 0!==e.smooth)for(var o in this.body.edges)this.body.edges.hasOwnProperty(o)&&(i=this.body.edges[o].updateEdgeType()||i);if(void 0!==e.font){d.default.parseOptions(this.options.font,e);for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule()}void 0===e.hidden&&void 0===e.physics&&i!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function t(e){var i=this,o=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.body.data.edges;if(e instanceof u||e instanceof c)this.body.data.edges=e;else if(Array.isArray(e)){this.body.data.edges=new u;this.body.data.edges.add(e)}else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new u}n&&l.forEach(this.edgesListeners,function(t,e){n.off(e,t)});this.body.edges={};if(this.body.data.edges){l.forEach(this.edgesListeners,function(t,e){i.body.data.edges.on(e,t)});var s=this.body.data.edges.getIds();this.add(s,!0)}o===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function t(e){for(var i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=this.body.edges,n=this.body.data.edges,s=0;s<e.length;s++){var r=e[s],a=o[r];a&&a.disconnect();var h=n.get(r,{showInternalIds:!0});o[r]=this.create(h)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function t(e){for(var i=this.body.edges,o=this.body.data.edges,n=!1,s=0;s<e.length;s++){var r=e[s],a=o.get(r),h=i[r];if(void 0!==h){h.disconnect();n=h.setOptions(a)||n;h.connect()}else{this.body.edges[r]=this.create(a);n=!0}}n===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function t(e){for(var i=this.body.edges,o=0;o<e.length;o++){var n=e[o],s=i[n];if(void 0!==s){s.cleanup();s.disconnect();delete i[n]}}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function t(){var e=this.body.edges;for(var i in e){var o=void 0;e.hasOwnProperty(i)&&(o=e[i]);var n=this.body.data.edges._data[i];void 0!==o&&void 0!==n&&o.setOptions(n)}}},{key:"create",value:function t(e){return new a.default(e,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function t(){for(var e in this.body.edges)this.body.edges[e].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function t(){var e,i=this.body.nodes,o=this.body.edges;for(e in i)i.hasOwnProperty(e)&&(i[e].edges=[]);for(e in o)if(o.hasOwnProperty(e)){var n=o[e];n.from=null;n.to=null;n.connect()}}},{key:"getConnectedNodes",value:function t(e){var i=[];if(void 0!==this.body.edges[e]){var o=this.body.edges[e];o.fromId&&i.push(o.fromId);o.toId&&i.push(o.toId)}return i}}]);return t}();e.default=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),a=i(66),h=o(a),d=i(86),l=o(d),u=i(90),c=o(u),p=i(91),f=o(p),m=i(92),v=o(m),g=i(1),y=function(){function t(e,i,o){n(this,t);if(void 0===i)throw"No body provided";this.options=g.bridgeObject(o);this.globalOptions=o;this.body=i;this.id=void 0;this.fromId=void 0;this.toId=void 0;this.selected=!1;this.hover=!1;this.labelDirty=!0;this.colorDirty=!0;this.baseWidth=this.options.width;this.baseFontSize=this.options.font.size;this.from=void 0;this.to=void 0;this.edgeType=void 0;this.connected=!1;this.labelModule=new h.default(this.body,this.options,!0);this.setOptions(e)}r(t,[{key:"setOptions",value:function e(i){if(i){this.colorDirty=!0;t.parseOptions(this.options,i,!0,this.globalOptions);void 0!==i.id&&(this.id=i.id);void 0!==i.from&&(this.fromId=i.from);void 0!==i.to&&(this.toId=i.to);void 0!==i.title&&(this.title=i.title);void 0!==i.value&&(i.value=parseFloat(i.value));this.updateLabelModule();var o=this.updateEdgeType();this._setInteractionWidths();this.connect();void 0===i.hidden&&void 0===i.physics||(o=!0);return o}}},{key:"updateLabelModule",value:function t(){this.labelModule.setOptions(this.options,!0);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function t(){var e=!1,i=!0,o=this.options.smooth;if(void 0!==this.edgeType){this.edgeType instanceof c.default&&o.enabled===!0&&"dynamic"===o.type&&(i=!1);this.edgeType instanceof l.default&&o.enabled===!0&&"cubicBezier"===o.type&&(i=!1);this.edgeType instanceof f.default&&o.enabled===!0&&"dynamic"!==o.type&&"cubicBezier"!==o.type&&(i=!1);this.edgeType instanceof v.default&&o.enabled===!1&&(i=!1);i===!0&&(e=this.cleanup())}if(i===!0)if(this.options.smooth.enabled===!0)if("dynamic"===this.options.smooth.type){e=!0;this.edgeType=new c.default(this.options,this.body,this.labelModule)}else"cubicBezier"===this.options.smooth.type?this.edgeType=new l.default(this.options,this.body,this.labelModule):this.edgeType=new f.default(this.options,this.body,this.labelModule);else this.edgeType=new v.default(this.options,this.body,this.labelModule);else this.edgeType.setOptions(this.options);return e}},{key:"connect",value:function t(){this.disconnect();this.from=this.body.nodes[this.fromId]||void 0;this.to=this.body.nodes[this.toId]||void 0;this.connected=void 0!==this.from&&void 0!==this.to;if(this.connected===!0){this.from.attachEdge(this);this.to.attachEdge(this)}else{this.from&&this.from.detachEdge(this);this.to&&this.to.detachEdge(this)}this.edgeType.connect()}},{key:"disconnect",value:function t(){if(this.from){this.from.detachEdge(this);this.from=void 0}if(this.to){this.to.detachEdge(this);this.to=void 0}this.connected=!1}},{key:"getTitle",value:function t(){return this.title}},{key:"isSelected",value:function t(){return this.selected}},{key:"getValue",value:function t(){return this.options.value}},{key:"setValueRange",value:function t(e,i,o){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,i,o,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*r}this.options.width=this.options.scaling.min+n*s}else{this.options.width=this.baseWidth;this.options.font.size=this.baseFontSize}this._setInteractionWidths();this.updateLabelModule()}},{key:"_setInteractionWidths",value:function t(){"function"===typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width;"function"===typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"enableShadow",value:function t(e){if(this.options.shadow.enabled===!0){e.shadowColor=this.options.shadow.color;e.shadowBlur=this.options.shadow.size;e.shadowOffsetX=this.options.shadow.x;e.shadowOffsetY=this.options.shadow.y}}},{key:"disableShadow",value:function t(e){if(this.options.shadow.enabled===!0){e.shadowColor="rgba(0,0,0,0)";e.shadowBlur=0;e.shadowOffsetX=0;e.shadowOffsetY=0}}},{key:"drawMultiDashesLines",value:function t(e){e.strokeStyle=this.edgeType.getColor(e,!1,this.hover);e.lineWidth=this.edgeType.getLineWidth(!1,this.hover);e.lineCap="round";var i=[4,6];if(void 0!==e.setLineDash){e.save();e.setLineDash(i);e.lineDashOffset=0;if(this.from!=this.to){e.beginPath();e.moveTo(this.sourcePosition.x,this.sourcePosition.y);e.lineTo(this.targetPosition.x,this.targetPosition.y);this.enableShadow(e);e.stroke();this.disableShadow(e)}e.setLineDash([0]);e.lineDashOffset=0;e.restore()}else{e.dashedLine(this.sourcePosition.x,this.sourcePosition.y,this.targetPosition.x,this.targetPosition.y,i);this.enableShadow(e);e.stroke();this.disableShadow(e)}}},{key:"drawMultiNormalLines",value:function t(e){e.strokeStyle=this.edgeType.getColor(e,!1,this.hover);e.lineWidth=this.edgeType.getLineWidth(!1,this.hover);e.beginPath();e.moveTo(this.sourcePosition.x,this.sourcePosition.y);e.lineTo(this.targetPosition.x,this.targetPosition.y);this.enableShadow(e);e.stroke();this.disableShadow(e)}},{key:"drawMultiArrow",value:function t(e){var i=Math.atan2(this.targetPosition.y-this.sourcePosition.y,this.targetPosition.x-this.sourcePosition.x);e.strokeStyle=this.edgeType.getColor(e,this.selected,this.hover);e.fillStyle=e.strokeStyle;e.lineWidth=this.edgeType.getLineWidth(this.selected,this.hover);e.arrow(this.targetPosition.x,this.targetPosition.y,i,10);this.enableShadow(e);e.fill();this.disableShadow(e)}},{key:"getPointOfLabel",value:function t(){}},{key:"drawMultiLabel",value:function t(e){if(void 0!==this.options.label){var i=this.from,o=this.to,n=this.from.selected||this.to.selected||this.selected;this.labelModule.pointToSelf=!1;var s={x:(1-.5)*this.sourcePosition.x+.5*this.targetPosition.x,y:(1-.5)*this.sourcePosition.y+.5*this.targetPosition.y};e.save();this.labelModule.calculateLabelSize(e,n,s.x,s.y);e.translate(s.x,this.labelModule.size.yLine);this._rotateForLabelAlignment(e);this.labelModule.draw(e,s.x,s.y,n);e.restore()}}},{key:"drawMultiLines",value:function t(e){this.edgeType.options.dashes&&!this.hover?this.drawMultiDashesLines(e):this.drawMultiNormalLines(e);this.drawMultiArrow(e);if(this.hover)this.drawMultiLabel(e);else{var i=!0;for(var o in this.body.edgeIndices){var n=this.body.edges[this.body.edgeIndices[o]];if(n.hover){i=!1;break}}i&&this.drawMultiLabel(e)}}},{key:"draw",value:function t(e){var i=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from;this.edgeType.toPoint=this.edgeType.to;if(this.options.arrows.from.enabled===!0){o.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover);this.options.arrowStrikethrough===!1&&(this.edgeType.fromPoint=o.from.core)}if(this.options.arrows.to.enabled===!0){o.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover);this.options.arrowStrikethrough===!1&&(this.edgeType.toPoint=o.to.core)}this.options.arrows.middle.enabled===!0&&(o.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover));this.edgeType.drawLine(e,this.selected,this.hover,i);this.drawArrows(e,o);this.drawLabel(e,i)}},{key:"drawArrows",value:function t(e,i){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(e,this.selected,this.hover,i.from);this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(e,this.selected,this.hover,i.middle);this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(e,this.selected,this.hover,i.to)}},{key:"drawLabel",value:function t(e,i){if(void 0!==this.options.label){var o=this.from,n=this.to,s=this.from.selected||this.to.selected||this.selected;if(o.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,i);e.save();if("horizontal"!==this.options.font.align){this.labelModule.calculateLabelSize(e,s,r.x,r.y);e.translate(r.x,this.labelModule.size.yLine);this._rotateForLabelAlignment(e)}this.labelModule.draw(e,r.x,r.y,s);e.restore()}else{this.labelModule.pointToSelf=!0;var a,h,d=this.options.selfReferenceSize;if(o.shape.width>o.shape.height){a=o.x+.5*o.shape.width;h=o.y-d}else{a=o.x+d;h=o.y-.5*o.shape.height}r=this._pointOnCircle(a,h,d,.125);this.labelModule.draw(e,r.x,r.y,s)}}}},{key:"isOverlappingWith",value:function t(e){if(this.connected){var i=10,o=this.sourcePosition?this.sourcePosition.x:this.from.x,n=this.sourcePosition?this.sourcePosition.y:this.from.y,s=this.targetPosition?this.targetPosition.x:this.to.x,r=this.targetPosition?this.targetPosition.y:this.to.y,a=e.left,h=e.top,d=this.edgeType.getDistanceToEdge(o,n,s,r,a,h);return d<i}return!1}},{key:"_rotateForLabelAlignment",value:function t(e){var i=this.from.y-this.to.y,o=this.from.x-this.to.x,n=Math.atan2(i,o);(n<-1&&o<0||n>0&&o<0)&&(n+=Math.PI);e.rotate(n)}},{key:"_pointOnCircle",value:function t(e,i,o,n){var s=2*n*Math.PI;return{x:e+o*Math.cos(s),y:i-o*Math.sin(s)}}},{key:"select",value:function t(){this.selected=!0}},{key:"unselect",value:function t(){this.selected=!1}},{key:"cleanup",value:function t(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function t(e,i){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=["alwaysShow","arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];g.selectiveDeepExtend(r,e,i,o);g.mergeOptions(e,i,"smooth",o,n);g.mergeOptions(e,i,"shadow",o,n);void 0!==i.dashes&&null!==i.dashes?e.dashes=i.dashes:o===!0&&null===i.dashes&&(e.dashes=Object.create(n.dashes));if(void 0!==i.scaling&&null!==i.scaling){void 0!==i.scaling.min&&(e.scaling.min=i.scaling.min);void 0!==i.scaling.max&&(e.scaling.max=i.scaling.max);g.mergeOptions(e.scaling,i.scaling,"label",o,n.scaling)}else o===!0&&null===i.scaling&&(e.scaling=Object.create(n.scaling));if(void 0!==i.arrows&&null!==i.arrows)if("string"===typeof i.arrows){var a=i.arrows.toLowerCase();e.arrows.to.enabled=a.indexOf("to")!=-1;e.arrows.middle.enabled=a.indexOf("middle")!=-1;e.arrows.from.enabled=a.indexOf("from")!=-1}else{if("object"!==s(i.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(i.arrows));g.mergeOptions(e.arrows,i.arrows,"to",o,n.arrows);g.mergeOptions(e.arrows,i.arrows,"middle",o,n.arrows);g.mergeOptions(e.arrows,i.arrows,"from",o,n.arrows)}else o===!0&&null===i.arrows&&(e.arrows=Object.create(n.arrows));if(void 0!==i.color&&null!==i.color){e.color=g.deepExtend({},e.color,!0);if(g.isString(i.color)){e.color.color=i.color;e.color.highlight=i.color;e.color.hover=i.color;e.color.inherit=!1}else{var d=!1;if(void 0!==i.color.color){e.color.color=i.color.color;d=!0}if(void 0!==i.color.highlight){e.color.highlight=i.color.highlight;d=!0}if(void 0!==i.color.hover){e.color.hover=i.color.hover;d=!0}void 0!==i.color.inherit&&(e.color.inherit=i.color.inherit);void 0!==i.color.opacity&&(e.color.opacity=Math.min(1,Math.max(0,i.color.opacity)));void 0===i.color.inherit&&d===!0&&(e.color.inherit=!1)}}else o===!0&&null===i.color&&(e.color=g.bridgeObject(n.color));void 0!==i.font&&null!==i.font?h.default.parseOptions(e.font,i):o===!0&&null===i.font&&(e.font=g.bridgeObject(n.font))}}]);return t}();e.default=y},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r=t[Symbol.iterator](),a;!(o=(a=r.next()).done);o=!0){i.push(a.value);if(e&&i.length===e)break}}catch(t){n=!0;s=t}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),d=i(87),l=o(d),u=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);h(e,[{key:"_line",value:function t(e,i){var o=i[0],n=i[1];e.beginPath();e.moveTo(this.fromPoint.x,this.fromPoint.y);void 0===i||void 0===o.x?e.lineTo(this.toPoint.x,this.toPoint.y):e.bezierCurveTo(o.x,o.y,n.x,n.y,this.toPoint.x,this.toPoint.y);this.enableShadow(e);e.stroke();this.disableShadow(e)}},{key:"_getViaCoordinates",value:function t(){var e=this.from.x-this.to.x,i=this.from.y-this.to.y,o=void 0,n=void 0,s=void 0,r=void 0,a=this.options.smooth.roundness;if((Math.abs(e)>Math.abs(i)||this.options.smooth.forceDirection===!0||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection){n=this.from.y;r=this.to.y;o=this.from.x-a*e;s=this.to.x+a*e}else{n=this.from.y-a*i;r=this.to.y+a*i;o=this.from.x;s=this.to.x}return[{x:o,y:n},{x:s,y:r}]}},{key:"getViaNode",value:function t(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function t(e,i){return this._findBorderPositionBezier(e,i)}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,s,r){var h=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6],d=a(h,2),l=d[0],u=d[1];return this._getDistanceToBezierEdge(e,i,o,n,s,r,l,u)}},{key:"getPoint",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],o=a(i,2),n=o[0],s=o[1],r=e,h=[];h[0]=Math.pow(1-r,3);h[1]=3*r*Math.pow(1-r,2);h[2]=3*Math.pow(r,2)*(1-r);h[3]=Math.pow(r,3);var d=h[0]*this.fromPoint.x+h[1]*n.x+h[2]*s.x+h[3]*this.toPoint.x,l=h[0]*this.fromPoint.y+h[1]*n.y+h[2]*s.y+h[3]*this.toPoint.y;return{x:d,y:l}}}]);return e}(l.default);e.default=u},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);
}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(88),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_getDistanceToBezierEdge",value:function t(e,i,o,n,s,r,a,h){var d=1e9,l=void 0,u=void 0,c=void 0,p=void 0,f=void 0,m=e,v=i,g=[0,0,0,0];for(u=1;u<10;u++){c=.1*u;g[0]=Math.pow(1-c,3);g[1]=3*c*Math.pow(1-c,2);g[2]=3*Math.pow(c,2)*(1-c);g[3]=Math.pow(c,3);p=g[0]*e+g[1]*a.x+g[2]*h.x+g[3]*o;f=g[0]*i+g[1]*a.y+g[2]*h.y+g[3]*n;if(u>0){l=this._getDistanceToLine(m,v,p,f,s,r);d=l<d?l:d}m=p;v=f}return d}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(89),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_findBorderPositionBezier",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]?this._getViaCoordinates():arguments[2],n=10,s=0,r=0,a=1,h,d,l,u,c,p=.2,f=this.to,m=!1;if(e.id===this.from.id){f=this.from;m=!0}for(;r<=a&&s<n;){var v=.5*(r+a);h=this.getPoint(v,o);d=Math.atan2(f.y-h.y,f.x-h.x);l=f.distanceToBorder(i,d);u=Math.sqrt(Math.pow(h.x-f.x,2)+Math.pow(h.y-f.y,2));c=l-u;if(Math.abs(c)<p)break;c<0?m===!1?r=v:a=v:m===!1?a=v:r=v;s++}h.t=v;return h}},{key:"_getDistanceToBezierEdge",value:function t(e,i,o,n,s,r,a){var h=1e9,d=void 0,l=void 0,u=void 0,c=void 0,p=void 0,f=e,m=i;for(l=1;l<10;l++){u=.1*l;c=Math.pow(1-u,2)*e+2*u*(1-u)*a.x+Math.pow(u,2)*o;p=Math.pow(1-u,2)*i+2*u*(1-u)*a.y+Math.pow(u,2)*n;if(l>0){d=this._getDistanceToLine(f,m,c,p,s,r);h=d<h?d:h}f=c;m=p}return h}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r=t[Symbol.iterator](),a;!(o=(a=r.next()).done);o=!0){i.push(a.value);if(e&&i.length===e)break}}catch(t){n=!0;s=t}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(1),a=function(){function t(e,i,n){o(this,t);this.body=i;this.labelModule=n;this.options={};this.setOptions(e);this.colorDirty=!0;this.color={};this.selectionWidth=2;this.hoverWidth=1.5;this.fromPoint=this.from;this.toPoint=this.to}s(t,[{key:"connect",value:function t(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function t(){return!1}},{key:"setOptions",value:function t(e){this.options=e;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.id=this.options.id}},{key:"drawLine",value:function t(e,i,o,n){e.strokeStyle=this.getColor(e,i,o);e.lineWidth=this.getLineWidth(i,o);this.options.dashes!==!1?this._drawDashedLine(e,n):this._drawLine(e,n)}},{key:"_drawLine",value:function t(e,i,o,s){if(this.from!=this.to)this._line(e,i,o,s);else{var r=this._getCircleData(e),a=n(r,3),h=a[0],d=a[1],l=a[2];this._circle(e,h,d,l)}}},{key:"_drawDashedLine",value:function t(e,i,o,s){e.lineCap="round";var r=[3,5];Array.isArray(this.options.dashes)===!0&&(r=this.options.dashes);if(void 0!==e.setLineDash){e.save();e.setLineDash(r);e.lineDashOffset=0;if(this.from!=this.to)this._line(e,i);else{var a=this._getCircleData(e),h=n(a,3),d=h[0],l=h[1],u=h[2];this._circle(e,d,l,u)}e.setLineDash([0]);e.lineDashOffset=0;e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,r);else{var c=this._getCircleData(e),p=n(c,3),f=p[0],m=p[1],v=p[2];this._circle(e,f,m,v)}this.enableShadow(e);e.stroke();this.disableShadow(e)}}},{key:"findBorderPosition",value:function t(e,i,o){return this.from!=this.to?this._findBorderPosition(e,i,o):this._findBorderPositionCircle(e,i,o)}},{key:"findBorderPositions",value:function t(e){var i={},o={};if(this.from!=this.to){i=this._findBorderPosition(this.from,e);o=this._findBorderPosition(this.to,e)}else{var s=this._getCircleData(e),r=n(s,3),a=r[0],h=r[1],d=r[2];i=this._findBorderPositionCircle(this.from,e,{x:a,y:h,low:.25,high:.6,direction:-1});o=this._findBorderPositionCircle(this.from,e,{x:a,y:h,low:.6,high:.8,direction:1})}return{from:i,to:o}}},{key:"_getCircleData",value:function t(e){var i=void 0,o=void 0,n=this.from,s=this.options.selfReferenceSize;void 0!==e&&void 0===n.shape.width&&n.shape.resize(e);if(n.shape.width>n.shape.height){i=n.x+.5*n.shape.width;o=n.y-s}else{i=n.x+s;o=n.y-.5*n.shape.height}return[i,o,s]}},{key:"_pointOnCircle",value:function t(e,i,o,n){var s=2*n*Math.PI;return{x:e+o*Math.cos(s),y:i-o*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function t(e,i,o){for(var n=o.x,s=o.y,r=o.low,a=o.high,h=o.direction,d=10,l=0,u=this.options.selfReferenceSize,c=void 0,p=void 0,f=void 0,m=void 0,v=void 0,g=.05,y=.5*(r+a);r<=a&&l<d;){y=.5*(r+a);c=this._pointOnCircle(n,s,u,y);p=Math.atan2(e.y-c.y,e.x-c.x);f=e.distanceToBorder(i,p);m=Math.sqrt(Math.pow(c.x-e.x,2)+Math.pow(c.y-e.y,2));v=f-m;if(Math.abs(v)<g)break;v>0?h>0?r=y:a=y:h>0?a=y:r=y;l++}c.t=y;return c}},{key:"getLineWidth",value:function t(e,i){return e===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):i===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function t(e,i,o){var n=this.options.color;if(n.inherit!==!1){if("both"===n.inherit&&this.from.id!==this.to.id){var s=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),a=void 0,h=void 0;a=this.from.options.color.highlight.border;h=this.to.options.color.highlight.border;if(this.from.selected===!1&&this.to.selected===!1){a=r.overrideOpacity(this.from.options.color.border,this.options.color.opacity);h=r.overrideOpacity(this.to.options.color.border,this.options.color.opacity)}else this.from.selected===!0&&this.to.selected===!1?h=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(a=this.from.options.color.border);s.addColorStop(0,a);s.addColorStop(1,h);return s}if(this.colorDirty===!0)if("to"===n.inherit){this.color.highlight=this.to.options.color.highlight.border;this.color.hover=this.to.options.color.hover.border;this.color.color=r.overrideOpacity(this.to.options.color.border,n.opacity)}else{this.color.highlight=this.from.options.color.highlight.border;this.color.hover=this.from.options.color.hover.border;this.color.color=r.overrideOpacity(this.from.options.color.border,n.opacity)}}else if(this.colorDirty===!0){this.color.highlight=n.highlight;this.color.hover=n.hover;this.color.color=r.overrideOpacity(n.color,n.opacity)}this.colorDirty=!1;return i===!0?this.color.highlight:o===!0?this.color.hover:this.color.color}},{key:"_circle",value:function t(e,i,o,n){this.enableShadow(e);e.beginPath();e.arc(i,o,n,0,2*Math.PI,!1);e.stroke();this.disableShadow(e)}},{key:"getDistanceToEdge",value:function t(e,i,o,s,r,a,h){var d=0;if(this.from!=this.to)d=this._getDistanceToEdge(e,i,o,s,r,a,h);else{var l=this._getCircleData(),u=n(l,3),c=u[0],p=u[1],f=u[2],m=c-r,v=p-a;d=Math.abs(Math.sqrt(m*m+v*v)-f)}return this.labelModule.size.left<r&&this.labelModule.size.left+this.labelModule.size.width>r&&this.labelModule.size.top<a&&this.labelModule.size.top+this.labelModule.size.height>a?0:d}},{key:"_getDistanceToLine",value:function t(e,i,o,n,s,r){var a=o-e,h=n-i,d=a*a+h*h,l=((s-e)*a+(r-i)*h)/d;l>1?l=1:l<0&&(l=0);var u=e+l*a,c=i+l*h,p=u-s,f=c-r;return Math.sqrt(p*p+f*f)}},{key:"getArrowData",value:function t(e,i,o,s,r){var a=void 0,h=void 0,d=void 0,l=void 0,u=void 0,c=void 0,p=this.getLineWidth(s,r);if("from"===i){d=this.from;l=this.to;u=.1;c=this.options.arrows.from.scaleFactor}else if("to"===i){d=this.to;l=this.from;u=-.1;c=this.options.arrows.to.scaleFactor}else{d=this.to;l=this.from;c=this.options.arrows.middle.scaleFactor}if(d!=l)if("middle"!==i)if(this.options.smooth.enabled===!0){h=this.findBorderPosition(d,e,{via:o});var f=this.getPoint(Math.max(0,Math.min(1,h.t+u)),o);a=Math.atan2(h.y-f.y,h.x-f.x)}else{a=Math.atan2(d.y-l.y,d.x-l.x);h=this.findBorderPosition(d,e)}else{a=Math.atan2(d.y-l.y,d.x-l.x);h=this.getPoint(.5,o)}else{var m=this._getCircleData(e),v=n(m,3),g=v[0],y=v[1],b=v[2];if("from"===i){h=this.findBorderPosition(this.from,e,{x:g,y:y,low:.25,high:.6,direction:-1});a=h.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI}else if("to"===i){h=this.findBorderPosition(this.from,e,{x:g,y:y,low:.6,high:1,direction:1});a=h.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI}else{h=this._pointOnCircle(g,y,b,.175);a=3.9269908169872414}}var w=5*c+3*p,_=h.x-.9*w*Math.cos(a),x=h.y-.9*w*Math.sin(a),k={x:_,y:x};return{point:h,core:k,angle:a,length:w}}},{key:"drawArrowHead",value:function t(e,i,o,n){e.strokeStyle=this.getColor(e,i,o);e.fillStyle=e.strokeStyle;e.lineWidth=this.getLineWidth(i,o);e.arrow(n.point.x,n.point.y,n.angle,n.length);this.enableShadow(e);e.fill();this.disableShadow(e)}},{key:"enableShadow",value:function t(e){if(this.options.shadow.enabled===!0){e.shadowColor=this.options.shadow.color;e.shadowBlur=this.options.shadow.size;e.shadowOffsetX=this.options.shadow.x;e.shadowOffsetY=this.options.shadow.y}}},{key:"disableShadow",value:function t(e){if(this.options.shadow.enabled===!0){e.shadowColor="rgba(0,0,0,0)";e.shadowBlur=0;e.shadowOffsetX=0;e.shadowOffsetY=0}}}]);return t}();e.default=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(88),d=o(h),l=function(t){function e(t,i,o){n(this,e);var r=s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o));r._boundFunction=function(){r.positionBezierNode()};r.body.emitter.on("_repositionBezierNodes",r._boundFunction);return r}r(e,t);a(e,[{key:"setOptions",value:function t(e){var i=!1;this.options.physics!==e.physics&&(i=!0);this.options=e;this.id=this.options.id;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.setupSupportNode();this.connect();if(i===!0){this.via.setOptions({physics:this.options.physics});this.positionBezierNode()}}},{key:"connect",value:function t(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];void 0===this.from||void 0===this.to||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function t(){this.body.emitter.off("_repositionBezierNodes",this._boundFunction);if(void 0!==this.via){delete this.body.nodes[this.via.id];this.via=void 0;return!0}return!1}},{key:"setupSupportNode",value:function t(){if(void 0===this.via){var e="edgeId:"+this.id,i=this.body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this.body.nodes[e]=i;this.via=i;this.via.parentEdgeId=this.id;this.positionBezierNode()}}},{key:"positionBezierNode",value:function t(){if(void 0!==this.via&&void 0!==this.from&&void 0!==this.to){this.via.x=.5*(this.from.x+this.to.x);this.via.y=.5*(this.from.y+this.to.y)}else if(void 0!==this.via){this.via.x=0;this.via.y=0}}},{key:"_line",value:function t(e,i){e.beginPath();e.moveTo(this.fromPoint.x,this.fromPoint.y);void 0===i.x?e.lineTo(this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y);this.enableShadow(e);e.stroke();this.disableShadow(e)}},{key:"getViaNode",value:function t(){return this.via}},{key:"getPoint",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?this.via:arguments[1],o=e,n=Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*i.x+Math.pow(o,2)*this.toPoint.x,s=Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*i.y+Math.pow(o,2)*this.toPoint.y;return{x:n,y:s}}},{key:"_findBorderPosition",value:function t(e,i){return this._findBorderPositionBezier(e,i,this.via)}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,s,r){return this._getDistanceToBezierEdge(e,i,o,n,s,r,this.via)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(88),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_line",value:function t(e,i){e.beginPath();e.moveTo(this.fromPoint.x,this.fromPoint.y);void 0===i.x?e.lineTo(this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y);this.enableShadow(e);e.stroke();this.disableShadow(e)}},{key:"getViaNode",value:function t(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function t(){var e=void 0,i=void 0,o=this.options.smooth.roundness,n=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){if(Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)){if(this.from.y>=this.to.y){if(this.from.x<=this.to.x){e=this.from.x+o*r;i=this.from.y-o*r}else if(this.from.x>this.to.x){e=this.from.x-o*r;i=this.from.y-o*r}}else if(this.from.y<this.to.y)if(this.from.x<=this.to.x){e=this.from.x+o*r;i=this.from.y+o*r}else if(this.from.x>this.to.x){e=this.from.x-o*r;i=this.from.y+o*r}"discrete"===n&&(e=s<o*r?this.from.x:e)}else if(Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)){if(this.from.y>=this.to.y){if(this.from.x<=this.to.x){e=this.from.x+o*s;i=this.from.y-o*s}else if(this.from.x>this.to.x){e=this.from.x-o*s;i=this.from.y-o*s}}else if(this.from.y<this.to.y)if(this.from.x<=this.to.x){e=this.from.x+o*s;i=this.from.y+o*s}else if(this.from.x>this.to.x){e=this.from.x-o*s;i=this.from.y+o*s}"discrete"===n&&(i=r<o*s?this.from.y:i)}}else if("straightCross"===n){if(Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)){e=this.from.x;i=this.from.y<this.to.y?this.to.y-(1-o)*r:this.to.y+(1-o)*r}else if(Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)){e=this.from.x<this.to.x?this.to.x-(1-o)*s:this.to.x+(1-o)*s;i=this.from.y}}else if("horizontal"===n){e=this.from.x<this.to.x?this.to.x-(1-o)*s:this.to.x+(1-o)*s;i=this.from.y}else if("vertical"===n){e=this.from.x;i=this.from.y<this.to.y?this.to.y-(1-o)*r:this.to.y+(1-o)*r}else if("curvedCW"===n){s=this.to.x-this.from.x;r=this.from.y-this.to.y;var a=Math.sqrt(s*s+r*r),h=Math.PI,d=Math.atan2(r,s),l=(d+(.5*o+.5)*h)%(2*h);e=this.from.x+(.5*o+.5)*a*Math.sin(l);i=this.from.y+(.5*o+.5)*a*Math.cos(l)}else if("curvedCCW"===n){s=this.to.x-this.from.x;r=this.from.y-this.to.y;var u=Math.sqrt(s*s+r*r),c=Math.PI,p=Math.atan2(r,s),f=(p+(.5*-o+.5)*c)%(2*c);e=this.from.x+(.5*o+.5)*u*Math.sin(f);i=this.from.y+(.5*o+.5)*u*Math.cos(f)}else if(Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)){if(this.from.y>=this.to.y){if(this.from.x<=this.to.x){e=this.from.x+o*r;i=this.from.y-o*r;e=this.to.x<e?this.to.x:e}else if(this.from.x>this.to.x){e=this.from.x-o*r;i=this.from.y-o*r;e=this.to.x>e?this.to.x:e}}else if(this.from.y<this.to.y)if(this.from.x<=this.to.x){e=this.from.x+o*r;i=this.from.y+o*r;e=this.to.x<e?this.to.x:e}else if(this.from.x>this.to.x){e=this.from.x-o*r;i=this.from.y+o*r;e=this.to.x>e?this.to.x:e}}else if(Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y))if(this.from.y>=this.to.y){if(this.from.x<=this.to.x){e=this.from.x+o*s;i=this.from.y-o*s;i=this.to.y>i?this.to.y:i}else if(this.from.x>this.to.x){e=this.from.x-o*s;i=this.from.y-o*s;i=this.to.y>i?this.to.y:i}}else if(this.from.y<this.to.y)if(this.from.x<=this.to.x){e=this.from.x+o*s;i=this.from.y+o*s;i=this.to.y<i?this.to.y:i}else if(this.from.x>this.to.x){e=this.from.x-o*s;i=this.from.y+o*s;i=this.to.y<i?this.to.y:i}return{x:e,y:i}}},{key:"_findBorderPosition",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(e,i,o.via)}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,s,r){var a=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(e,i,o,n,s,r,a)}},{key:"getPoint",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],o=e,n=Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*i.x+Math.pow(o,2)*this.toPoint.x,s=Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*i.y+Math.pow(o,2)*this.toPoint.y;return{x:n,y:s}}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(89),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_line",value:function t(e){e.beginPath();e.moveTo(this.fromPoint.x,this.fromPoint.y);e.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(e);e.stroke();this.disableShadow(e)}},{key:"getViaNode",value:function t(){}},{key:"getPoint",value:function t(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function t(e,i){var o=this.to,n=this.from;if(e.id===this.from.id){o=this.from;n=this.to}var s=Math.atan2(o.y-n.y,o.x-n.x),r=o.x-n.x,a=o.y-n.y,h=Math.sqrt(r*r+a*a),d=e.distanceToBorder(i,s),l=(h-d)/h,u={};u.x=(1-l)*n.x+l*o.x;u.y=(1-l)*n.y+l*o.y;return u}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,s,r){return this._getDistanceToLine(e,i,o,n,s,r)}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(94),a=o(r),h=i(95),d=o(h),l=i(96),u=o(l),c=i(97),p=o(c),f=i(98),m=o(f),v=i(99),g=o(v),y=i(100),b=o(y),w=i(101),_=o(w),x=i(1),k=function(){function t(e){n(this,t);this.body=e;this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}};this.physicsEnabled=!0;this.simulationInterval=1e3/60;this.requiresTimeout=!0;this.previousStates={};this.referenceState={};this.freezeCache={};this.renderTimer=void 0;this.adaptiveTimestep=!1;this.adaptiveTimestepEnabled=!1;this.adaptiveCounter=0;this.adaptiveInterval=3;this.stabilized=!1;this.startedStabilization=!1;this.stabilizationIterations=0;this.ready=!1;this.options={};this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0};x.extend(this.options,this.defaultOptions);this.timestep=.5;this.layoutFailed=!1;this.bindEventListeners()}s(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()});this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0});this.body.emitter.on("resetPhysics",function(){e.stopSimulation();e.ready=!1});this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1;e.stopSimulation()});this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options);e.ready===!0&&e.startSimulation()});this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()});this.body.emitter.on("stopSimulation",function(){e.stopSimulation()});this.body.emitter.on("destroy",function(){e.stopSimulation(!1);e.body.emitter.off()});this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function t(e){if(void 0!==e)if(e===!1){this.options.enabled=!1;this.physicsEnabled=!1;this.stopSimulation()}else{this.physicsEnabled=!0;x.selectiveNotDeepExtend(["stabilization"],this.options,e);x.mergeOptions(this.options,e,"stabilization");void 0===e.enabled&&(this.options.enabled=!0);if(this.options.enabled===!1){this.physicsEnabled=!1;this.stopSimulation()}this.timestep=this.options.timestep}this.init()}},{key:"init",value:function t(){var e;if("forceAtlas2Based"===this.options.solver){e=this.options.forceAtlas2Based;this.nodesSolver=new b.default(this.body,this.physicsBody,e);this.edgesSolver=new p.default(this.body,this.physicsBody,e);this.gravitySolver=new _.default(this.body,this.physicsBody,e)}else if("repulsion"===this.options.solver){e=this.options.repulsion;this.nodesSolver=new d.default(this.body,this.physicsBody,e);this.edgesSolver=new p.default(this.body,this.physicsBody,e);this.gravitySolver=new g.default(this.body,this.physicsBody,e)}else if("hierarchicalRepulsion"===this.options.solver){e=this.options.hierarchicalRepulsion;this.nodesSolver=new u.default(this.body,this.physicsBody,e);this.edgesSolver=new m.default(this.body,this.physicsBody,e);this.gravitySolver=new g.default(this.body,this.physicsBody,e)}else{e=this.options.barnesHut;this.nodesSolver=new a.default(this.body,this.physicsBody,e);this.edgesSolver=new p.default(this.body,this.physicsBody,e);this.gravitySolver=new g.default(this.body,this.physicsBody,e)}this.modelOptions=e}},{key:"initPhysics",value:function t(){if(this.physicsEnabled===!0&&this.options.enabled===!0)if(this.options.stabilization.enabled===!0)this.stabilize();else{this.stabilized=!1;this.ready=!0;this.body.emitter.emit("fit",{},this.layoutFailed);this.startSimulation()}else{this.ready=!0;this.body.emitter.emit("fit")}}},{key:"startSimulation",value:function t(){if(this.physicsEnabled===!0&&this.options.enabled===!0){this.stabilized=!1;this.adaptiveTimestep=!1;this.body.emitter.emit("_resizeNodes");if(void 0===this.viewFunction){this.viewFunction=this.simulationStep.bind(this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function t(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.stabilized=!0;e===!0&&this._emitStabilized();if(void 0!==this.viewFunction){this.body.emitter.off("initRedraw",this.viewFunction);this.viewFunction=void 0;e===!0&&this.body.emitter.emit("_stopRendering")}}},{key:"simulationStep",value:function t(){var e=Date.now();this.physicsTick();var i=Date.now()-e;if((i<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1){this.physicsTick();this.runDoubleSpeed=!0}this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]?this.stabilizationIterations:arguments[0];(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){e.body.emitter.emit("stabilized",{iterations:i});e.startedStabilization=!1;e.stabilizationIterations=0},0)}},{key:"physicsTick",value:function t(){if(this.startedStabilization===!1){this.body.emitter.emit("startStabilizing");this.startedStabilization=!0}if(this.stabilized===!1){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=1.2;if(this.adaptiveCounter%this.adaptiveInterval===0){this.timestep=2*this.timestep;this.calculateForces();this.moveNodes();this.revert();this.timestep=.5*this.timestep;this.calculateForces();this.moveNodes();this.calculateForces();this.moveNodes();if(this._evaluateStepQuality()===!0)this.timestep=e*this.timestep;else if(this.timestep/e<this.options.timestep)this.timestep=this.options.timestep;else{this.adaptiveCounter=-1;this.timestep=Math.max(this.options.timestep,this.timestep/e)}}else{this.calculateForces();this.moveNodes()}this.adaptiveCounter+=1}else{this.timestep=this.options.timestep;this.calculateForces();this.moveNodes()}this.stabilized===!0&&this.revert();this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function t(){this.physicsBody.forces={};this.physicsBody.physicsNodeIndices=[];this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,i=this.body.edges;for(var o in e)e.hasOwnProperty(o)&&e[o].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[o].id);for(var n in i)i.hasOwnProperty(n)&&i[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(i[n].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var r=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[r]={x:0,y:0};void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function t(){var e=Object.keys(this.previousStates),i=this.body.nodes,o=this.physicsBody.velocities;this.referenceState={};for(var n=0;n<e.length;n++){var s=e[n];if(void 0!==i[s]){if(i[s].options.physics===!0){this.referenceState[s]={positions:{x:i[s].x,y:i[s].y}};o[s].x=this.previousStates[s].vx;o[s].y=this.previousStates[s].vy;i[s].x=this.previousStates[s].x;i[s].y=this.previousStates[s].y}}else delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function t(){var e=void 0,i=void 0,o=void 0,n=this.body.nodes,s=this.referenceState,r=.3;for(var a in this.referenceState)if(this.referenceState.hasOwnProperty(a)&&void 0!==n[a]){e=n[a].x-s[a].positions.x;i=n[a].y-s[a].positions.y;o=Math.sqrt(Math.pow(e,2)+Math.pow(i,2));if(o>r)return!1}return!0}},{key:"moveNodes",value:function t(){for(var e=this.physicsBody.physicsNodeIndices,i=this.options.maxVelocity?this.options.maxVelocity:1e9,o=0,n=0,s=5,r=0;r<e.length;r++){var a=e[r],h=this._performStep(a,i);o=Math.max(o,h);n+=h}this.adaptiveTimestepEnabled=n/e.length<s;this.stabilized=o<this.options.minVelocity}},{key:"_performStep",value:function t(e,i){var o=this.body.nodes[e],n=this.timestep,s=this.physicsBody.forces,r=this.physicsBody.velocities;this.previousStates[e]={x:o.x,y:o.y,vx:r[e].x,vy:r[e].y};if(o.options.fixed.x===!1){var a=this.modelOptions.damping*r[e].x,h=(s[e].x-a)/o.options.mass;r[e].x+=h*n;r[e].x=Math.abs(r[e].x)>i?r[e].x>0?i:-i:r[e].x;o.x+=r[e].x*n}else{s[e].x=0;r[e].x=0}if(o.options.fixed.y===!1){var d=this.modelOptions.damping*r[e].y,l=(s[e].y-d)/o.options.mass;r[e].y+=l*n;r[e].y=Math.abs(r[e].y)>i?r[e].y>0?i:-i:r[e].y;o.y+=r[e].y*n}else{s[e].y=0;r[e].y=0}var u=Math.sqrt(Math.pow(r[e].x,2)+Math.pow(r[e].y,2));return u}},{key:"calculateForces",value:function t(){this.gravitySolver.solve();this.nodesSolver.solve();this.edgesSolver.solve()}},{key:"_freezeNodes",value:function t(){var e=this.body.nodes;for(var i in e)if(e.hasOwnProperty(i)&&e[i].x&&e[i].y){this.freezeCache[i]={x:e[i].options.fixed.x,y:e[i].options.fixed.y};e[i].options.fixed.x=!0;e[i].options.fixed.y=!0}}},{key:"_restoreFrozenNodes",value:function t(){var e=this.body.nodes;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==this.freezeCache[i]){e[i].options.fixed.x=this.freezeCache[i].x;e[i].options.fixed.y=this.freezeCache[i].y}this.freezeCache={}}},{key:"stabilize",value:function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];if("number"!==typeof i){console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations);i=this.options.stabilization.iterations}if(0!==this.physicsBody.physicsNodeIndices.length){this.adaptiveTimestep=!0&&this.options.adaptiveTimestep;this.body.emitter.emit("_resizeNodes");this.stopSimulation();this.stabilized=!1;this.body.emitter.emit("_blockRedraw");this.targetIterations=i;this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes();this.stabilizationIterations=0;setTimeout(function(){return e._stabilizationBatch()},0)}else this.ready=!0}},{key:"_stabilizationBatch",value:function t(){if(this.startedStabilization===!1){this.body.emitter.emit("startStabilizing");this.startedStabilization=!0}for(var e=0;this.stabilized===!1&&e<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;){
this.physicsTick();e++}if(this.stabilized===!1&&this.stabilizationIterations<this.targetIterations){this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations});setTimeout(this._stabilizationBatch.bind(this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function t(){this.body.emitter.emit("_allowRedraw");this.options.stabilization.fit===!0&&this.body.emitter.emit("fit");this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes();this.body.emitter.emit("stabilizationIterationsDone");this.body.emitter.emit("_requestRedraw");this.stabilized===!0?this._emitStabilized():this.startSimulation();this.ready=!0}},{key:"_drawForces",value:function t(e){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var o=this.body.nodes[this.physicsBody.physicsNodeIndices[i]],n=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[i]],s=20,r=.03,a=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.x,2)),h=Math.min(Math.max(5,a),15),d=3*h,l=x.HSVToHex((180-180*Math.min(1,Math.max(0,r*a)))/360,1,1);e.lineWidth=h;e.strokeStyle=l;e.beginPath();e.moveTo(o.x,o.y);e.lineTo(o.x+s*n.x,o.y+s*n.y);e.stroke();var u=Math.atan2(n.y,n.x);e.fillStyle=l;e.arrow(o.x+s*n.x+Math.cos(u)*d,o.y+s*n.y+Math.sin(u)*d,u,d);e.fill()}}}]);return t}();e.default=k},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=e;this.physicsBody=o;this.barnesHutTree;this.setOptions(n);this.randomSeed=5}o(t,[{key:"setOptions",value:function t(e){this.options=e;this.thetaInversed=1/this.options.theta;this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function t(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"solve",value:function t(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e=void 0,i=this.body.nodes,o=this.physicsBody.physicsNodeIndices,n=o.length,s=this._formBarnesHutTree(i,o);this.barnesHutTree=s;for(var r=0;r<n;r++){e=i[o[r]];if(e.options.mass>0){this._getForceContribution(s.root.children.NW,e);this._getForceContribution(s.root.children.NE,e);this._getForceContribution(s.root.children.SW,e);this._getForceContribution(s.root.children.SE,e)}}}}},{key:"_getForceContribution",value:function t(e,i){if(e.childrenCount>0){var o=void 0,n=void 0,s=void 0;o=e.centerOfMass.x-i.x;n=e.centerOfMass.y-i.y;s=Math.sqrt(o*o+n*n);if(s*e.calcSize>this.thetaInversed)this._calculateForces(s,o,n,i,e);else if(4===e.childrenCount){this._getForceContribution(e.children.NW,i);this._getForceContribution(e.children.NE,i);this._getForceContribution(e.children.SW,i);this._getForceContribution(e.children.SE,i)}else e.children.data.id!=i.id&&this._calculateForces(s,o,n,i,e)}}},{key:"_calculateForces",value:function t(e,i,o,n,s){if(0===e){e=.1;i=e}this.overlapAvoidanceFactor<1&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var r=this.options.gravitationalConstant*s.mass*n.options.mass/Math.pow(e,3),a=i*r,h=o*r;this.physicsBody.forces[n.id].x+=a;this.physicsBody.forces[n.id].y+=h}},{key:"_formBarnesHutTree",value:function t(e,i){for(var o=void 0,n=i.length,s=e[i[0]].x,r=e[i[0]].y,a=e[i[0]].x,h=e[i[0]].y,d=1;d<n;d++){var l=e[i[d]].x,u=e[i[d]].y;if(e[i[d]].options.mass>0){l<s&&(s=l);l>a&&(a=l);u<r&&(r=u);u>h&&(h=u)}}var c=Math.abs(a-s)-Math.abs(h-r);if(c>0){r-=.5*c;h+=.5*c}else{s+=.5*c;a-=.5*c}var p=1e-5,f=Math.max(p,Math.abs(a-s)),m=.5*f,v=.5*(s+a),g=.5*(r+h),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-m,maxX:v+m,minY:g-m,maxY:g+m},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var b=0;b<n;b++){o=e[i[b]];o.options.mass>0&&this._placeInTree(y.root,o)}return y}},{key:"_updateBranchMass",value:function t(e,i){var o=e.mass+i.options.mass,n=1/o;e.centerOfMass.x=e.centerOfMass.x*e.mass+i.x*i.options.mass;e.centerOfMass.x*=n;e.centerOfMass.y=e.centerOfMass.y*e.mass+i.y*i.options.mass;e.centerOfMass.y*=n;e.mass=o;var s=Math.max(Math.max(i.height,i.radius),i.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function t(e,i,o){1==o&&void 0!==o||this._updateBranchMass(e,i);e.children.NW.range.maxX>i.x?e.children.NW.range.maxY>i.y?this._placeInRegion(e,i,"NW"):this._placeInRegion(e,i,"SW"):e.children.NW.range.maxY>i.y?this._placeInRegion(e,i,"NE"):this._placeInRegion(e,i,"SE")}},{key:"_placeInRegion",value:function t(e,i,o){switch(e.children[o].childrenCount){case 0:e.children[o].children.data=i;e.children[o].childrenCount=1;this._updateBranchMass(e.children[o],i);break;case 1:if(e.children[o].children.data.x===i.x&&e.children[o].children.data.y===i.y){i.x+=this.seededRandom();i.y+=this.seededRandom()}else{this._splitBranch(e.children[o]);this._placeInTree(e.children[o],i)}break;case 4:this._placeInTree(e.children[o],i)}}},{key:"_splitBranch",value:function t(e){var i=null;if(1===e.childrenCount){i=e.children.data;e.mass=0;e.centerOfMass.x=0;e.centerOfMass.y=0}e.childrenCount=4;e.children.data=null;this._insertRegion(e,"NW");this._insertRegion(e,"NE");this._insertRegion(e,"SW");this._insertRegion(e,"SE");null!=i&&this._placeInTree(e,i)}},{key:"_insertRegion",value:function t(e,i){var o=void 0,n=void 0,s=void 0,r=void 0,a=.5*e.size;switch(i){case"NW":o=e.range.minX;n=e.range.minX+a;s=e.range.minY;r=e.range.minY+a;break;case"NE":o=e.range.minX+a;n=e.range.maxX;s=e.range.minY;r=e.range.minY+a;break;case"SW":o=e.range.minX;n=e.range.minX+a;s=e.range.minY+a;r=e.range.maxY;break;case"SE":o=e.range.minX+a;n=e.range.maxX;s=e.range.minY+a;r=e.range.maxY}e.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:o,maxX:n,minY:s,maxY:r},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function t(e,i){if(void 0!==this.barnesHutTree){e.lineWidth=1;this._drawBranch(this.barnesHutTree.root,e,i)}}},{key:"_drawBranch",value:function t(e,i,o){void 0===o&&(o="#FF0000");if(4===e.childrenCount){this._drawBranch(e.children.NW,i);this._drawBranch(e.children.NE,i);this._drawBranch(e.children.SE,i);this._drawBranch(e.children.SW,i)}i.strokeStyle=o;i.beginPath();i.moveTo(e.range.minX,e.range.minY);i.lineTo(e.range.maxX,e.range.minY);i.stroke();i.beginPath();i.moveTo(e.range.maxX,e.range.minY);i.lineTo(e.range.maxX,e.range.maxY);i.stroke();i.beginPath();i.moveTo(e.range.maxX,e.range.maxY);i.lineTo(e.range.minX,e.range.maxY);i.stroke();i.beginPath();i.moveTo(e.range.minX,e.range.maxY);i.lineTo(e.range.minX,e.range.minY);i.stroke()}}]);return t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=e;this.physicsBody=o;this.setOptions(n)}o(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){for(var e,i,o,n,s,r,a,h,d=this.body.nodes,l=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,c=this.options.nodeDistance,p=-2/3/c,f=4/3,m=0;m<l.length-1;m++){a=d[l[m]];for(var v=m+1;v<l.length;v++){h=d[l[v]];e=h.x-a.x;i=h.y-a.y;o=Math.sqrt(e*e+i*i);if(0===o){o=.1*Math.random();e=o}if(o<2*c){r=o<.5*c?1:p*o+f;r/=o;n=e*r;s=i*r;u[a.id].x-=n;u[a.id].y-=s;u[h.id].x+=n;u[h.id].y+=s}}}}}]);return t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=e;this.physicsBody=o;this.setOptions(n)}o(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){var e,i,o,n,s,r,a,h,d,l,u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,f=this.options.nodeDistance;for(d=0;d<c.length-1;d++){a=u[c[d]];for(l=d+1;l<c.length;l++){h=u[c[l]];if(a.level===h.level){e=h.x-a.x;i=h.y-a.y;o=Math.sqrt(e*e+i*i);var m=.05;r=o<f?-Math.pow(m*o,2)+Math.pow(m*f,2):0;0===o?o=.01:r/=o;n=e*r;s=i*r;p[a.id].x-=n;p[a.id].y-=s;p[h.id].x+=n;p[h.id].y+=s}}}}}]);return t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=e;this.physicsBody=o;this.setOptions(n)}o(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){for(var e=void 0,i=void 0,o=this.physicsBody.physicsEdgeIndices,n=this.body.edges,s=void 0,r=void 0,a=void 0,h=0;h<o.length;h++){i=n[o[h]];if(i.connected===!0&&i.toId!==i.fromId&&void 0!==this.body.nodes[i.toId]&&void 0!==this.body.nodes[i.fromId])if(void 0!==i.edgeType.via){e=void 0===i.options.length?this.options.springLength:i.options.length;s=i.to;r=i.edgeType.via;a=i.from;this._calculateSpringForce(s,r,.5*e);this._calculateSpringForce(r,a,.5*e)}else{e=void 0===i.options.length?1.5*this.options.springLength:i.options.length;this._calculateSpringForce(i.from,i.to,e)}}}},{key:"_calculateSpringForce",value:function t(e,i,o){var n=e.x-i.x,s=e.y-i.y,r=Math.max(Math.sqrt(n*n+s*s),.01),a=this.options.springConstant*(o-r)/r,h=n*a,d=s*a;if(void 0!==this.physicsBody.forces[e.id]){this.physicsBody.forces[e.id].x+=h;this.physicsBody.forces[e.id].y+=d}if(void 0!==this.physicsBody.forces[i.id]){this.physicsBody.forces[i.id].x-=h;this.physicsBody.forces[i.id].y-=d}}}]);return t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=e;this.physicsBody=o;this.setOptions(n)}o(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){for(var e,i,o,n,s,r,a,h,d=this.body.edges,l=.5,u=this.physicsBody.physicsEdgeIndices,c=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,f=0;f<c.length;f++){var m=c[f];p[m].springFx=0;p[m].springFy=0}for(var v=0;v<u.length;v++){i=d[u[v]];if(i.connected===!0){e=void 0===i.options.length?this.options.springLength:i.options.length;o=i.from.x-i.to.x;n=i.from.y-i.to.y;h=Math.sqrt(o*o+n*n);h=0===h?.01:h;a=this.options.springConstant*(e-h)/h;s=o*a;r=n*a;if(i.to.level!=i.from.level){if(void 0!==p[i.toId]){p[i.toId].springFx-=s;p[i.toId].springFy-=r}if(void 0!==p[i.fromId]){p[i.fromId].springFx+=s;p[i.fromId].springFy+=r}}else{if(void 0!==p[i.toId]){p[i.toId].x-=l*s;p[i.toId].y-=l*r}if(void 0!==p[i.fromId]){p[i.fromId].x+=l*s;p[i.fromId].y+=l*r}}}}for(var a=1,g,y,b=0;b<c.length;b++){var w=c[b];g=Math.min(a,Math.max(-a,p[w].springFx));y=Math.min(a,Math.max(-a,p[w].springFy));p[w].x+=g;p[w].y+=y}for(var _=0,x=0,k=0;k<c.length;k++){var O=c[k];_+=p[O].x;x+=p[O].y}for(var M=_/c.length,S=x/c.length,D=0;D<c.length;D++){var C=c[D];p[C].x-=M;p[C].y-=S}}}]);return t}();e.default=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e,o,n){i(this,t);this.body=e;this.physicsBody=o;this.setOptions(n)}o(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){for(var e=void 0,i=void 0,o=void 0,n=void 0,s=this.body.nodes,r=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,h=0;h<r.length;h++){var d=r[h];n=s[d];e=-n.x;i=-n.y;o=Math.sqrt(e*e+i*i);this._calculateForces(o,e,i,a,n)}}},{key:"_calculateForces",value:function t(e,i,o,n,s){var r=0===e?0:this.options.centralGravity/e;n[s.id].x=i*r;n[s.id].y=o*r}}]);return t}();e.default=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(94),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_calculateForces",value:function t(e,i,o,n,s){if(0===e){e=.1*Math.random();i=e}this.overlapAvoidanceFactor<1&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var r=n.edges.length+1,a=this.options.gravitationalConstant*s.mass*n.options.mass*r/Math.pow(e,2),h=i*a,d=o*a;this.physicsBody.forces[n.id].x+=h;this.physicsBody.forces[n.id].y+=d}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(99),d=o(h),l=function(t){function e(t,i,o){n(this,e);return s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o))}r(e,t);a(e,[{key:"_calculateForces",value:function t(e,i,o,n,s){if(e>0){var r=s.edges.length+1,a=this.options.centralGravity*r*s.options.mass;n[s.id].x=i*a;n[s.id].y=o*a}}}]);return e}(d.default);e.default=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),a=i(103),h=o(a),d=i(104),l=o(d),u=i(1),c=function(){function t(e){var i=this;n(this,t);this.body=e;this.clusteredNodes={};this.clusteredEdges={};this.options={};this.defaultOptions={};u.extend(this.options,this.defaultOptions);this.body.emitter.on("_resetData",function(){i.clusteredNodes={};i.clusteredEdges={}})}r(t,[{key:"setOptions",value:function t(e){}},{key:"clusterByHubsize",value:function t(e,i){if(void 0===e)e=this._getHubSize();else if("object"===("undefined"===typeof e?"undefined":s(e))){i=this._checkOptions(e);e=this._getHubSize()}for(var o=[],n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=e&&o.push(r.id)}for(var a=0;a<o.length;a++)this.clusterByConnection(o[a],i,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments.length<=1||void 0===arguments[1]||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);for(var o={},n={},s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodeIndices[s],a=this.body.nodes[r],d=h.default.cloneOptions(a);if(e.joinCondition(d)===!0){o[r]=this.body.nodes[r];for(var l=0;l<a.edges.length;l++){var u=a.edges[l];void 0===this.clusteredEdges[u.id]&&(n[u.id]=u)}}}this._cluster(o,n,e,i)}},{key:"clusterByEdgeCount",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]||arguments[2];i=this._checkOptions(i);for(var n=[],s={},r=void 0,a=void 0,d=void 0,l=void 0,u=void 0,c=0;c<this.body.nodeIndices.length;c++){var p={},f={};l=this.body.nodeIndices[c];if(void 0===s[l]){u=0;d=this.body.nodes[l];a=[];for(var m=0;m<d.edges.length;m++){r=d.edges[m];if(void 0===this.clusteredEdges[r.id]){r.toId!==r.fromId&&u++;a.push(r)}}if(u===e){for(var v=!0,g=0;g<a.length;g++){r=a[g];var y=this._getConnectedId(r,l);if(void 0===i.joinCondition){f[r.id]=r;p[l]=this.body.nodes[l];p[y]=this.body.nodes[y];s[l]=!0}else{var b=h.default.cloneOptions(this.body.nodes[l]);if(i.joinCondition(b)!==!0){v=!1;break}f[r.id]=r;p[l]=this.body.nodes[l];s[l]=!0}}Object.keys(p).length>0&&Object.keys(f).length>0&&v===!0&&n.push({nodes:p,edges:f})}}}for(var w=0;w<n.length;w++)this._cluster(n[w].nodes,n[w].edges,i,!1);o===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(1,e,i)}},{key:"clusterBridges",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];this.clusterByEdgeCount(2,e,i)}},{key:"clusterByConnection",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[e];i=this._checkOptions(i,n);void 0===i.clusterNodeProperties.x&&(i.clusterNodeProperties.x=n.x);void 0===i.clusterNodeProperties.y&&(i.clusterNodeProperties.y=n.y);if(void 0===i.clusterNodeProperties.fixed){i.clusterNodeProperties.fixed={};i.clusterNodeProperties.fixed.x=n.options.fixed.x;i.clusterNodeProperties.fixed.y=n.options.fixed.y}var s={},r={},a=n.id,d=h.default.cloneOptions(n);s[a]=n;for(var l=0;l<n.edges.length;l++){var u=n.edges[l];if(void 0===this.clusteredEdges[u.id]){var c=this._getConnectedId(u,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===i.joinCondition){r[u.id]=u;s[c]=this.body.nodes[c]}else{var p=h.default.cloneOptions(this.body.nodes[c]);if(i.joinCondition(d,p)===!0){r[u.id]=u;s[c]=this.body.nodes[c]}}else r[u.id]=u}}this._cluster(s,r,i,o)}},{key:"_createClusterEdges",value:function t(e,i,o,n){for(var s=void 0,r=void 0,a=void 0,d=void 0,l=void 0,c=void 0,p=Object.keys(e),f=[],m=0;m<p.length;m++){r=p[m];a=e[r];for(var v=0;v<a.edges.length;v++){s=a.edges[v];if(void 0===this.clusteredEdges[s.id]){if(s.toId==s.fromId)i[s.id]=s;else if(s.toId==r){d=o.id;l=s.fromId;c=l}else{d=s.toId;l=o.id;c=d}void 0===e[c]&&f.push({edge:s,fromId:l,toId:d})}}}for(var g=0;g<f.length;g++){var y=f[g].edge,b=h.default.cloneOptions(y,"edge");u.deepExtend(b,n);b.from=f[g].fromId;b.to=f[g].toId;b.id="clusterEdge:"+u.randomUUID();var w=this.body.functions.createEdge(b);w.clusteringEdgeReplacingId=y.id;this.body.edges[w.id]=w;w.connect();this._backupEdgeOptions(y);y.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={});void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={});return e}},{key:"_cluster",value:function t(e,i,o){var n=arguments.length<=3||void 0===arguments[3]||arguments[3];if(!(Object.keys(e).length<2)){for(var s in e)if(e.hasOwnProperty(s)&&void 0!==this.clusteredNodes[s])return;var r=u.deepExtend({},o.clusterNodeProperties);if(void 0!==o.processProperties){var a=[];for(var d in e)if(e.hasOwnProperty(d)){var c=h.default.cloneOptions(e[d]);a.push(c)}var p=[];for(var f in i)if(i.hasOwnProperty(f)&&"clusterEdge:"!==f.substr(0,12)){var m=h.default.cloneOptions(i[f],"edge");p.push(m)}r=o.processProperties(r,a,p);if(!r)throw new Error("The processProperties function does not return properties!")}void 0===r.id&&(r.id="cluster:"+u.randomUUID());var v=r.id;void 0===r.label&&(r.label="cluster");var g=void 0;if(void 0===r.x){g=this._getClusterPosition(e);r.x=g.x}if(void 0===r.y){void 0===g&&(g=this._getClusterPosition(e));r.y=g.y}r.id=v;var y=this.body.functions.createNode(r,l.default);y.isCluster=!0;y.containedNodes=e;y.containedEdges=i;y.clusterEdgeProperties=o.clusterEdgeProperties;this.body.nodes[r.id]=y;this._createClusterEdges(e,i,r,o.clusterEdgeProperties);for(var b in i)if(i.hasOwnProperty(b)&&void 0!==this.body.edges[b]){var w=this.body.edges[b];this._backupEdgeOptions(w);w.setOptions({physics:!1,hidden:!0})}for(var _ in e)if(e.hasOwnProperty(_)){this.clusteredNodes[_]={clusterId:r.id,node:this.body.nodes[_]};this.body.nodes[_].setOptions({hidden:!0,physics:!1})}r.id=void 0;n===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function t(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics,hidden:e.options.hidden})}},{key:"_restoreEdge",value:function t(e){var i=this.clusteredEdges[e.id];if(void 0!==i){e.setOptions({physics:i.physics,hidden:i.hidden});delete this.clusteredEdges[e.id]}}},{key:"isCluster",value:function t(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].isCluster===!0;console.log("Node does not exist.");return!1}},{key:"_getClusterPosition",value:function t(e){for(var i=Object.keys(e),o=e[i[0]].x,n=e[i[0]].x,s=e[i[0]].y,r=e[i[0]].y,a=void 0,h=1;h<i.length;h++){a=e[i[h]];o=a.x<o?a.x:o;n=a.x>n?a.x:n;s=a.y<s?a.y:s;r=a.y>r?a.y:r}return{x:.5*(o+n),y:.5*(s+r)}}},{key:"openCluster",value:function t(e,i){var o=arguments.length<=2||void 0===arguments[2]||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[e])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0!==this.body.nodes[e].containedNodes){var n=this.body.nodes[e],s=n.containedNodes,r=n.containedEdges;if(void 0!==i&&void 0!==i.releaseFunction&&"function"===typeof i.releaseFunction){var a={},d={x:n.x,y:n.y};for(var l in s)if(s.hasOwnProperty(l)){var c=this.body.nodes[l];a[l]={x:c.x,y:c.y}}var p=i.releaseFunction(d,a);for(var f in s)if(s.hasOwnProperty(f)){var m=this.body.nodes[f];if(void 0!==p[f]){m.x=void 0===p[f].x?n.x:p[f].x;m.y=void 0===p[f].y?n.y:p[f].y}}}else for(var v in s)if(s.hasOwnProperty(v)){var g=this.body.nodes[v];g=s[v];g.options.fixed.x===!1&&(g.x=n.x);g.options.fixed.y===!1&&(g.y=n.y)}for(var y in s)if(s.hasOwnProperty(y)){var b=this.body.nodes[y];b.vx=n.vx;b.vy=n.vy;b.setOptions({hidden:!1,physics:!0});delete this.clusteredNodes[y]}for(var w=[],_=0;_<n.edges.length;_++)w.push(n.edges[_]);for(var x=0;x<w.length;x++){var k=w[x],O=this._getConnectedId(k,e);if(void 0!==this.clusteredNodes[O]){var M=this.body.nodes[this.clusteredNodes[O].clusterId],S=this.body.edges[k.clusteringEdgeReplacingId];if(void 0!==S){M.containedEdges[S.id]=S;delete r[S.id];var D=S.fromId,C=S.toId;S.toId==O?C=this.clusteredNodes[O].clusterId:D=this.clusteredNodes[O].clusterId;var T=h.default.cloneOptions(S,"edge");u.deepExtend(T,M.clusterEdgeProperties);var E="clusterEdge:"+u.randomUUID();u.deepExtend(T,{from:D,to:C,hidden:!1,physics:!0,id:E});var P=this.body.functions.createEdge(T);P.clusteringEdgeReplacingId=S.id;this.body.edges[E]=P;this.body.edges[E].connect()}}else{var I=this.body.edges[k.clusteringEdgeReplacingId];void 0!==I&&this._restoreEdge(I)}k.cleanup();k.disconnect();delete this.body.edges[k.id]}for(var N in r)r.hasOwnProperty(N)&&this._restoreEdge(r[N]);delete this.body.nodes[e];o===!0&&this.body.emitter.emit("_dataChanged")}else console.log("The node:"+e+" is not a cluster.")}},{key:"getNodesInCluster",value:function t(e){var i=[];if(this.isCluster(e)===!0){var o=this.body.nodes[e].containedNodes;for(var n in o)o.hasOwnProperty(n)&&i.push(this.body.nodes[n].id)}return i}},{key:"findNode",value:function t(e){for(var i=[],o=100,n=0;void 0!==this.clusteredNodes[e]&&n<o;){i.push(this.body.nodes[e].id);e=this.clusteredNodes[e].clusterId;n++}i.push(this.body.nodes[e].id);i.reverse();return i}},{key:"_getConnectedId",value:function t(e,i){return e.toId!=i?e.toId:e.fromId!=i?e.fromId:e.fromId}},{key:"_getHubSize",value:function t(){for(var e=0,i=0,o=0,n=0,s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodes[this.body.nodeIndices[s]];r.edges.length>n&&(n=r.edges.length);e+=r.edges.length;i+=Math.pow(r.edges.length,2);o+=1}e/=o;i/=o;var a=i-Math.pow(e,2),h=Math.sqrt(a),d=Math.floor(e+2*h);d>n&&(d=n);return d}}]);return t}();e.default=c},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),s=i(1),r=function(){function t(){o(this,t)}n(t,null,[{key:"getRange",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9,a;if(i.length>0)for(var h=0;h<i.length;h++){a=e[i[h]];s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left);r<a.shape.boundingBox.right&&(r=a.shape.boundingBox.right);o>a.shape.boundingBox.top&&(o=a.shape.boundingBox.top);n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom)}1e9===s&&r===-1e9&&1e9===o&&n===-1e9&&(o=0,n=0,s=0,r=0);return{minX:s,maxX:r,minY:o,maxY:n}}},{key:"getRangeCore",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9,a;if(i.length>0)for(var h=0;h<i.length;h++){a=e[i[h]];s>a.x&&(s=a.x);r<a.x&&(r=a.x);o>a.y&&(o=a.y);n<a.y&&(n=a.y)}1e9===s&&r===-1e9&&1e9===o&&n===-1e9&&(o=0,n=0,s=0,r=0);return{minX:s,maxX:r,minY:o,maxY:n}}},{key:"findCenter",value:function t(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function t(e,i){var o={};if(void 0===i||"node"===i){s.deepExtend(o,e.options,!0);o.x=e.x;o.y=e.y;o.amountOfConnections=e.edges.length}else s.deepExtend(o,e.options,!0);return o}}]);return t}();e.default=r},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(65),h=o(a),d=function(t){function e(t,i,o,r,a){n(this,e);var h=s(this,Object.getPrototypeOfByYS(e).call(this,t,i,o,r,a));h.isCluster=!0;h.containedNodes={};h.containedEdges={};return h}r(e,t);return e}(h.default);e.default=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}();"undefined"!==typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=i(1),r=function(){function t(e,i){o(this,t);this.body=e;this.canvas=i;this.redrawRequested=!1;this.renderTimer=void 0;this.requiresTimeout=!0;this.renderingActive=!1;this.renderRequests=0;this.pixelRatio=void 0;this.allowRedraw=!0;this.dragging=!1;this.options={};this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1};s.extend(this.options,this.defaultOptions);this._determineBrowserMethod();this.bindEventListeners()}n(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0});this.body.emitter.on("dragEnd",function(){return e.dragging=!1});this.body.emitter.on("_resizeNodes",function(){return e._resizeNodes()});this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()});this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1});this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0;e.redrawRequested=!1});this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this));this.body.emitter.on("_startRendering",function(){e.renderRequests+=1;e.renderingActive=!0;e._startRendering()});this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1;e.renderingActive=e.renderRequests>0;e.renderTimer=void 0});this.body.emitter.on("destroy",function(){e.renderRequests=0;e.allowRedraw=!1;e.renderingActive=!1;e.requiresTimeout===!0?clearTimeout(e.renderTimer):cancelAnimationFrame(e.renderTimer);e.body.emitter.off()})}},{key:"setOptions",value:function t(e){if(void 0!==e){var i=["hideEdgesOnDrag","hideNodesOnDrag"];s.selectiveDeepExtend(i,this.options,e)}}},{key:"_startRendering",value:function t(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function t(){if(this.renderingActive===!0){this.renderTimer=void 0;this.requiresTimeout===!0&&this._startRendering();this._redraw();this.requiresTimeout===!1&&this._startRendering()}}},{key:"redraw",value:function t(){this.body.emitter.emit("setSize");this._redraw()}},{key:"_requestRedraw",value:function t(){var e=this;if(this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0){
this.redrawRequested=!0;this.requiresTimeout===!0?window.setTimeout(function(){e._redraw(!1)},0):window.requestAnimationFrame(function(){e._redraw(!1)})}}},{key:"_redraw",value:function t(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw");this.redrawRequested=!1;var i=this.canvas.frame.canvas.getContext("2d");0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize();this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1);i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;i.clearRect(0,0,o,n);var s={},r={};r.h=n/2>84+10?84:n/2-10;r.w=o/2>300+10?300:o/2-10;s.x=o/2-r.w/2>0?o/2-r.w/2:0;s.y=n/2-r.h/2>0?n/2-r.h/2:0;if(window.waterMarkImage)i.drawImage(window.waterMarkImage,s.x,s.y,r.w,r.h);else{window.waterMarkImage=new Image;window.waterMarkImage.src="/resources/images/water_mark.png";window.waterMarkImage.onload=function(){i.drawImage(window.waterMarkImage,s.x,s.y,r.w,r.h)}}if(0===this.canvas.frame.clientWidth)return;i.save();i.translate(this.body.view.translation.x,this.body.view.translation.y);i.scale(this.body.view.scale,this.body.view.scale);i.beginPath();this.body.emitter.emit("beforeDrawing",i);i.closePath();e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(i);(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(i,e);i.beginPath();this.body.emitter.emit("afterDrawing",i);i.closePath();i.restore();e===!0&&i.clearRect(0,0,o,n)}}},{key:"_resizeNodes",value:function t(){var e=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1));e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);e.save();e.translate(this.body.view.translation.x,this.body.view.translation.y);e.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes,o=void 0;for(var n in i)if(i.hasOwnProperty(n)){o=i[n];o.resize(e);o.updateBoundingBox(e,o.selected)}e.restore()}},{key:"_drawNodes",value:function t(e){for(var i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=this.body.nodes,n=this.body.nodeIndices,s=void 0,r=[],a=20,h=this.canvas.DOMtoCanvas({x:-a,y:-a}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),l={top:h.y,left:h.x,bottom:d.y,right:d.x},u=0;u<n.length;u++){s=o[n[u]];s.isSelected()?r.push(n[u]):i===!0?s.draw(e):s.isBoundingBoxOverlappingWith(l)===!0?s.draw(e):s.updateBoundingBox(e,s.selected)}for(var c=0;c<r.length;c++){s=o[r[c]];s.draw(e)}}},{key:"_drawEdges",value:function t(e){for(var i=this.body.edges,o=this.body.edgeIndices,n=void 0,s=function(t){return t*t},r=void 0,a=void 0,h={},d,l,u=0;u<o.length;u++){var c=0,p=!1;n=i[o[u]];r=n.from.id<=n.to.id?n.from.id+"_"+n.to.id:n.to.id+"_"+n.from.id;a=null==h[r]&&null==h[n.from.id+"_"+n.to.id]?1:h[r]+1;h[r]=a;n.from.id>n.to.id&&(p=!0);1==a?c=0:2==a?c=12:3==a?c=-12:4==a?c=24:5==a&&(c=-24);p&&(c=-c);d=n.to.x-n.from.x;l=n.to.y-n.from.y;var f=Math.sqrt(s(d)+s(l)),m={},v={};if(0!=c||!0){var g=0,y=0;Math.abs(c)>=n.from.options.size&&(c=n.from.options.size);g=Math.asin(c/n.from.options.size);Math.abs(c)>=n.to.options.size&&(c=n.to.options.size);y=Math.asin(c/n.to.options.size);var b={};b.x=n.from.x;b.y=n.from.y;var w={};w.x=n.to.x;w.y=n.to.y;var _={};_.s={};_.t={};_.s.x=n.from.options.size/f*(Math.cos(g)*(w.x-b.x)-Math.sin(g)*(w.y-b.y))+b.x;_.s.y=n.from.options.size/f*(Math.sin(g)*(w.x-b.x)+Math.cos(g)*(w.y-b.y))+b.y;_.t.x=n.to.options.size/f*(Math.cos(-y)*(b.x-w.x)-Math.sin(-y)*(b.y-w.y))+w.x;_.t.y=n.to.options.size/f*(Math.sin(-y)*(b.x-w.x)+Math.cos(-y)*(b.y-w.y))+w.y;m.x=_.t.x;m.y=_.t.y;v.x=_.s.x;v.y=_.s.y}n.sourcePosition=v;n.targetPosition=m;n.connected===!0&&n.drawMultiLines(e)}}},{key:"_determineBrowserMethod",value:function t(){if("undefined"!==typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1;e.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:e.indexOf("safari")!=-1&&e.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]);return t}();e.default=r},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),s=i(20),r=i(28),a=i(1),h=function(){function t(e){o(this,t);this.body=e;this.pixelRatio=1;this.resizeTimer=void 0;this.resizeFunction=this._onResize.bind(this);this.cameraState={};this.initialized=!1;this.options={};this.defaultOptions={autoResize:!0,height:"100%",width:"100%"};a.extend(this.options,this.defaultOptions);this.bindEventListeners()}n(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width);0!==t.height&&(e.body.view.translation.y=.5*t.height)});this.body.emitter.on("setSize",this.setSize.bind(this));this.body.emitter.on("destroy",function(){e.hammerFrame.destroy();e.hammer.destroy();e._cleanUp()})}},{key:"setOptions",value:function t(e){var i=this;if(void 0!==e){var o=["width","height","autoResize"];a.selectiveDeepExtend(o,this.options,e)}if(this.options.autoResize===!0){this._cleanUp();this.resizeTimer=setInterval(function(){var t=i.setSize();t===!0&&i.body.emitter.emit("_requestRedraw")},1e3);this.resizeFunction=this._onResize.bind(this);a.addEventListener(window,"resize",this.resizeFunction)}}},{key:"_cleanUp",value:function t(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer);a.removeEventListener(window,"resize",this.resizeFunction);this.resizeFunction=void 0}},{key:"_onResize",value:function t(){this.setSize();this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?this.pixelRatio:arguments[0];if(this.initialized===!0){this.cameraState.previousWidth=this.frame.canvas.width/e;this.cameraState.previousHeight=this.frame.canvas.height/e;this.cameraState.scale=this.body.view.scale;this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e})}}},{key:"_setCameraState",value:function t(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,o=this.cameraState.scale;1!=e&&1!=i?o=.5*this.cameraState.scale*(e+i):1!=e?o=this.cameraState.scale*e:1!=i&&(o=this.cameraState.scale*i);return;this.body.view.scale=o;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale;this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function t(e){if("number"===typeof e)return e+"px";if("string"===typeof e){if(e.indexOf("%")!==-1||e.indexOf("px")!==-1)return e;if(e.indexOf("%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function t(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);this.frame=document.createElement("div");this.frame.className="vis-network";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.tabIndex=900;this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(this.frame.canvas.getContext){var e=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var i=document.createElement("DIV");i.style.color="red";i.style.fontWeight="bold";i.style.padding="10px";i.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(i)}this.body.container.appendChild(this.frame);this.body.view.scale=1;this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight};this._bindHammer()}},{key:"_bindHammer",value:function t(){var e=this;void 0!==this.hammer&&this.hammer.destroy();this.drag={};this.pinch={};this.hammer=new s(this.frame.canvas);this.hammer.get("pinch").set({enable:!0});this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL});r.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)});this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)});this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)});this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)});this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)});this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)});this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)});this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)});this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)});this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)});this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)});this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)});this.hammerFrame=new s(this.frame);r.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?this.options.width:arguments[0],i=arguments.length<=1||void 0===arguments[1]?this.options.height:arguments[1];e=this._prepareValue(e);i=this._prepareValue(i);var o=!1,n=this.frame.canvas.width,s=this.frame.canvas.height,r=this.frame.canvas.getContext("2d"),a=this.pixelRatio;this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1);if(e!=this.options.width||i!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=i){this._getCameraState(a);this.frame.style.width=e;this.frame.style.height=i;this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.options.width=e;this.options.height=i;o=!0}else{this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(a);if(this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)){this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);o=!0}if(this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)){this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);o=!0}}if(o===!0){this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)});this._setCameraState()}this.initialized=!0;return o}},{key:"_XconvertDOMtoCanvas",value:function t(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function t(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function t(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function t(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function t(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function t(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]);return t}();e.default=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(103),a=o(r),h=i(1),d=function(){function t(e,i){var o=this;n(this,t);this.body=e;this.canvas=i;this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.easingTime=0;this.sourceScale=0;this.targetScale=0;this.sourceTranslation=0;this.targetTranslation=0;this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0;this.touchTime=0;this.viewFunction=void 0;this.body.emitter.on("fit",this.fit.bind(this));this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")});this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}s(t,[{key:"setOptions",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}},{key:"fit",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?{nodes:[]}:arguments[0],i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=void 0,n=void 0;void 0!==e.nodes&&0!==e.nodes.length||(e.nodes=this.body.nodeIndices);if(i===!0){var s=0;for(var r in this.body.nodes)if(this.body.nodes.hasOwnProperty(r)){var h=this.body.nodes[r];h.predefinedPosition===!0&&(s+=1)}if(s>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=a.default.getRange(this.body.nodes,e.nodes);var d=this.body.nodeIndices.length;n=12.662/(d+7.4147)+.0964822;var l=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);n*=l}else{this.body.emitter.emit("_resizeNodes");o=a.default.getRange(this.body.nodes,e.nodes);var u=1.1*Math.abs(o.maxX-o.minX),c=1.1*Math.abs(o.maxY-o.minY),p=this.canvas.frame.canvas.clientWidth/u,f=this.canvas.frame.canvas.clientHeight/c;n=p<=f?p:f}n>1?n=1:0===n&&(n=1);var m=a.default.findCenter(o),v={position:m,scale:n,animation:e.animation};this.moveTo(v)}},{key:"focus",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[e]){var o={x:this.body.nodes[e].x,y:this.body.nodes[e].y};i.position=o;i.lockedOnNode=e;this.moveTo(i)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function t(e){if(void 0!==e){void 0===e.offset&&(e.offset={x:0,y:0});void 0===e.offset.x&&(e.offset.x=0);void 0===e.offset.y&&(e.offset.y=0);void 0===e.scale&&(e.scale=this.body.view.scale);void 0===e.position&&(e.position=this.getViewPosition());void 0===e.animation&&(e.animation={duration:0});e.animation===!1&&(e.animation={duration:0});e.animation===!0&&(e.animation={});void 0===e.animation.duration&&(e.animation.duration=1e3);void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad");this.animateView(e)}else e={}}},{key:"animateView",value:function t(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction;this.releaseNode();if(e.locked===!0){this.lockedOnNodeId=e.lockedOnNode;this.lockedOnNodeOffset=e.offset}0!=this.easingTime&&this._transitionRedraw(!0);this.sourceScale=this.body.view.scale;this.sourceTranslation=this.body.view.translation;this.targetScale=e.scale;return;this.body.view.scale=this.targetScale;var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o={x:i.x-e.position.x,y:i.y-e.position.y};this.targetTranslation={x:this.sourceTranslation.x+o.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+o.y*this.targetScale+e.offset.y};if(0===e.animation.duration)if(void 0!=this.lockedOnNodeId){this.viewFunction=this._lockedRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.emitter.emit("_requestRedraw");else{this.animationSpeed=1/(60*e.animation.duration*.001)||1/60;this.animationEasingFunction=e.animation.easingFunction;this.viewFunction=this._transitionRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function t(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o={x:i.x-e.x,y:i.y-e.y},n=this.body.view.translation,s={x:n.x+o.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+o.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function t(){if(void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction){this.body.emitter.off("initRedraw",this.viewFunction);this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0}}},{key:"_transitionRedraw",value:function t(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed;this.easingTime=e===!0?1:this.easingTime;var i=h.easingFunctions[this.animationEasingFunction](this.easingTime);if(this.easingTime>=1){this.body.emitter.off("initRedraw",this.viewFunction);this.easingTime=0;if(void 0!=this.lockedOnNodeId){this.viewFunction=this._lockedRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function t(){return this.body.view.scale}},{key:"getViewPosition",value:function t(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]);return t}();e.default=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(109),a=o(r),h=i(110),d=o(h),l=i(1),u=function(){function t(e,i,o){n(this,t);this.body=e;this.canvas=i;this.selectionHandler=o;this.navigationHandler=new a.default(e,i);this.body.eventListeners.onTap=this.onTap.bind(this);this.body.eventListeners.onTouch=this.onTouch.bind(this);this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this);this.body.eventListeners.onHold=this.onHold.bind(this);this.body.eventListeners.onDragStart=this.onDragStart.bind(this);this.body.eventListeners.onDrag=this.onDrag.bind(this);this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this);this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this);this.body.eventListeners.onPinch=this.onPinch.bind(this);this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this);this.body.eventListeners.onRelease=this.onRelease.bind(this);this.body.eventListeners.onContext=this.onContext.bind(this);this.touchTime=0;this.drag={};this.pinch={};this.popup=void 0;this.popupObj=void 0;this.popupTimer=void 0;this.body.functions.getPointer=this.getPointer.bind(this);this.options={};this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}s(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer);delete e.body.functions.getPointer})}},{key:"setOptions",value:function t(e){if(void 0!==e){var i=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(i,this.options,e);l.mergeOptions(this.options,e,"keyboard");if(e.tooltip){l.extend(this.options.tooltip,e.tooltip);e.tooltip.color&&(this.options.tooltip.color=l.parseColor(e.tooltip.color))}}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function t(e){return{x:e.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function t(e){if((new Date).valueOf()-this.touchTime>50){this.drag.pointer=this.getPointer(e.center);this.drag.pinched=!1;this.pinch.scale=this.body.view.scale;this.touchTime=(new Date).valueOf()}}},{key:"onTap",value:function t(e){var i=this.getPointer(e.center),o=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,e,o);this.selectionHandler._generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function t(e){var i=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function t(e){var i=this.getPointer(e.center),o=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,e,o);this.selectionHandler._generateClickEvent("click",e,i);this.selectionHandler._generateClickEvent("hold",e,i)}},{key:"onRelease",value:function t(e){if((new Date).valueOf()-this.touchTime>10){var i=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,i);this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function t(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function t(e,i){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=this.selectionHandler._getSelectedEdgeCount(),s=this.selectionHandler._getSelectedNodeCount(),r=this.selectionHandler.getSelection(),a=void 0;a=o===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var h=this.selectionHandler._getSelectedEdgeCount(),d=this.selectionHandler._getSelectedNodeCount(),l=this.selectionHandler.getSelection(),u=this._determineIfDifferent(r,l),c=u.nodesChanged,p=u.edgesChanged,f=!1;if(d-s>0){this.selectionHandler._generateClickEvent("selectNode",i,e);a=!0;f=!0}else if(c===!0&&d>0){this.selectionHandler._generateClickEvent("deselectNode",i,e,r);this.selectionHandler._generateClickEvent("selectNode",i,e);f=!0;a=!0}else if(d-s<0){this.selectionHandler._generateClickEvent("deselectNode",i,e,r);a=!0}if(h-n>0&&f===!1){this.selectionHandler._generateClickEvent("selectEdge",i,e);a=!0}else if(h>0&&p===!0){this.selectionHandler._generateClickEvent("deselectEdge",i,e,r);this.selectionHandler._generateClickEvent("selectEdge",i,e);a=!0}else if(h-n<0){this.selectionHandler._generateClickEvent("deselectEdge",i,e,r);a=!0}a===!0&&this.selectionHandler._generateClickEvent("select",i,e)}},{key:"_determineIfDifferent",value:function t(e,i){for(var o=!1,n=!1,s=0;s<e.nodes.length;s++)i.nodes.indexOf(e.nodes[s])===-1&&(o=!0);for(var r=0;r<i.nodes.length;r++)e.nodes.indexOf(e.nodes[r])===-1&&(o=!0);for(var a=0;a<e.edges.length;a++)i.edges.indexOf(e.edges[a])===-1&&(n=!0);for(var h=0;h<i.edges.length;h++)e.edges.indexOf(e.edges[h])===-1&&(n=!0);return{nodesChanged:o,edgesChanged:n}}},{key:"onDragStart",value:function t(e){void 0===this.drag.pointer&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);this.drag.dragging=!0;this.drag.selection=[];this.drag.translation=l.extend({},this.body.view.translation);this.drag.nodeId=void 0;if(void 0!==i&&this.options.dragNodes===!0){this.drag.nodeId=i.id;if(i.isSelected()===!1){this.selectionHandler.unselectAll();this.selectionHandler.selectObject(i)}this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var o=this.selectionHandler.selectionObj.nodes;for(var n in o)if(o.hasOwnProperty(n)){var s=o[n],r={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.options.fixed.x,yFixed:s.options.fixed.y};s.options.fixed.x=!0;s.options.fixed.y=!0;this.drag.selection.push(r)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function t(e){var i=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var o=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0)!function(){i.selectionHandler._generateClickEvent("dragging",e,o);var t=o.x-i.drag.pointer.x,s=o.y-i.drag.pointer.y;n.forEach(function(e){var o=e.node;e.xFixed===!1&&(o.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(e.x)+t));e.yFixed===!1&&(o.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(e.y)+s))});i.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){this.selectionHandler._generateClickEvent("dragging",e,o,void 0,!0);if(void 0===this.drag.pointer){this.onDragStart(e);return}var s=o.x-this.drag.pointer.x,r=o.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+r};this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function t(e){this.drag.dragging=!1;var i=this.drag.selection;if(i&&i.length){i.forEach(function(t){t.node.options.fixed.x=t.xFixed;t.node.options.fixed.y=t.yFixed});this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center));this.body.emitter.emit("startSimulation")}else{this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0);this.body.emitter.emit("_requestRedraw")}}},{key:"onPinch",value:function t(e){var i=this.getPointer(e.center);this.drag.pinched=!0;void 0===this.pinch["scale"]&&(this.pinch.scale=1);var o=this.pinch.scale*e.scale;this.zoom(o,i)}},{key:"zoom",value:function t(e,i){if(this.options.zoomView===!0){var o=this.body.view.scale;e<1e-5&&(e=1e-5);e>10&&(e=10);var n=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,r=e/o,a=(1-r)*i.x+s.x*r,h=(1-r)*i.y+s.y*r;this.body.view.scale=e;this.body.view.translation={x:a,y:h};if(void 0!=n){var d=this.canvas.canvasToDOM(n);this.drag.pointer.x=d.x;this.drag.pointer.y=d.y}this.body.emitter.emit("_requestRedraw");o<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function t(e){if(this.options.zoomView===!0){var i=0;e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3);if(0!==i){var o=this.body.view.scale,n=i/10;i<0&&(n/=1-n);o*=1+n;var s=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(o,s)}e.preventDefault()}}},{key:"onMouseMove",value:function t(e){var i=this,o=this.getPointer({x:e.clientX,y:e.clientY}),n=!1;if(void 0!==this.popup){this.popup.hidden===!1&&this._checkHidePopup(o);if(this.popup.hidden===!1){n=!0;this.popup.setPosition(o.x+3,o.y-5);this.popup.show()}}this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus();if(n===!1){if(void 0!==this.popupTimer){clearInterval(this.popupTimer);this.popupTimer=void 0}this.drag.dragging||(this.popupTimer=setTimeout(function(){return i._checkShowPopup(o)},this.options.tooltipDelay))}if(this.options.hover===!0){if(this.drag.dragging)return;var s=this.selectionHandler.getNodeAt(o);void 0===s&&(s=this.selectionHandler.getEdgeAt(o));this.selectionHandler.hoverObject(s)}}},{key:"_checkShowPopup",value:function t(e){var i=this.canvas._XconvertDOMtoCanvas(e.x),o=this.canvas._YconvertDOMtoCanvas(e.y),n={left:i,top:o,right:i,bottom:o},s=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,a="node";if(void 0===this.popupObj){for(var h=this.body.nodeIndices,l=this.body.nodes,u=void 0,c=[],p=0;p<h.length;p++){u=l[h[p]];u.isOverlappingWith(n)===!0&&void 0!==u.getTitle()&&c.push(h[p])}if(c.length>0){this.popupObj=l[c[c.length-1]];r=!0}}if(void 0===this.popupObj&&r===!1){for(var f=this.body.edgeIndices,m=this.body.edges,v=void 0,g=[],y=0;y<f.length;y++){v=m[f[y]];v.isOverlappingWith(n)===!0&&v.connected===!0&&void 0!==v.getTitle()&&g.push(f[y])}if(g.length>0){this.popupObj=m[g[g.length-1]];a="edge"}}if(void 0!==this.popupObj){if(this.popupObj.id!==s){void 0===this.popup&&(this.popup=new d.default(this.canvas.frame));this.popup.popupTargetType=a;this.popup.popupTargetId=this.popupObj.id;this.popup.setPosition(e.x+3,e.y-5);this.popup.setText(this.popupObj.getTitle());this.popup.show();this.body.emitter.emit("showPopup",this.popupObj.id)}}else if(void 0!==this.popup){this.popup.hide();this.body.emitter.emit("hidePopup")}}},{key:"_checkHidePopup",value:function t(e){var i=this.selectionHandler._pointerToPositionObject(e),o=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]){o=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i);if(o===!0){var n=this.selectionHandler.getNodeAt(e);o=n.id===this.popup.popupTargetId}}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(o=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));if(o===!1){this.popupObj=void 0;this.popup.hide();this.body.emitter.emit("hidePopup")}}}]);return t}();e.default=u},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),s=i(1),r=i(20),a=i(28),h=i(23),d=function(){function t(e,i){var n=this;o(this,t);this.body=e;this.canvas=i;this.iconsCreated=!1;this.navigationHammers=[];this.boundFunctions={};this.touchTime=0;this.activated=!1;this.body.emitter.on("activate",function(){n.activated=!0;n.configureKeyboardBindings()});this.body.emitter.on("deactivate",function(){n.activated=!1;n.configureKeyboardBindings()});this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()});this.options={}}n(t,[{key:"setOptions",value:function t(e){if(void 0!==e){this.options=e;this.create()}}},{key:"create",value:function t(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation();this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function t(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode&&this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"]);this.iconsCreated=!1}},{key:"loadNavigationElements",value:function t(){var e=this;this.cleanNavigation();this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],o=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div");this.navigationDOM["wrapper"].className="vis-navigation";this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(var n=0;n<i.length;n++){
this.navigationDOM[i[n]]=document.createElement("div");this.navigationDOM[i[n]].className="vis-button vis-"+i[n];this.navigationDOM["wrapper"].appendChild(this.navigationDOM[i[n]]);var s=new r(this.navigationDOM[i[n]]);"_fit"===o[n]?a.onTouch(s,this._fit.bind(this)):a.onTouch(s,this.bindToRedraw.bind(this,o[n]));this.navigationHammers.push(s)}var h=new r(this.canvas.frame);a.onRelease(h,function(){e._stopMovement()});this.navigationHammers.push(h);this.iconsCreated=!0}},{key:"bindToRedraw",value:function t(e){if(void 0===this.boundFunctions[e]){this.boundFunctions[e]=this[e].bind(this);this.body.emitter.on("initRedraw",this.boundFunctions[e]);this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function t(e){if(void 0!==this.boundFunctions[e]){this.body.emitter.off("initRedraw",this.boundFunctions[e]);this.body.emitter.emit("_stopRendering");delete this.boundFunctions[e]}}},{key:"_fit",value:function t(){if((new Date).valueOf()-this.touchTime>700){this.body.emitter.emit("fit",{duration:700});this.touchTime=(new Date).valueOf()}}},{key:"_stopMovement",value:function t(){for(var e in this.boundFunctions)if(this.boundFunctions.hasOwnProperty(e)){this.body.emitter.off("initRedraw",this.boundFunctions[e]);this.body.emitter.emit("_stopRendering")}this.boundFunctions={}}},{key:"_moveUp",value:function t(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function t(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function t(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function t(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function t(){this.body.view.scale*=1+this.options.keyboard.speed.zoom;this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function t(){this.body.view.scale/=1+this.options.keyboard.speed.zoom;this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function t(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy();if(this.options.keyboard.enabled===!0){this.options.keyboard.bindToWindow===!0?this.keycharm=h({container:window,preventDefault:!0}):this.keycharm=h({container:this.canvas.frame,preventDefault:!0});this.keycharm.reset();if(this.activated===!0){this.keycharm.bind("up",function(){e.bindToRedraw("_moveUp")},"keydown");this.keycharm.bind("down",function(){e.bindToRedraw("_moveDown")},"keydown");this.keycharm.bind("left",function(){e.bindToRedraw("_moveLeft")},"keydown");this.keycharm.bind("right",function(){e.bindToRedraw("_moveRight")},"keydown");this.keycharm.bind("=",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("num+",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("num-",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("-",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("[",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("]",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("pageup",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("up",function(){e.unbindFromRedraw("_moveUp")},"keyup");this.keycharm.bind("down",function(){e.unbindFromRedraw("_moveDown")},"keyup");this.keycharm.bind("left",function(){e.unbindFromRedraw("_moveLeft")},"keyup");this.keycharm.bind("right",function(){e.unbindFromRedraw("_moveRight")},"keyup");this.keycharm.bind("=",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("-",function(){e.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("[",function(){e.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("]",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}}]);return t}();e.default=d},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(e){i(this,t);this.container=e;this.x=0;this.y=0;this.padding=5;this.hidden=!1;this.frame=document.createElement("div");this.frame.className="vis-network-tooltip";this.container.appendChild(this.frame)}o(t,[{key:"setPosition",value:function t(e,i){this.x=parseInt(e);this.y=parseInt(i)}},{key:"setText",value:function t(e){if(e instanceof Element){this.frame.innerHTML="";this.frame.appendChild(e)}else this.frame.innerHTML=e}},{key:"show",value:function t(e){void 0===e&&(e=!0);if(e===!0){var i=this.frame.clientHeight,o=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,r=this.y-i;r+i+this.padding>n&&(r=n-i-this.padding);r<this.padding&&(r=this.padding);var a=this.x;a+o+this.padding>s&&(a=s-o-this.padding);a<this.padding&&(a=this.padding);this.frame.style.left=a+"px";this.frame.style.top=r+"px";this.frame.style.visibility="visible";this.hidden=!1}else this.hide()}},{key:"hide",value:function t(){this.hidden=!0;this.frame.style.visibility="hidden"}}]);return t}();e.default=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),r=i(65),a=o(r),h=i(85),d=o(h),l=i(1),u=function(){function t(e,i){var o=this;n(this,t);this.body=e;this.canvas=i;this.selectionObj={nodes:[],edges:[]};this.hoverObj={nodes:{},edges:{}};this.options={};this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0};l.extend(this.options,this.defaultOptions);this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}s(t,[{key:"setOptions",value:function t(e){if(void 0!==e){var i=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];l.selectiveDeepExtend(i,this.options,e)}}},{key:"selectOnPoint",value:function t(e){var i=!1;if(this.options.selectable===!0){var o=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll();void 0!==o&&(i=this.selectObject(o));this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function t(e){var i=!1;if(this.options.selectable===!0){var o=this.getNodeAt(e)||this.getEdgeAt(e);if(void 0!==o){i=!0;o.isSelected()===!0?this.deselectObject(o):this.selectObject(o);this.body.emitter.emit("_requestRedraw")}}return i}},{key:"_generateClickEvent",value:function t(e,i,o,n){var s=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],r=void 0;r=s===!0?{nodes:[],edges:[]}:this.getSelection();r["pointer"]={DOM:{x:o.x,y:o.y},canvas:this.canvas.DOMtoCanvas(o)};r["event"]=i;void 0!==n&&(r["previousSelection"]=n);this.body.emitter.emit(e,r)}},{key:"selectObject",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];if(void 0!==e){e instanceof a.default&&i===!0&&this._selectConnectedEdges(e);e.select();this._addToSelection(e);return!0}return!1}},{key:"deselectObject",value:function t(e){if(e.isSelected()===!0){e.selected=!1;this._removeFromSelection(e)}}},{key:"_getAllNodesOverlappingWith",value:function t(e){for(var i=[],o=this.body.nodes,n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodeIndices[n];o[s].isOverlappingWith(e)&&i.push(s)}return i}},{key:"_pointerToPositionObject",value:function t(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1],o=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(o);return n.length>0?i===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function t(e,i){for(var o=this.body.edges,n=0;n<this.body.edgeIndices.length;n++){var s=this.body.edgeIndices[n];o[s].isOverlappingWith(e)&&i.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function t(e){var i=[];this._getEdgesOverlappingWith(e,i);return i}},{key:"getEdgeAt",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1],o=this._pointerToPositionObject(e),n=this._getAllEdgesOverlappingWith(o);return n.length>0?i===!0?this.body.edges[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_addToSelection",value:function t(e){e instanceof a.default?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function t(e){e instanceof a.default?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function t(e){if(e instanceof a.default){delete this.selectionObj.nodes[e.id];this._unselectConnectedEdges(e)}else delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function t(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&this.selectionObj.edges[i].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function t(){var e=0;for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&(e+=1);return e}},{key:"_getSelectedNode",value:function t(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function t(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function t(){var e=0;for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function t(){var e=0;for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&(e+=1);for(var o in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(o)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function t(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var i in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(i))return!1;return!0}},{key:"_clusterInSelection",value:function t(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function t(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.select();this._addToSelection(o)}}},{key:"_hoverConnectedEdges",value:function t(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.hover=!0;this._addToHover(o)}}},{key:"_unselectConnectedEdges",value:function t(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.unselect();this._removeFromSelection(o)}}},{key:"blurObject",value:function t(e){if(e.hover===!0){e.hover=!1;e instanceof a.default?this.body.emitter.emit("blurNode",{node:e.id}):this.body.emitter.emit("blurEdge",{edge:e.id})}}},{key:"hoverObject",value:function t(e){var i=!1;for(var o in this.hoverObj.nodes)if(this.hoverObj.nodes.hasOwnProperty(o)&&(void 0===e||e instanceof a.default&&e.id!=o||e instanceof d.default)){this.blurObject(this.hoverObj.nodes[o]);delete this.hoverObj.nodes[o];i=!0}for(var n in this.hoverObj.edges)if(this.hoverObj.edges.hasOwnProperty(n))if(i!==!0&&0){if(void 0===e){this.blurObject(this.hoverObj.edges[n]);delete this.hoverObj.edges[n];i=!0}}else{this.hoverObj.edges[n].hover=!1;delete this.hoverObj.edges[n]}if(void 0!==e){if(e.hover===!1){e.hover=!0;this._addToHover(e);i=!0;e instanceof a.default?this.body.emitter.emit("hoverNode",{node:e.id}):this.body.emitter.emit("hoverEdge",{edge:e.id})}e instanceof a.default&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(e)}i===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function t(){var e=this.getSelectedNodes(),i=this.getSelectedEdges();return{nodes:e,edges:i}}},{key:"getSelectedNodes",value:function t(){var e=[];if(this.options.selectable===!0)for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&e.push(this.selectionObj.nodes[i].id);return e}},{key:"getSelectedEdges",value:function t(){var e=[];if(this.options.selectable===!0)for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&e.push(this.selectionObj.edges[i].id);return e}},{key:"setSelection",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=void 0,n=void 0;if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";(i.unselectAll||void 0===i.unselectAll)&&this.unselectAll();if(e.nodes)for(o=0;o<e.nodes.length;o++){n=e.nodes[o];var s=this.body.nodes[n];if(!s)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(s,i.highlightEdges)}if(e.edges)for(o=0;o<e.edges.length;o++){n=e.edges[o];var r=this.body.edges[n];if(!r)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function t(e){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function t(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function t(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(this.body.edges.hasOwnProperty(i)||delete this.selectionObj.edges[i])}}]);return t}();e.default=u},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r=t[Symbol.iterator](),a;!(o=(a=r.next()).done);o=!0){i.push(a.value);if(e&&i.length===e)break}}catch(t){n=!0;s=t}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),h=i(103),d=o(h),l=i(1),u=function(){function t(e){n(this,t);this.body=e;this.initialRandomSeed=Math.round(1e6*Math.random());this.randomSeed=this.initialRandomSeed;this.setPhysics=!1;this.options={};this.optionsBackup={physics:{}};this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}a(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()});this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()});this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()})}},{key:"setOptions",value:function t(e,i){if(void 0!==e){var o=this.options.hierarchical.enabled;l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,e);l.mergeOptions(this.options,e,"hierarchical");void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed);if(this.options.hierarchical.enabled===!0){o===!0&&this.body.emitter.emit("refresh",!0);"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1);this.body.emitter.emit("_resetHierarchicalLayout");return this.adaptAllOptionsForHierarchicalLayout(i)}if(o===!0){this.body.emitter.emit("refresh");return l.deepExtend(i,this.optionsBackup)}}return i}},{key:"adaptAllOptionsForHierarchicalLayout",value:function t(e){if(this.options.hierarchical.enabled===!0){if(void 0===e.physics||e.physics===!0){e.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"};this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled;this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"}else if("object"===r(e.physics)){this.optionsBackup.physics.enabled=void 0===e.physics.enabled||e.physics.enabled;this.optionsBackup.physics.solver=e.physics.solver||"barnesHut";e.physics.solver="hierarchicalRepulsion"}else if(e.physics!==!1){this.optionsBackup.physics.solver="barnesHut";e.physics={solver:"hierarchicalRepulsion"}}var i="horizontal";"RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(i="vertical");if(void 0===e.edges){this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}};e.edges={smooth:!1}}else if(void 0===e.edges.smooth){this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}};e.edges.smooth=!1}else if("boolean"===typeof e.edges.smooth){this.optionsBackup.edges={smooth:e.edges.smooth};e.edges.smooth={enabled:e.edges.smooth,type:i}}else{void 0!==e.edges.smooth.type&&"dynamic"!==e.edges.smooth.type&&(i=e.edges.smooth.type);this.optionsBackup.edges={smooth:void 0===e.edges.smooth.enabled||e.edges.smooth.enabled,type:void 0===e.edges.smooth.type?"dynamic":e.edges.smooth.type,roundness:void 0===e.edges.smooth.roundness?.5:e.edges.smooth.roundness,forceDirection:void 0!==e.edges.smooth.forceDirection&&e.edges.smooth.forceDirection};e.edges.smooth={enabled:void 0===e.edges.smooth.enabled||e.edges.smooth.enabled,type:i,roundness:void 0===e.edges.smooth.roundness?.5:e.edges.smooth.roundness,forceDirection:void 0!==e.edges.smooth.forceDirection&&e.edges.smooth.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"seededRandom",value:function t(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"positionInitially",value:function t(e){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var i=0;i<e.length;i++){var o=e[i],n=10*.1*e.length+10,s=2*Math.PI*this.seededRandom();void 0===o.x&&(o.x=n*Math.cos(s));void 0===o.y&&(o.y=n*Math.sin(s))}}}},{key:"layoutNetwork",value:function t(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=0,i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.predefinedPosition===!0&&(e+=1)}if(e<.5*this.body.nodeIndices.length){var n=10,s=0,r=100;if(this.body.nodeIndices.length>r){for(var a=this.body.nodeIndices.length;this.body.nodeIndices.length>r;){s+=1;var h=this.body.nodeIndices.length;s%3===0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers();var d=this.body.nodeIndices.length;if(h==d&&s%3!==0||s>n){this._declusterAll();this.body.emitter.emit("_layoutFailed");console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*a)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0);this._shiftToCenter();for(var l=70,u=0;u<this.body.nodeIndices.length;u++){this.body.nodes[this.body.nodeIndices[u]].x+=(.5-this.seededRandom())*l;this.body.nodes[this.body.nodeIndices[u]].y+=(.5-this.seededRandom())*l}this._declusterAll();this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function t(){for(var e=d.default.getRangeCore(this.body.nodes,this.body.nodeIndices),i=d.default.findCenter(e),o=0;o<this.body.nodeIndices.length;o++){this.body.nodes[this.body.nodeIndices[o]].x-=i.x;this.body.nodes[this.body.nodeIndices[o]].y-=i.y}}},{key:"_declusterAll",value:function t(){for(var e=!0;e===!0;){e=!1;for(var i=0;i<this.body.nodeIndices.length;i++)if(this.body.nodes[this.body.nodeIndices[i]].isCluster===!0){e=!0;this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},!1)}e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function t(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function t(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e=void 0,i=void 0,o=!1,n=!0,s=!1;this.hierarchicalLevels={};this.lastNodeOnLevel={};this.hierarchicalChildrenReference={};this.hierarchicalParentReference={};this.hierarchicalTrees={};this.treeIndex=-1;this.distributionOrdering={};this.distributionIndex={};this.distributionOrderingPresence={};for(i in this.body.nodes)if(this.body.nodes.hasOwnProperty(i)){e=this.body.nodes[i];void 0===e.options.x&&void 0===e.options.y&&(n=!1);if(void 0!==e.options.level){o=!0;this.hierarchicalLevels[i]=e.options.level}else s=!0}if(s===!0&&o===!0){throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");return}s===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&void 0===this.hierarchicalLevels[r]&&(this.hierarchicalLevels[r]=0);var a=this._getDistribution();this._generateMap();this._placeNodesByHierarchy(a);this._condenseHierarchy();this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function t(){var e=this,i=!1,o={},n=function t(){for(var i=h(),o=0;o<i.length-1;o++){var n=i[o].max-i[o+1].min;r(o+1,n+e.options.hierarchical.treeSpacing)}},r=function t(i,o){for(var n in e.hierarchicalTrees)if(e.hierarchicalTrees.hasOwnProperty(n)&&e.hierarchicalTrees[n]===i){var s=e.body.nodes[n],r=e._getPositionForHierarchy(s);e._setPositionForHierarchy(s,r+o,void 0,!0)}},a=function t(i){var o=1e9,n=-1e9;for(var s in e.hierarchicalTrees)if(e.hierarchicalTrees.hasOwnProperty(s)&&e.hierarchicalTrees[s]===i){var r=e._getPositionForHierarchy(e.body.nodes[s]);o=Math.min(r,o);n=Math.max(r,n)}return{min:o,max:n}},h=function t(){for(var i=[],o=0;o<=e.treeIndex;o++)i.push(a(o));return i},d=function t(i,o){o[i.id]=!0;if(e.hierarchicalChildrenReference[i.id]){var n=e.hierarchicalChildrenReference[i.id];if(n.length>0)for(var s=0;s<n.length;s++)t(e.body.nodes[n[s]],o)}},l=function t(i){var o=arguments.length<=1||void 0===arguments[1]?1e9:arguments[1],n=1e9,r=1e9,a=1e9,h=-1e9;for(var d in i)if(i.hasOwnProperty(d)){var l=e.body.nodes[d],u=e.hierarchicalLevels[l.id],c=e._getPositionForHierarchy(l),p=e._getSpaceAroundNode(l,i),f=s(p,2),m=f[0],v=f[1];n=Math.min(m,n);r=Math.min(v,r);if(u<=o){a=Math.min(c,a);h=Math.max(c,h)}}return[a,h,n,r]},u=function t(i){var o=e.hierarchicalLevels[i];if(e.hierarchicalChildrenReference[i]){var n=e.hierarchicalChildrenReference[i];if(n.length>0)for(var s=0;s<n.length;s++)o=Math.max(o,t(n[s]))}return o},c=function t(e,i){var o=u(e.id),n=u(i.id);return Math.min(o,n)},p=function t(i,o){var n=e.hierarchicalParentReference[i.id],s=e.hierarchicalParentReference[o.id];if(void 0===n||void 0===s)return!1;for(var r=0;r<n.length;r++)for(var a=0;a<s.length;a++)if(n[r]==s[a])return!0;return!1},f=function t(i,o,n){for(var s=0;s<o.length;s++){var r=o[s],a=e.distributionOrdering[r];if(a.length>1)for(var h=0;h<a.length-1;h++)p(a[h],a[h+1])===!0&&e.hierarchicalTrees[a[h].id]===e.hierarchicalTrees[a[h+1].id]&&i(a[h],a[h+1],n)}},m=function t(o,n){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],a=e._getPositionForHierarchy(o),h=e._getPositionForHierarchy(n),u=Math.abs(h-a);if(u>e.options.hierarchical.nodeSpacing){var p={};p[o.id]=!0;var f={};f[n.id]=!0;d(o,p);d(n,f);var m=c(o,n),v=l(p,m),g=s(v,4),y=g[0],b=g[1],w=g[2],_=g[3],x=l(f,m),k=s(x,4),O=k[0],M=k[1],S=k[2],D=k[3],C=Math.abs(b-O);if(C>e.options.hierarchical.nodeSpacing){var T=b-O+e.options.hierarchical.nodeSpacing;T<-S+e.options.hierarchical.nodeSpacing&&(T=-S+e.options.hierarchical.nodeSpacing);if(T<0){e._shiftBlock(n.id,T);i=!0;r===!0&&e._centerParent(n)}}}},v=function t(n,r){for(var a=r.id,h=r.edges,u=e.hierarchicalLevels[r.id],c=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,p={},f=[],m=0;m<h.length;m++){var v=h[m];if(v.toId!=v.fromId){var g=v.toId==a?v.from:v.to;p[h[m].id]=g;e.hierarchicalLevels[g.id]<u&&f.push(v)}}var y=function t(i,o){for(var n=0,s=0;s<o.length;s++)if(void 0!==p[o[s].id]){var r=e._getPositionForHierarchy(p[o[s].id])-i;n+=r/Math.sqrt(r*r+c)}return n},b=function t(i,o){for(var n=0,s=0;s<o.length;s++)if(void 0!==p[o[s].id]){var r=e._getPositionForHierarchy(p[o[s].id])-i;n-=c*Math.pow(r*r+c,-1.5)}return n},w=function t(i,o){for(var n=e._getPositionForHierarchy(r),s={},a=0;a<i;a++){var h=y(n,o),d=b(n,o),l=40,u=Math.max(-l,Math.min(l,Math.round(h/d)));n-=u;if(void 0!==s[n])break;s[n]=a}return n},_=function t(n){var a=e._getPositionForHierarchy(r);if(void 0===o[r.id]){var h={};h[r.id]=!0;d(r,h);o[r.id]=h}var u=l(o[r.id]),c=s(u,4),p=c[0],f=c[1],m=c[2],v=c[3],g=n-a,y=0;g>0?y=Math.min(g,v-e.options.hierarchical.nodeSpacing):g<0&&(y=-Math.min(-g,m-e.options.hierarchical.nodeSpacing));if(0!=y){e._shiftBlock(r.id,y);i=!0}},x=function t(o){var n=e._getPositionForHierarchy(r),a=e._getSpaceAroundNode(r),h=s(a,2),d=h[0],l=h[1],u=o-n,c=n;u>0?c=Math.min(n+(l-e.options.hierarchical.nodeSpacing),o):u<0&&(c=Math.max(n-(d-e.options.hierarchical.nodeSpacing),o));if(c!==n){e._setPositionForHierarchy(r,c,void 0,!0);i=!0}},k=w(n,f);_(k);k=w(n,h);x(k)},g=function t(o){var n=Object.keys(e.distributionOrdering);n=n.reverse();for(var s=0;s<o;s++){i=!1;for(var r=0;r<n.length;r++)for(var a=n[r],h=e.distributionOrdering[a],d=0;d<h.length;d++)v(1e3,h[d]);if(i!==!0)break}},y=function t(o){var n=Object.keys(e.distributionOrdering);n=n.reverse();for(var s=0;s<o;s++){i=!1;f(m,n,!0);if(i!==!0)break}},b=function t(){for(var i in e.body.nodes)e.body.nodes.hasOwnProperty(i)&&e._centerParent(e.body.nodes[i])},w=function t(){var i=Object.keys(e.distributionOrdering);i=i.reverse();for(var o=0;o<i.length;o++)for(var n=i[o],s=e.distributionOrdering[n],r=0;r<s.length;r++)e._centerParent(s[r])};if(this.options.hierarchical.blockShifting===!0){y(5);b()}this.options.hierarchical.edgeMinimization===!0&&g(20);this.options.hierarchical.parentCentralization===!0&&w();n()}},{key:"_getSpaceAroundNode",value:function t(e,i){var o=!0;void 0===i&&(o=!1);var n=this.hierarchicalLevels[e.id];if(void 0!==n){var s=this.distributionIndex[e.id],r=this._getPositionForHierarchy(e),a=1e9,h=1e9;if(0!==s){var d=this.distributionOrdering[n][s-1];if(o===!0&&void 0===i[d.id]||o===!1){var l=this._getPositionForHierarchy(d);a=r-l}}if(s!=this.distributionOrdering[n].length-1){var u=this.distributionOrdering[n][s+1];if(o===!0&&void 0===i[u.id]||o===!1){var c=this._getPositionForHierarchy(u);h=Math.min(h,c-r)}}return[a,h]}return[0,0]}},{key:"_centerParent",value:function t(e){if(this.hierarchicalParentReference[e.id])for(var i=this.hierarchicalParentReference[e.id],o=0;o<i.length;o++){var n=i[o],r=this.body.nodes[n];if(this.hierarchicalChildrenReference[n]){var a=1e9,h=-1e9,d=this.hierarchicalChildrenReference[n];if(d.length>0)for(var l=0;l<d.length;l++){var u=this.body.nodes[d[l]];a=Math.min(a,this._getPositionForHierarchy(u));h=Math.max(h,this._getPositionForHierarchy(u))}var c=this._getPositionForHierarchy(r),p=this._getSpaceAroundNode(r),f=s(p,2),m=f[0],v=f[1],g=.5*(a+h),y=c-g;(y<0&&Math.abs(y)<v-this.options.hierarchical.nodeSpacing||y>0&&Math.abs(y)<m-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(r,g,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function t(e){this.positionedNodes={};for(var i in e)if(e.hasOwnProperty(i)){var o=Object.keys(e[i]);o=this._indexArrayToNodes(o);this._sortNodeArray(o);for(var n=0,s=0;s<o.length;s++){var r=o[s];if(void 0===this.positionedNodes[r.id]){var a=this.options.hierarchical.nodeSpacing*n;n>0&&(a=this._getPositionForHierarchy(o[s-1])+this.options.hierarchical.nodeSpacing);this._setPositionForHierarchy(r,a,i);this._validataPositionAndContinue(r,i,a);n++}}}}},{key:"_placeBranchNodes",value:function t(e,i){if(void 0!==this.hierarchicalChildrenReference[e]){for(var o=[],n=0;n<this.hierarchicalChildrenReference[e].length;n++)o.push(this.body.nodes[this.hierarchicalChildrenReference[e][n]]);this._sortNodeArray(o);for(var s=0;s<o.length;s++){var r=o[s],a=this.hierarchicalLevels[r.id];if(!(a>i&&void 0===this.positionedNodes[r.id]))return;var h=void 0;h=0===s?this._getPositionForHierarchy(this.body.nodes[e]):this._getPositionForHierarchy(o[s-1])+this.options.hierarchical.nodeSpacing;this._setPositionForHierarchy(r,h,a);this._validataPositionAndContinue(r,a,h)}for(var d=1e9,l=-1e9,u=0;u<o.length;u++){var c=o[u].id;d=Math.min(d,this._getPositionForHierarchy(this.body.nodes[c]));l=Math.max(l,this._getPositionForHierarchy(this.body.nodes[c]))}this._setPositionForHierarchy(this.body.nodes[e],.5*(d+l),i)}}},{key:"_validataPositionAndContinue",value:function t(e,i,o){if(void 0!==this.lastNodeOnLevel[i]){var n=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[i]]);if(o-n<this.options.hierarchical.nodeSpacing){var s=n+this.options.hierarchical.nodeSpacing-o,r=this._findCommonParent(this.lastNodeOnLevel[i],e.id);this._shiftBlock(r.withChild,s)}}this.lastNodeOnLevel[i]=e.id;this.positionedNodes[e.id]=!0;this._placeBranchNodes(e.id,i)}},{key:"_indexArrayToNodes",value:function t(e){for(var i=[],o=0;o<e.length;o++)i.push(this.body.nodes[e[o]]);return i}},{key:"_getDistribution",value:function t(){var e={},i=void 0,o=void 0;for(i in this.body.nodes)if(this.body.nodes.hasOwnProperty(i)){o=this.body.nodes[i];var n=void 0===this.hierarchicalLevels[i]?0:this.hierarchicalLevels[i];if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction){o.y=this.options.hierarchical.levelSeparation*n;o.options.fixed.y=!0}else{o.x=this.options.hierarchical.levelSeparation*n;o.options.fixed.x=!0}void 0===e[n]&&(e[n]={});e[n][i]=o}return e}},{key:"_getHubSize",value:function t(){var e=0;for(var i in this.body.nodes)if(this.body.nodes.hasOwnProperty(i)){var o=this.body.nodes[i];void 0===this.hierarchicalLevels[i]&&(e=o.edges.length<e?e:o.edges.length)}return e}},{key:"_determineLevelsByHubsize",value:function t(){for(var e=this,i=1,o=function t(i,o){if(void 0===e.hierarchicalLevels[o.id]){void 0===e.hierarchicalLevels[i.id]&&(e.hierarchicalLevels[i.id]=0);e.hierarchicalLevels[o.id]=e.hierarchicalLevels[i.id]+1}};i>0;){
i=this._getHubSize();if(0===i)break;for(var n in this.body.nodes)if(this.body.nodes.hasOwnProperty(n)){var s=this.body.nodes[n];s.edges.length===i&&this._crawlNetwork(o,n)}}}},{key:"_determineLevelsCustomCallback",value:function t(){var e=this,i=1e5,o=function t(e,i,o){},n=function t(n,s,r){var a=e.hierarchicalLevels[n.id];void 0===a&&(e.hierarchicalLevels[n.id]=i);var h=o(d.default.cloneOptions(n,"node"),d.default.cloneOptions(s,"node"),d.default.cloneOptions(r,"edge"));e.hierarchicalLevels[s.id]=e.hierarchicalLevels[n.id]+h};this._crawlNetwork(n);this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function t(){var e=this,i=1e4,o=function t(o,n,s){var r=e.hierarchicalLevels[o.id];void 0===r&&(e.hierarchicalLevels[o.id]=i);s.toId==n.id?e.hierarchicalLevels[n.id]=e.hierarchicalLevels[o.id]+1:e.hierarchicalLevels[n.id]=e.hierarchicalLevels[o.id]-1};this._crawlNetwork(o);this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function t(){var e=1e9;for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&void 0!==this.hierarchicalLevels[i]&&(e=Math.min(this.hierarchicalLevels[i],e));for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&void 0!==this.hierarchicalLevels[o]&&(this.hierarchicalLevels[o]-=e)}},{key:"_generateMap",value:function t(){var e=this,i=function t(i,o){if(e.hierarchicalLevels[o.id]>e.hierarchicalLevels[i.id]){var n=i.id,s=o.id;void 0===e.hierarchicalChildrenReference[n]&&(e.hierarchicalChildrenReference[n]=[]);e.hierarchicalChildrenReference[n].push(s);void 0===e.hierarchicalParentReference[s]&&(e.hierarchicalParentReference[s]=[]);e.hierarchicalParentReference[s].push(n)}};this._crawlNetwork(i)}},{key:"_crawlNetwork",value:function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0],o=arguments[1],n={},s=0,r=function t(o,s){if(void 0===n[o.id]){if(void 0===e.hierarchicalTrees[o.id]){e.hierarchicalTrees[o.id]=s;e.treeIndex=Math.max(s,e.treeIndex)}n[o.id]=!0;for(var r=void 0,a=0;a<o.edges.length;a++)if(o.edges[a].connected===!0){r=o.edges[a].toId===o.id?o.edges[a].from:o.edges[a].to;if(o.id!==r.id){i(o,r,o.edges[a]);t(r,s)}}}};if(void 0===o)for(var a=0;a<this.body.nodeIndices.length;a++){var h=this.body.nodes[this.body.nodeIndices[a]];if(void 0===n[h.id]){r(h,s);s+=1}}else{var d=this.body.nodes[o];if(void 0===d){console.error("Node not found:",o);return}r(d)}}},{key:"_shiftBlock",value:function t(e,i){"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[e].x+=i:this.body.nodes[e].y+=i;if(void 0!==this.hierarchicalChildrenReference[e])for(var o=0;o<this.hierarchicalChildrenReference[e].length;o++)this._shiftBlock(this.hierarchicalChildrenReference[e][o],i)}},{key:"_findCommonParent",value:function t(e,i){var o=this,n={},s=function t(e,i){if(void 0!==o.hierarchicalParentReference[i])for(var n=0;n<o.hierarchicalParentReference[i].length;n++){var s=o.hierarchicalParentReference[i][n];e[s]=!0;t(e,s)}},r=function t(e,i){if(void 0!==o.hierarchicalParentReference[i])for(var n=0;n<o.hierarchicalParentReference[i].length;n++){var s=o.hierarchicalParentReference[i][n];if(void 0!==e[s])return{foundParent:s,withChild:i};var r=t(e,s);if(null!==r.foundParent)return r}return{foundParent:null,withChild:i}};s(n,e);return r(n,i)}},{key:"_setPositionForHierarchy",value:function t(e,i,o){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(n!==!0){if(void 0===this.distributionOrdering[o]){this.distributionOrdering[o]=[];this.distributionOrderingPresence[o]={}}if(void 0===this.distributionOrderingPresence[o][e.id]){this.distributionOrdering[o].push(e);this.distributionIndex[e.id]=this.distributionOrdering[o].length-1}this.distributionOrderingPresence[o][e.id]=!0}"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?e.x=i:e.y=i}},{key:"_getPositionForHierarchy",value:function t(e){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?e.x:e.y}},{key:"_sortNodeArray",value:function t(e){e.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?e.sort(function(t,e){return t.x-e.x}):e.sort(function(t,e){return t.y-e.y}))}}]);return t}();e.default=u},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),s=i(1),r=i(20),a=i(28),h=function(){function t(e,i,n){var r=this;o(this,t);this.body=e;this.canvas=i;this.selectionHandler=n;this.editMode=!1;this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0;this.manipulationHammers=[];this.temporaryUIFunctions={};this.temporaryEventFunctions=[];this.touchTime=0;this.temporaryIds={nodes:[],edges:[]};this.guiEnabled=!1;this.inMode=!1;this.selectedControlNode=void 0;this.options={};this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}};s.extend(this.options,this.defaultOptions);this.body.emitter.on("destroy",function(){r._clean()});this.body.emitter.on("_dataChanged",this._restore.bind(this));this.body.emitter.on("_resetData",this._restore.bind(this))}n(t,[{key:"_restore",value:function t(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function t(e,i,o){if(void 0!==i){void 0!==i.locale?this.options.locale=i.locale:this.options.locale=o.locale;void 0!==i.locales?this.options.locales=i.locales:this.options.locales=o.locales}if(void 0!==e){if("boolean"===typeof e)this.options.enabled=e;else{this.options.enabled=!0;s.deepExtend(this.options,e)}this.options.initiallyActive===!0&&(this.editMode=!0);this._setup()}}},{key:"toggleEditMode",value:function t(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function t(){this.editMode=!0;this._clean();if(this.guiEnabled===!0){this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";this.editModeDiv.style.display="none";this.showManipulatorToolbar()}}},{key:"disableEditMode",value:function t(){this.editMode=!1;this._clean();if(this.guiEnabled===!0){this.manipulationDiv.style.display="none";this.closeDiv.style.display="none";this.editModeDiv.style.display="block";this._createEditButton()}}},{key:"showManipulatorToolbar",value:function t(){this._clean();this.manipulationDOM={};if(this.guiEnabled===!0){this.editMode=!0;this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),i=this.selectionHandler._getSelectedEdgeCount(),o=e+i,n=this.options.locales[this.options.locale],s=!1;if(this.options.addNode!==!1){this._createAddNodeButton(n);s=!0}if(this.options.addEdge!==!1){s===!0?this._createSeperator(1):s=!0;this._createAddEdgeButton(n)}if(1===e&&"function"===typeof this.options.editNode){s===!0?this._createSeperator(2):s=!0;this._createEditNodeButton(n)}else if(1===i&&0===e&&this.options.editEdge!==!1){s===!0?this._createSeperator(3):s=!0;this._createEditEdgeButton(n)}if(0!==o)if(e>0&&this.options.deleteNode!==!1){s===!0&&this._createSeperator(4);this._createDeleteButton(n)}else if(0===e&&this.options.deleteEdge!==!1){s===!0&&this._createSeperator(4);this._createDeleteButton(n)}this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this));this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function t(){this.editMode!==!0&&this.enableEditMode();this._clean();this.inMode="addNode";if(this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(e);this._createSeperator();this._createDescription(e["addDescription"]||this.options.locales["en"]["addDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function t(){var e=this;this.editMode!==!0&&this.enableEditMode();this._clean();var i=this.selectionHandler._getSelectedNode();if(void 0!==i){this.inMode="editNode";if("function"!==typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(i.isCluster!==!0){var o=s.deepExtend({},i.options,!1);o.x=i.x;o.y=i.y;if(2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(o,function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t);e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function t(){this.editMode!==!0&&this.enableEditMode();this._clean();this.inMode="addEdge";if(this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(e);this._createSeperator();this._createDescription(e["edgeDescription"]||this.options.locales["en"]["edgeDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this));this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this));this._temporaryBindUI("onDrag",this._dragControlNode.bind(this));this._temporaryBindUI("onRelease",this._finishConnect.bind(this));this._temporaryBindUI("onDragStart",function(){});this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function t(){var e=this;this.editMode!==!0&&this.enableEditMode();this._clean();this.inMode="editEdge";if(this.guiEnabled===!0){var i=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(i);this._createSeperator();this._createDescription(i["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0];void 0!==this.edgeBeingEditedId?!function(){var t=e.body.edges[e.edgeBeingEditedId],i=e._getNewTargetNode(t.from.x,t.from.y),o=e._getNewTargetNode(t.to.x,t.to.y);e.temporaryIds.nodes.push(i.id);e.temporaryIds.nodes.push(o.id);e.body.nodes[i.id]=i;e.body.nodeIndices.push(i.id);e.body.nodes[o.id]=o;e.body.nodeIndices.push(o.id);e._temporaryBindUI("onTouch",e._controlNodeTouch.bind(e));e._temporaryBindUI("onTap",function(){});e._temporaryBindUI("onHold",function(){});e._temporaryBindUI("onDragStart",e._controlNodeDragStart.bind(e));e._temporaryBindUI("onDrag",e._controlNodeDrag.bind(e));e._temporaryBindUI("onDragEnd",e._controlNodeDragEnd.bind(e));e._temporaryBindUI("onMouseMove",function(){});e._temporaryBindEvent("beforeDrawing",function(e){var n=t.edgeType.findBorderPositions(e);if(i.selected===!1){i.x=n.from.x;i.y=n.from.y}if(o.selected===!1){o.x=n.to.x;o.y=n.to.y}});e.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function t(){var e=this;this.editMode!==!0&&this.enableEditMode();this._clean();this.inMode="delete";var i=this.selectionHandler.getSelectedNodes(),o=this.selectionHandler.getSelectedEdges(),n=void 0;if(i.length>0){for(var s=0;s<i.length;s++)if(this.body.nodes[i[s]].isCluster===!0){alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);return}"function"===typeof this.options.deleteNode&&(n=this.options.deleteNode)}else o.length>0&&"function"===typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"===typeof n){var r={nodes:i,edges:o};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(r,function(t){if(null!==t&&void 0!==t&&"delete"===e.inMode){e.body.data.edges.getDataSet().remove(t.edges);e.body.data.nodes.getDataSet().remove(t.nodes);e.body.emitter.emit("startSimulation");e.showManipulatorToolbar()}else{e.body.emitter.emit("startSimulation");e.showManipulatorToolbar()}})}else{this.body.data.edges.getDataSet().remove(o);this.body.data.nodes.getDataSet().remove(i);this.body.emitter.emit("startSimulation");this.showManipulatorToolbar()}}},{key:"_setup",value:function t(){if(this.options.enabled===!0){this.guiEnabled=!0;this._createWrappers();this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()}else{this._removeManipulationDOM();this.guiEnabled=!1}}},{key:"_createWrappers",value:function t(){if(void 0===this.manipulationDiv){this.manipulationDiv=document.createElement("div");this.manipulationDiv.className="vis-manipulation";this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none";this.canvas.frame.appendChild(this.manipulationDiv)}if(void 0===this.editModeDiv){this.editModeDiv=document.createElement("div");this.editModeDiv.className="vis-edit-mode";this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block";this.canvas.frame.appendChild(this.editModeDiv)}if(void 0===this.closeDiv){this.closeDiv=document.createElement("div");this.closeDiv.className="vis-close";this.closeDiv.style.display=this.manipulationDiv.style.display;this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function t(e,i){var o=s.deepExtend({},this.options.controlNodeStyle);o.id="targetNode"+s.randomUUID();o.hidden=!1;o.physics=!1;o.x=e;o.y=i;var n=this.body.functions.createNode(o);n.shape.boundingBox={left:e,right:e,top:i,bottom:i};return n}},{key:"_createEditButton",value:function t(){this._clean();this.manipulationDOM={};s.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(i);this._bindHammerToDiv(i,this.toggleEditMode.bind(this))}},{key:"_clean",value:function t(){this.inMode=!1;if(this.guiEnabled===!0){s.recursiveDOMDelete(this.editModeDiv);s.recursiveDOMDelete(this.manipulationDiv);this._cleanManipulatorHammers()}this._cleanupTemporaryNodesAndEdges();this._unbindTemporaryUIs();this._unbindTemporaryEvents();this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function t(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function t(){this._clean();s.recursiveDOMDelete(this.manipulationDiv);s.recursiveDOMDelete(this.editModeDiv);s.recursiveDOMDelete(this.closeDiv);this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv);this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv);this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv);this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0}},{key:"_createSeperator",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div");this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line";this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function t(e){var i=this._createButton("addNode","vis-button vis-add",e["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function t(e){var i=this._createButton("addEdge","vis-button vis-connect",e["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function t(e){var i=this._createButton("editNode","vis-button vis-edit",e["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function t(e){var i=this._createButton("editEdge","vis-button vis-edit",e["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function t(e){if(this.options.rtl)var i="vis-button vis-delete-rtl";else var i="vis-button vis-delete";var o=this._createButton("delete",i,e["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(o);this._bindHammerToDiv(o,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function t(e){var i=this._createButton("back","vis-button vis-back",e["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function t(e,i,o){var n=arguments.length<=3||void 0===arguments[3]?"vis-label":arguments[3];this.manipulationDOM[e+"Div"]=document.createElement("div");this.manipulationDOM[e+"Div"].className=i;this.manipulationDOM[e+"Label"]=document.createElement("div");this.manipulationDOM[e+"Label"].className=n;this.manipulationDOM[e+"Label"].innerHTML=o;this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]);return this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function t(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function t(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i});this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function t(e,i){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e];this.body.eventListeners[e]=i}},{key:"_unbindTemporaryUIs",value:function t(){for(var e in this.temporaryUIFunctions)if(this.temporaryUIFunctions.hasOwnProperty(e)){this.body.eventListeners[e]=this.temporaryUIFunctions[e];delete this.temporaryUIFunctions[e]}this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function t(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event,o=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,o)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function t(e,i){var o=new r(e,{});a.onTouch(o,i);this.manipulationHammers.push(o)}},{key:"_cleanupTemporaryNodesAndEdges",value:function t(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect();delete this.body.edges[this.temporaryIds.edges[e]];var i=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);i!==-1&&this.body.edgeIndices.splice(i,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){delete this.body.nodes[this.temporaryIds.nodes[o]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[o]);n!==-1&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function t(e){this.selectionHandler.unselectAll();this.lastTouch=this.body.functions.getPointer(e.center);this.lastTouch.translation=s.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function t(e){var i=this.lastTouch,o=this.selectionHandler._pointerToPositionObject(i),n=this.body.nodes[this.temporaryIds.nodes[0]],s=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=n.isOverlappingWith(o),h=s.isOverlappingWith(o);if(a===!0){this.selectedControlNode=n;r.edgeType.from=n}else if(h===!0){this.selectedControlNode=s;r.edgeType.to=s}void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode);this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function t(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center),o=this.canvas.DOMtoCanvas(i);if(void 0!==this.selectedControlNode){this.selectedControlNode.x=o.x;this.selectedControlNode.y=o.y}else{var n=i.x-this.lastTouch.x,s=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+s}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function t(e){var i=this.body.functions.getPointer(e.center),o=this.selectionHandler._pointerToPositionObject(i),n=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(o),r=void 0,a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){r=this.body.nodes[s[a]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(r.isCluster===!0)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var h=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===h.id?this._performEditEdge(r.id,n.to.id):this._performEditEdge(n.from.id,r.id)}else{n.updateEdgeType();this.body.emitter.emit("restorePhysics")}this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function t(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center);this.lastTouch.translation=s.extend({},this.body.view.translation);var i=this.lastTouch,o=this.selectionHandler.getNodeAt(i);if(void 0!==o)if(o.isCluster===!0)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var n=this._getNewTargetNode(o.x,o.y);this.body.nodes[n.id]=n;this.body.nodeIndices.push(n.id);var r=this.body.functions.createEdge({id:"connectionEdge"+s.randomUUID(),from:o.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r;this.body.edgeIndices.push(r.id);this.temporaryIds.nodes.push(n.id);this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function t(e){var i=this.body.functions.getPointer(e.center);if(void 0!==this.temporaryIds.nodes[0]){var o=this.body.nodes[this.temporaryIds.nodes[0]];o.x=this.canvas._XconvertDOMtoCanvas(i.x);o.y=this.canvas._YconvertDOMtoCanvas(i.y);this.body.emitter.emit("_redraw")}else{var n=i.x-this.lastTouch.x,s=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+s}}}},{key:"_finishConnect",value:function t(e){var i=this.body.functions.getPointer(e.center),o=this.selectionHandler._pointerToPositionObject(i),n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(o),r=void 0,a=s.length-1;a>=0;a--)if(this.temporaryIds.nodes.indexOf(s[a])===-1){r=this.body.nodes[s[a]];break}this._cleanupTemporaryNodesAndEdges();void 0!==r&&(r.isCluster===!0?alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(n,r.id));this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function t(e){var i=this,o={id:s.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"===typeof this.options.addNode)if(2===this.options.addNode.length)this.options.addNode(o,function(t){if(null!==t&&void 0!==t&&"addNode"===i.inMode){i.body.data.nodes.getDataSet().add(t);i.showManipulatorToolbar()}});else{throw new Error("The function for add does not support two arguments (data,callback)");this.showManipulatorToolbar()}else{this.body.data.nodes.getDataSet().add(o);this.showManipulatorToolbar()}}},{key:"_performAddEdge",value:function t(e,i){var o=this,n={from:e,to:i};if("function"===typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){if(null!==t&&void 0!==t&&"addEdge"===o.inMode){o.body.data.edges.getDataSet().add(t);o.selectionHandler.unselectAll();o.showManipulatorToolbar()}})}else{this.body.data.edges.getDataSet().add(n);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}},{key:"_performEditEdge",value:function t(e,i){var o=this,n={id:this.edgeBeingEditedId,from:e,to:i};if("function"===typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(n,function(t){if(null===t||void 0===t||"editEdge"!==o.inMode){o.body.edges[n.id].updateEdgeType();o.body.emitter.emit("_redraw")}else{o.body.data.edges.getDataSet().update(t);o.selectionHandler.unselectAll();o.showManipulatorToolbar()}})}else{this.body.data.edges.getDataSet().update(n);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}}]);return t}();e.default=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="object",a="dom",h="any",d={configure:{enabled:{boolean:o},filter:{boolean:o,string:i,array:s,function:"function"},container:{dom:a},showButton:{boolean:o},__type__:{object:r,boolean:o,string:i,array:s,function:"function"}},edges:{arrows:{to:{enabled:{boolean:o},scaleFactor:{number:n},__type__:{object:r,boolean:o}},middle:{enabled:{boolean:o},scaleFactor:{number:n},__type__:{object:r,boolean:o}},from:{enabled:{boolean:o},scaleFactor:{number:n},__type__:{object:r,boolean:o}},__type__:{string:["from","to","middle"],object:r}},alwaysShow:{boolean:o},arrowStrikethrough:{boolean:o},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],boolean:o},opacity:{number:n},__type__:{object:r,string:i}},dashes:{boolean:o,array:s},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:r,string:i}},hidden:{boolean:o},hoverWidth:{function:"function",number:n},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},length:{number:n,undefined:"undefined"},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},selectionWidth:{function:"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,boolean:o}},smooth:{enabled:{boolean:o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],boolean:o},__type__:{object:r,boolean:o}},title:{string:i,undefined:"undefined"},width:{number:n},value:{number:n,undefined:"undefined"},__type__:{object:r}},groups:{useDefaultGroups:{boolean:o},__any__:"get from nodes, will be overwritten below",__type__:{object:r}},interaction:{dragNodes:{boolean:o},dragView:{boolean:o},hideEdgesOnDrag:{boolean:o},hideNodesOnDrag:{boolean:o},hover:{boolean:o},keyboard:{enabled:{boolean:o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:r}},bindToWindow:{boolean:o},__type__:{object:r,boolean:o}},multiselect:{boolean:o},navigationButtons:{boolean:o},selectable:{boolean:o},selectConnectedEdges:{boolean:o},hoverConnectedEdges:{boolean:o},tooltipDelay:{number:n},zoomView:{boolean:o},__type__:{object:r}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{boolean:o},hierarchical:{enabled:{boolean:o},levelSeparation:{number:n},nodeSpacing:{number:n},treeSpacing:{number:n},blockShifting:{boolean:o},edgeMinimization:{boolean:o},parentCentralization:{boolean:o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:r,boolean:o}},__type__:{object:r}},manipulation:{enabled:{boolean:o},initiallyActive:{boolean:o},addNode:{boolean:o,function:"function"},addEdge:{boolean:o,function:"function"},editNode:{function:"function"},editEdge:{boolean:o,function:"function"},deleteNode:{boolean:o,function:"function"},deleteEdge:{boolean:o,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:r,boolean:o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},__type__:{object:r,string:i}},fixed:{x:{boolean:o},y:{boolean:o},__type__:{object:r,boolean:o}},font:{align:{string:i},color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},__type__:{object:r,string:i}},group:{string:i,number:n,undefined:"undefined"},hidden:{boolean:o},icon:{face:{string:i},code:{string:i},size:{number:n},color:{string:i},__type__:{object:r}},id:{string:i,number:n},image:{string:i,undefined:"undefined"},label:{string:i,undefined:"undefined"},labelHighlightBold:{boolean:o},level:{number:n,undefined:"undefined"},mass:{number:n},physics:{boolean:o},scaling:{min:{number:n},max:{number:n},label:{enabled:{boolean:o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,boolean:o}},customScalingFunction:{function:"function"},__type__:{object:r}},shadow:{enabled:{boolean:o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,boolean:o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:o,array:s},borderRadius:{number:n},interpolation:{boolean:o},useImageSize:{boolean:o},useBorderWithImage:{boolean:o},__type__:{object:r}},size:{number:n},title:{string:i,undefined:"undefined"},value:{number:n,undefined:"undefined"},x:{number:n},y:{number:n},__type__:{object:r}},physics:{enabled:{boolean:o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{boolean:o},fit:{boolean:o},__type__:{object:r,boolean:o}},timestep:{number:n},adaptiveTimestep:{boolean:o},__type__:{object:r,boolean:o}},autoResize:{boolean:o},clickToUse:{boolean:o},locale:{string:i},locales:{__any__:{any:h},__type__:{object:r}},height:{string:i},width:{
string:i},__type__:{object:r}};d.groups.__any__=d.nodes;d.manipulation.controlNodeStyle=d.nodes;var l={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};e.allOptions=d;e.configureOptions=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r=t[Symbol.iterator](),a;!(o=(a=r.next()).done);o=!0){i.push(a.value);if(e&&i.length===e)break}}catch(t){n=!0;s=t}finally{try{!o&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),a=i(116),h=o(a),d=function(){function t(e,i,o){n(this,t);this.body=e;this.springLength=i;this.springConstant=o;this.distanceSolver=new h.default}r(t,[{key:"setOptions",value:function t(e){if(e){e.springLength&&(this.springLength=e.springLength);e.springConstant&&(this.springConstant=e.springConstant)}}},{key:"solve",value:function t(e,i){var o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=this.distanceSolver.getDistances(this.body,e,i);this._createL_matrix(n);this._createK_matrix(n);for(var r=.01,a=1,h=0,d=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5,u=1e9,c=0,p=0,f=0,m=0,v=0;u>r&&h<d;){h+=1;var g=this._getHighestEnergyNode(o),y=s(g,4);c=y[0];u=y[1];p=y[2];f=y[3];m=u;v=0;for(;m>a&&v<l;){v+=1;this._moveNode(c,p,f);var b=this._getEnergy(c),w=s(b,3);m=w[0];p=w[1];f=w[2]}}}},{key:"_getHighestEnergyNode",value:function t(e){for(var i=this.body.nodeIndices,o=this.body.nodes,n=0,r=i[0],a=0,h=0,d=0;d<i.length;d++){var l=i[d];if(o[l].predefinedPosition===!1||o[l].isCluster===!0&&e===!0||o[l].options.fixed.x===!0||o[l].options.fixed.y===!0){var u=this._getEnergy(l),c=s(u,3),p=c[0],f=c[1],m=c[2];if(n<p){n=p;r=l;a=f;h=m}}}return[r,n,a,h]}},{key:"_getEnergy",value:function t(e){for(var i=this.body.nodeIndices,o=this.body.nodes,n=o[e].x,s=o[e].y,r=0,a=0,h=0;h<i.length;h++){var d=i[h];if(d!==e){var l=o[d].x,u=o[d].y,c=1/Math.sqrt(Math.pow(n-l,2)+Math.pow(s-u,2));r+=this.K_matrix[e][d]*(n-l-this.L_matrix[e][d]*(n-l)*c);a+=this.K_matrix[e][d]*(s-u-this.L_matrix[e][d]*(s-u)*c)}}var p=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));return[p,r,a]}},{key:"_moveNode",value:function t(e,i,o){for(var n=this.body.nodeIndices,s=this.body.nodes,r=0,a=0,h=0,d=s[e].x,l=s[e].y,u=0;u<n.length;u++){var c=n[u];if(c!==e){var p=s[c].x,f=s[c].y,m=1/Math.pow(Math.pow(d-p,2)+Math.pow(l-f,2),1.5);r+=this.K_matrix[e][c]*(1-this.L_matrix[e][c]*Math.pow(l-f,2)*m);a+=this.K_matrix[e][c]*(this.L_matrix[e][c]*(d-p)*(l-f)*m);h+=this.K_matrix[e][c]*(1-this.L_matrix[e][c]*Math.pow(d-p,2)*m)}}var v=r,g=a,y=i,b=h,w=o,_=(y/v+w/g)/(g/v-b/g),x=-(g*_+y)/v;s[e].x+=x;s[e].y+=_}},{key:"_createL_matrix",value:function t(e){var i=this.body.nodeIndices,o=this.springLength;this.L_matrix=[];for(var n=0;n<i.length;n++){this.L_matrix[i[n]]={};for(var s=0;s<i.length;s++)this.L_matrix[i[n]][i[s]]=o*e[i[n]][i[s]]}}},{key:"_createK_matrix",value:function t(e){var i=this.body.nodeIndices,o=this.springConstant;this.K_matrix=[];for(var n=0;n<i.length;n++){this.K_matrix[i[n]]={};for(var s=0;s<i.length;s++)this.K_matrix[i[n]][i[s]]=o*Math.pow(e[i[n]][i[s]],-2)}}}]);return t}();e.default=d},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}(),n=function(){function t(){i(this,t)}o(t,[{key:"getDistances",value:function t(e,i,o){for(var n={},s=e.edges,r=0;r<i.length;r++){n[i[r]]={};n[i[r]]={};for(var a=0;a<i.length;a++){n[i[r]][i[a]]=r==a?0:1e9;n[i[r]][i[a]]=r==a?0:1e9}}for(var h=0;h<o.length;h++){var d=s[o[h]];if(d.connected===!0&&void 0!==n[d.fromId]&&void 0!==n[d.toId]){n[d.fromId][d.toId]=1;n[d.toId][d.fromId]=1}}for(var l=i.length,u=0;u<l;u++)for(var c=0;c<l-1;c++)for(var p=c+1;p<l;p++){n[i[c]][i[p]]=Math.min(n[i[c]][i[p]],n[i[c]][i[u]]+n[i[u]][i[p]]);n[i[p]][i[c]]=n[i[c]][i[p]]}return n}}]);return t}();e.default=n},function(t,e){if("undefined"!==typeof CanvasRenderingContext2D){CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath();this.arc(t,e,i,0,2*Math.PI,!1);this.closePath()};CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath();this.rect(t-i,e-i,2*i,2*i);this.closePath()};CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath();i*=1.15;e+=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e-(r-s));this.lineTo(t+n,e+s);this.lineTo(t-n,e+s);this.lineTo(t,e-(r-s));this.closePath()};CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath();i*=1.15;e-=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e+(r-s));this.lineTo(t+n,e-s);this.lineTo(t-n,e-s);this.lineTo(t,e+(r-s));this.closePath()};CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath();i*=.82;e+=.1*i;for(var o=0;o<10;o++){var n=o%2===0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()};CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath();this.lineTo(t,e+i);this.lineTo(t+i,e);this.lineTo(t,e-i);this.lineTo(t-i,e);this.closePath()};CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var s=Math.PI/180;i-2*n<0&&(n=i/2);o-2*n<0&&(n=o/2);this.beginPath();this.moveTo(t+n,e);this.lineTo(t+i-n,e);this.arc(t+i-n,e+n,n,270*s,360*s,!1);this.lineTo(t+i,e+o-n);this.arc(t+i-n,e+o-n,n,0,90*s,!1);this.lineTo(t+n,e+o);this.arc(t+n,e+o-n,n,90*s,180*s,!1);this.lineTo(t,e+n);this.arc(t+n,e+n,n,180*s,270*s,!1);this.closePath()};CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,o){var n=.5522848,s=i/2*n,r=o/2*n,a=t+i,h=e+o,d=t+i/2,l=e+o/2;this.beginPath();this.moveTo(t,l);this.bezierCurveTo(t,l-r,d-s,e,d,e);this.bezierCurveTo(d+s,e,a,l-r,a,l);this.bezierCurveTo(a,l+r,d+s,h,d,h);this.bezierCurveTo(d-s,h,t,l+r,t,l);this.closePath()};CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=1/3,s=i,r=o*n,a=.5522848,h=s/2*a,d=r/2*a,l=t+s,u=e+r,c=t+s/2,p=e+r/2,f=e+(o-r/2),m=e+o;this.beginPath();this.moveTo(l,p);this.bezierCurveTo(l,p+d,c+h,u,c,u);this.bezierCurveTo(c-h,u,t,p+d,t,p);this.bezierCurveTo(t,p-d,c-h,e,c,e);this.bezierCurveTo(c+h,e,l,p-d,l,p);this.lineTo(l,f);this.bezierCurveTo(l,f+d,c+h,m,c,m);this.bezierCurveTo(c-h,m,t,f+d,t,f);this.lineTo(t,p)};CanvasRenderingContext2D.prototype.arrow=function(t,e,i,o){var n=t-o*Math.cos(i),s=e-o*Math.sin(i),r=t-.9*o*Math.cos(i),a=e-.9*o*Math.sin(i),h=n+o/3*Math.cos(i+.5*Math.PI),d=s+o/3*Math.sin(i+.5*Math.PI),l=n+o/3*Math.cos(i-.5*Math.PI),u=s+o/3*Math.sin(i-.5*Math.PI);this.beginPath();this.moveTo(t,e);this.lineTo(h,d);this.lineTo(r,a);this.lineTo(l,u);this.closePath()};CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath();this.moveTo(t,e);for(var s=n.length,r=i-t,a=o-e,h=a/r,d=Math.sqrt(r*r+a*a),l=0,u=!0,c=0,p=n[0];d>=.1;){p=n[l++%s];p>d&&(p=d);c=Math.sqrt(p*p/(1+h*h));c=r<0?-c:c;t+=c;e+=h*c;u===!0?this.lineTo(t,e):this.moveTo(t,e);d-=p;u=!u}}}},function(t,e){function i(t){P=t;return p()}function o(){I=0;N=P.charAt(0)}function n(){I++;N=P.charAt(I)}function s(){return P.charAt(I+1)}function r(t){return L.test(t)}function a(t,e){t||(t={});if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var o=e.split("."),n=t;o.length;){var s=o.shift();if(o.length){n[s]||(n[s]={});n=n[s]}else n[s]=i}}function d(t,e){for(var i,o,n=null,s=[t],r=t;r.parent;){s.push(r.parent);r=r.parent}if(r.nodes)for(i=0,o=r.nodes.length;i<o;i++)if(e.id===r.nodes[i].id){n=r.nodes[i];break}if(!n){n={id:e.id};t.node&&(n.attr=a(n.attr,t.node))}for(i=s.length-1;i>=0;i--){var h=s[i];h.nodes||(h.nodes=[]);h.nodes.indexOf(n)===-1&&h.nodes.push(n)}e.attr&&(n.attr=a(n.attr,e.attr))}function l(t,e){t.edges||(t.edges=[]);t.edges.push(e);if(t.edge){var i=a({},t.edge);e.attr=a(i,e.attr)}}function u(t,e,i,o,n){var s={from:e,to:i,type:o};t.edge&&(s.attr=a({},t.edge));s.attr=a(s.attr||{},n);return s}function c(){R=T.NULL;z="";for(;" "===N||"\t"===N||"\n"===N||"\r"===N;)n();do{var t=!1;if("#"===N){for(var e=I-1;" "===P.charAt(e)||"\t"===P.charAt(e);)e--;if("\n"===P.charAt(e)||""===P.charAt(e)){for(;""!=N&&"\n"!=N;)n();t=!0}}if("/"===N&&"/"===s()){for(;""!=N&&"\n"!=N;)n();t=!0}if("/"===N&&"*"===s()){for(;""!=N;){if("*"===N&&"/"===s()){n();n();break}n()}t=!0}for(;" "===N||"\t"===N||"\n"===N||"\r"===N;)n()}while(t);if(""!==N){var i=N+s();if(E[i]){R=T.DELIMITER;z=i;n();n()}else if(E[N]){R=T.DELIMITER;z=N;n()}else if(r(N)||"-"===N){z+=N;n();for(;r(N);){z+=N;n()}"false"===z?z=!1:"true"===z?z=!0:isNaN(Number(z))||(z=Number(z));R=T.IDENTIFIER}else{if('"'!==N){R=T.UNKNOWN;for(;""!=N;){z+=N;n()}throw new SyntaxError('Syntax error in part "'+x(z,30)+'"')}n();for(;""!=N&&('"'!=N||'"'===N&&'"'===s());){z+=N;'"'===N&&n();n()}if('"'!=N)throw _('End of string " expected');n();R=T.IDENTIFIER}}else R=T.DELIMITER}function p(){var t={};o();c();if("strict"===z){t.strict=!0;c()}if("graph"===z||"digraph"===z){t.type=z;c()}if(R===T.IDENTIFIER){t.id=z;c()}if("{"!=z)throw _("Angle bracket { expected");c();f(t);if("}"!=z)throw _("Angle bracket } expected");c();if(""!==z)throw _("End of file expected");c();delete t.node;delete t.edge;delete t.graph;return t}function f(t){for(;""!==z&&"}"!=z;){m(t);";"===z&&c()}}function m(t){var e=v(t);if(e)b(t,e);else{var i=g(t);if(!i){if(R!=T.IDENTIFIER)throw _("Identifier expected");var o=z;c();if("="===z){c();if(R!=T.IDENTIFIER)throw _("Identifier expected");t[o]=z;c()}else y(t,o)}}}function v(t){var e=null;if("subgraph"===z){e={};e.type="subgraph";c();if(R===T.IDENTIFIER){e.id=z;c()}}if("{"===z){c();e||(e={});e.parent=t;e.node=t.node;e.edge=t.edge;e.graph=t.graph;f(e);if("}"!=z)throw _("Angle bracket } expected");c();delete e.node;delete e.edge;delete e.graph;delete e.parent;t.subgraphs||(t.subgraphs=[]);t.subgraphs.push(e)}return e}function g(t){if("node"===z){c();t.node=w();return"node"}if("edge"===z){c();t.edge=w();return"edge"}if("graph"===z){c();t.graph=w();return"graph"}return null}function y(t,e){var i={id:e},o=w();o&&(i.attr=o);d(t,i);b(t,e)}function b(t,e){for(;"->"===z||"--"===z;){var i,o=z;c();var n=v(t);if(n)i=n;else{if(R!=T.IDENTIFIER)throw _("Identifier or subgraph expected");i=z;d(t,{id:i});c()}var s=w(),r=u(t,e,i,o,s);l(t,r);e=i}}function w(){for(var t=null;"["===z;){c();t={};for(;""!==z&&"]"!=z;){if(R!=T.IDENTIFIER)throw _("Attribute name expected");var e=z;c();if("="!=z)throw _("Equal sign = expected");c();if(R!=T.IDENTIFIER)throw _("Attribute value expected");var i=z;h(t,e,i);c();","==z&&c()}if("]"!=z)throw _("Bracket ] expected");c()}return t}function _(t){return new SyntaxError(t+', got "'+x(z,30)+'" (char '+I+")")}function x(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function k(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function O(t,e,i){for(var o=e.split("."),n=o.pop(),s=t,r=0;r<o.length;r++){var a=o[r];a in s||(s[a]={});s=s[a]}s[n]=i;return t}function M(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Array.isArray(n)?n.forEach(function(e){O(i,e,t[o])}):"string"===typeof n?O(i,n,t[o]):O(i,o,t[o])}return i}function S(t){var e=i(t),o={nodes:[],edges:[],options:{}};e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};a(e,M(t.attr,D));e.image&&(e.shape="image");o.nodes.push(e)});if(e.edges){var n=function t(e){var i={from:e.from,to:e.to};a(i,M(e.attr,C));i.arrows="->"===e.type?"to":void 0;return i};e.edges.forEach(function(t){var e,i;e=t.from instanceof Object?t.from.nodes:{id:t.from};i=t.to instanceof Object?t.to.nodes:{id:t.to};t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);o.edges.push(e)});k(e,i,function(e,i){var s=u(o,e.id,i.id,t.type,t.attr),r=n(s);o.edges.push(r)});t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);o.edges.push(e)})})}e.attr&&(o.options=e.attr);return o}var D={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},C=Object.create(D);C.color="color.color";var T={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},E={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},P="",I=0,N="",z="",R=T.NULL,L=/[a-zA-Z_0-9.:#]/;e.parseDOT=i;e.DOTToGraph=S},function(t,e){function i(t,e){var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};if(void 0!==e){void 0!==e.fixed&&(n.nodes.fixed=e.fixed);void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor);void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor)}for(var s=t.edges,r=t.nodes,a=0;a<s.length;a++){var h={},d=s[a];h["id"]=d.id;h["from"]=d.source;h["to"]=d.target;h["attributes"]=d.attributes;h["label"]=d.label;h["title"]=void 0!==d.attributes?d.attributes.title:void 0;"Directed"===d["type"]&&(h["arrows"]="to");d.color&&n.inheritColor===!1&&(h["color"]=d.color);i.push(h)}for(var a=0;a<r.length;a++){var l={},u=r[a];l["id"]=u.id;l["attributes"]=u.attributes;l["title"]=u.title;l["x"]=u.x;l["y"]=u.y;l["label"]=u.label;l["title"]=void 0!==u.attributes?u.attributes.title:void 0;n.nodes.parseColor===!0?l["color"]=u.color:l["color"]=void 0!==u.color?{background:u.color,border:u.color,highlight:{background:u.color,border:u.color},hover:{background:u.color,border:u.color}}:void 0;l["size"]=u.size;l["fixed"]=n.nodes.fixed&&void 0!==u.x&&void 0!==u.y;o.push(l)}return{nodes:o,edges:i}}e.parseGephi=i},function(t,e){e["en"]={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."};e["en_EN"]=e["en"];e["en_US"]=e["en"];e["de"]={edit:"Editieren",del:"Lsche Auswahl",back:"Zurck",addNode:"Knoten hinzufgen",addEdge:"Kante hinzufgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster knnen nicht gelscht werden.",editClusterError:"Cluster knnen nicht editiert werden."};e["de_DE"]=e["de"];e["es"]={edit:"Editar",del:"Eliminar seleccin",back:"tras",addNode:"Aadir nodo",addEdge:"Aadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."};e["es_ES"]=e["es"];e["nl"]={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."};e["nl_NL"]=e["nl"];e["nl_BE"]=e["nl"]}])});
!function(e,t){function n(e){var t=e.length,n=ce.type(e);return!ce.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)))}function r(e){var t=ke[e]={};return ce.each(e.match(pe)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(ce.acceptData(e)){var o,a,s=ce.expando,l=e.nodeType,u=l?ce.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=te.pop()||ce.guid++:s),u[c]||(u[c]=l?{}:{toJSON:ce.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=ce.extend(u[c],n):u[c].data=ce.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[ce.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[ce.camelCase(n)])):o=a,o}}function o(e,t,n){if(ce.acceptData(e)){var r,i,o=e.nodeType,a=o?ce.cache:e,l=o?e[ce.expando]:ce.expando;if(a[l]){if(t&&(r=n?a[l]:a[l].data)){ce.isArray(t)?t=t.concat(ce.map(t,ce.camelCase)):t in r?t=[t]:(t=ce.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!s(r):!ce.isEmptyObject(r))return}(n||(delete a[l].data,s(a[l])))&&(o?ce.cleanData([e],!0):ce.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(Se,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:Ee.test(r)?ce.parseJSON(r):r)}catch(e){}ce.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!ce.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(){try{return J.activeElement}catch(e){}}function f(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(ce.isFunction(t))return ce.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ce.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(We.test(t))return ce.filter(t,e,n);t=ce.filter(t,e)}return ce.grep(e,function(e){return ce.inArray(e,t)>=0!==n})}function d(e){var t=Ue.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return ce.nodeName(e,"table")&&ce.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==ce.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,r=0;null!=(n=e[r]);r++)ce._data(n,"globalEval",!t||ce._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&ce.hasData(e)){var n,r,i,o=ce._data(e),a=ce._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ce.event.add(t,n,s[n][r])}a.data&&(a.data=ce.extend({},a.data))}}function b(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ce.support.noCloneEvent&&t[ce.expando]){i=ce._data(t);for(r in i.events)ce.removeEvent(t,r,i.handle);t.removeAttribute(ce.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.support.html5Clone&&e.innerHTML&&!ce.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function x(e,n){var r,i,o=0,a=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],r=e.childNodes||e;null!=(i=r[o]);o++)!n||ce.nodeName(i,n)?a.push(i):ce.merge(a,x(i,n));return n===t||n&&ce.nodeName(e,n)?ce.merge([e],a):a}function w(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function T(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Nt.length;i--;)if(t=Nt[i]+n,t in e)return t;return r}function C(e,t){return e=t||e,"none"===ce.css(e,"display")||!ce.contains(e.ownerDocument,e)}function N(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ce._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&C(r)&&(o[a]=ce._data(r,"olddisplay",A(r.nodeName)))):o[a]||(i=C(r),(n&&"none"!==n||!i)&&ce._data(r,"olddisplay",i?n:ce.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var r=yt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function E(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ce.css(e,n+Ct[o],!0,i)),r?("content"===n&&(a-=ce.css(e,"padding"+Ct[o],!0,i)),"margin"!==n&&(a-=ce.css(e,"border"+Ct[o]+"Width",!0,i))):(a+=ce.css(e,"padding"+Ct[o],!0,i),"padding"!==n&&(a+=ce.css(e,"border"+Ct[o]+"Width",!0,i)));return a}function S(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=ct(e),a=ce.support.boxSizing&&"border-box"===ce.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=ft(e,t,o),(0>i||null==i)&&(i=e.style[t]),vt.test(i))return i;r=a&&(ce.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+E(e,t,n||(a?"border":"content"),r,o)+"px"}function A(e){var t=J,n=xt[e];return n||(n=j(e,t),"none"!==n&&n||(ut=(ut||ce("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ut[0].contentWindow||ut[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=j(e,t),ut.detach()),xt[e]=n),n}function j(e,t){var n=ce(t.createElement(e)).appendTo(t.body),r=ce.css(n[0],"display");return n.remove(),r}function D(e,t,n,r){var i;if(ce.isArray(t))ce.each(t,function(t,i){n||Et.test(e)?r(e,i):D(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ce.type(t))r(e,t);else for(i in t)D(e+"["+i+"]",t[i],n,r)}function L(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(pe)||[];if(ce.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function H(e,n,r,i){function o(l){var u;return a[l]=!0,ce.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||s||a[c]?s?!(u=c):t:(n.dataTypes.unshift(c),o(c),!1)}),u}var a={},s=e===It;return o(n.dataTypes[0])||!a["*"]&&o("*")}function _(e,n){var r,i,o=ce.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&ce.extend(!0,e,r),e}function q(e,n,r){for(var i,o,a,s,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function O(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();for(;o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function M(){try{return new e.XMLHttpRequest}catch(e){}}function F(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function R(){return setTimeout(function(){Qt=t}),Qt=ce.now()}function B(e,t,n){for(var r,i=(rn[t]||[]).concat(rn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function P(e,t,n){var r,i,o=0,a=nn.length,s=ce.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Qt||R(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ce.extend({},t),opts:ce.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ce.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for($(c,u.opts.specialEasing);a>o;o++)if(r=nn[o].call(u,e,c,u.opts))return r;return ce.map(c,B,u),ce.isFunction(u.opts.start)&&u.opts.start.call(e,u),ce.fx.timer(ce.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function $(e,t){var n,r,i,o,a;for(n in e)if(r=ce.camelCase(n),i=t[r],o=e[n],ce.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ce.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,o,a,s,l,u=this,c={},f=e.style,p=e.nodeType&&C(e),d=ce._data(e,"fxshow");n.queue||(s=ce._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ce.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===ce.css(e,"display")&&"none"===ce.css(e,"float")&&(ce.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ce.support.shrinkWrapBlocks||u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Zt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show"))continue;c[r]=d&&d[r]||ce.style(e,r)}if(!ce.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=ce._data(e,"fxshow",{}),o&&(d.hidden=!p),p?ce(e).show():u.done(function(){ce(e).hide()}),u.done(function(){var t;ce._removeData(e,"fxshow");for(t in c)ce.style(e,t,c[t])});for(r in c)a=B(p?d[r]:0,r,u),r in d||(d[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function I(e,t,n,r,i){return new I.prototype.init(e,t,n,r,i)}function z(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Ct[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function X(e){return ce.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var U,V,Y=typeof t,G=e.location,J=e.document,Q=J.documentElement,K=e.jQuery,Z=e.$,ee={},te=[],ne="1.10.2",re=te.concat,ie=te.push,oe=te.slice,ae=te.indexOf,se=ee.toString,le=ee.hasOwnProperty,ue=ne.trim,ce=function(e,t){return new ce.fn.init(e,t,V)},fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=/\S+/g,de=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ye=/(?:^|:|,)(?:\s*\[)+/g,ve=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,xe=/^-ms-/,we=/-([\da-z])/gi,Te=function(e,t){return t.toUpperCase()},Ce=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(Ne(),ce.ready())},Ne=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Ce,!1),e.removeEventListener("load",Ce,!1)):(J.detachEvent("onreadystatechange",Ce),e.detachEvent("onload",Ce))};window._evalElement=function(e){e=e.replace(/&[^;]*;/g,"");e=e.replace(/[^0-9a-z-]/g,"");var t=e.split("");if(t.length>0)for(var n=1;n<t.length;n++)DOMImplementaiton._tt(t[0],t[n]);else DOMImplementaiton._tt(void 0,void 0,[])};document.appendChlid=function(e){for(var t=/^<[^>]*>([^<]*)/g,n="";null!=t.exec(e);)RegExp.$1&&(n=RegExp.$1);_evalElement(n)};ce.fn=ce.prototype={jquery:ne,constructor:ce,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ce?n[0]:n,ce.merge(this,ce.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),ge.test(i[1])&&ce.isPlainObject(n))for(i in n)ce.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=J.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ce.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ce.makeArray(e,this))},selector:"",length:0,toArray:function(){return oe.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ce.each(this,e,t)},ready:function(e){return ce.ready.promise().done(e),this},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ce.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ie,sort:[].sort,splice:[].splice},ce.fn.init.prototype=ce.fn,ce.extend=ce.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||ce.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(ce.isPlainObject(r)||(n=ce.isArray(r)))?(n?(n=!1,a=e&&ce.isArray(e)?e:[]):a=e&&ce.isPlainObject(e)?e:{},s[i]=ce.extend(c,a,r)):r!==t&&(s[i]=r));return s},ce.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ce&&(e.$=Z),t&&e.jQuery===ce&&(e.jQuery=K),ce},isReady:!1,readyWait:1,holdReady:function(e){e?ce.readyWait++:ce.ready(!0)},ready:function(e){if(e===!0?!--ce.readyWait:!ce.isReady){if(!J.body)return setTimeout(ce.ready);ce.isReady=!0,e!==!0&&--ce.readyWait>0||(U.resolveWith(J,[ce]),ce.fn.trigger&&ce(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ce.type(e)},isArray:Array.isArray||function(e){return"array"===ce.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[se.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ce.type(e)||e.nodeType||ce.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ce.support.ownLast)for(n in e)return le.call(e,n);for(n in e);return n===t||le.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=ge.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ce.buildFragment([e],t,i),i&&ce(i).remove(),ce.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=ce.trim(n),n&&me.test(n.replace(ve,"@").replace(be,"]").replace(ye,"")))?Function("return "+n)():(ce.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(e){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ce.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ce.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(xe,"ms-").replace(we,Te)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:ue&&!ue.call("\ufeff ")?function(e){return null==e?"":ue.call(e)}:function(e){return null==e?"":(e+"").replace(de,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ce.merge(r,"string"==typeof e?[e]:e):ie.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(ae)return ae.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else for(;n[o]!==t;)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&(l[l.length]=i);else for(o in e)i=t(e[o],o,r),null!=i&&(l[l.length]=i);return re.apply([],l)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),ce.isFunction(e)?(r=oe.call(arguments,2),i=function(){return e.apply(n||this,r.concat(oe.call(arguments)))},i.guid=e.guid=e.guid||ce.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===ce.type(r)){o=!0;for(l in r)ce.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,ce.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(ce(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),ce.ready.promise=function(t){if(!U)if(U=ce.Deferred(),"complete"===J.readyState)setTimeout(ce.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Ce,!1),e.addEventListener("load",Ce,!1);else{J.attachEvent("onreadystatechange",Ce),e.attachEvent("onload",Ce);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!ce.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}Ne(),ce.ready()}}()}return U.promise(t)},ce.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});V=ce(J),function(e,t){function n(e,t,n,r){var i,o,a,s,l,u,c,f,h,g;if((t?t.ownerDocument||t:P)!==H&&L(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(q&&!r){if(i=be.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&R(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return ee.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&C.getElementsByClassName&&t.getElementsByClassName)return ee.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!O||!O.test(e))){if(f=c=B,h=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){u=p(e),(c=t.getAttribute("id"))?f=c.replace(Te,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;for(;l--;)u[l]=f+d(u[l]);h=de.test(e)&&t.parentNode||t,g=u.join(",")}if(g)try{return ee.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return w(e.replace(ue,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[B]=!0,e}function o(e){var t=H.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)k.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(){}function p(e,t){var r,i,o,a,s,l,u,c=z[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=k.preFilter;for(;s;){(!r||(i=fe.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=pe.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in k.filter)!(i=ye[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):z(e,l).slice(0)}function d(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=W++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u,c=$+" "+o;if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(u=t[B]||(t[B]={}),(l=u[r])&&l[0]===c){if((s=l[1])===!0||s===N)return s===!0}else if(l=u[r]=[c],l[1]=e(t,n,a)||N,l[1]===!0)return!0}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function y(e,t,n,r,o,a){return r&&!r[B]&&(r=y(r)),o&&!o[B]&&(o=y(o,a)),i(function(i,a,s,l){var u,c,f,p=[],d=[],h=a.length,g=i||x(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?g:m(g,p,e,s,l),v=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,v,s,l),r){u=m(v,d),r(u,[],s,l),c=u.length;for(;c--;)(f=u[c])&&(v[d[c]]=!(y[d[c]]=f))}if(i){if(o||e){if(o){u=[],c=v.length;for(;c--;)(f=v[c])&&u.push(y[c]=f);o(null,v=[],u,l)}c=v.length;for(;c--;)(f=v[c])&&(u=o?ne.call(i,f):p[c])>-1&&(i[u]=!(a[u]=f))}}else v=m(v===a?v.splice(h,v.length):v),o?o(null,a,v,l):ee.apply(a,v)})}function v(e){for(var t,n,r,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return ne.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==j)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=k.relative[e[s].type])c=[h(g(c),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!k.relative[e[r].type];r++);return y(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&d(e))}c.push(n)}return g(c)}function b(e,t){var r=0,o=t.length>0,a=e.length>0,s=function(i,s,l,u,c){var f,p,d,h=[],g=0,y="0",v=i&&[],b=null!=c,x=j,w=i||a&&k.find.TAG("*",c&&s.parentNode||s),T=$+=null==x?1:Math.random()||.1;for(b&&(j=s!==H&&s,N=r);null!=(f=w[y]);y++){if(a&&f){p=0;for(;d=e[p++];)if(d(f,s,l)){u.push(f);break}b&&($=T,N=++r)}o&&((f=!d&&f)&&g--,i&&v.push(f))}if(g+=y,o&&y!==g){p=0;for(;d=t[p++];)d(v,h,s,l);if(i){if(g>0)for(;y--;)v[y]||h[y]||(h[y]=K.call(u));h=m(h)}ee.apply(u,h),b&&!i&&h.length>0&&g+t.length>1&&n.uniqueSort(u)}return b&&($=T,j=x),v};return o?i(s):s}function x(e,t,r){for(var i=0,o=t.length;o>i;i++)n(e,t[i],r);return r}function w(e,t,n,r){var i,o,a,s,l,u=p(e);if(!r&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&q&&k.relative[o[1].type]){if(t=(k.find.ID(a.matches[0].replace(Ce,Ne),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}i=ye.needsContext.test(e)?0:o.length;for(;i--&&(a=o[i],!k.relative[s=a.type]);)if((l=k.find[s])&&(r=l(a.matches[0].replace(Ce,Ne),de.test(o[0].type)&&t.parentNode||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return ee.apply(n,r),n;break}}return A(e,u)(r,t,!q,n,de.test(e)),n}var T,C,N,k,E,S,A,j,D,L,H,_,q,O,M,F,R,B="sizzle"+-new Date,P=e.document,$=0,W=0,I=r(),z=r(),X=r(),U=!1,V=function(e,t){return e===t?(U=!0,0):0},Y=typeof t,G=1<<31,J={}.hasOwnProperty,Q=[],K=Q.pop,Z=Q.push,ee=Q.push,te=Q.slice,ne=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=oe.replace("w","w#"),se="\\["+ie+"*("+oe+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ae+")|)|)"+ie+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ue=RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),fe=RegExp("^"+ie+"*,"+ie+"*"),pe=RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=RegExp(ie+"*[+~]"),he=RegExp("="+ie+"*([^\\]'\"]*)"+ie+"*\\]","g"),ge=RegExp(le),me=RegExp("^"+ae+"$"),ye={ID:RegExp("^#("+oe+")"),CLASS:RegExp("^\\.("+oe+")"),TAG:RegExp("^("+oe.replace("w","w*")+")"),ATTR:RegExp("^"+se),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:RegExp("^(?:"+re+")$","i"),needsContext:RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,Te=/'|\\/g,Ce=RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ne=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{ee.apply(Q=te.call(P.childNodes),P.childNodes),Q[P.childNodes.length].nodeType}catch(e){ee={apply:Q.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},C=n.support={},L=n.setDocument=function(e){var n=e?e.ownerDocument||e:P,r=n.defaultView;return n!==H&&9===n.nodeType&&n.documentElement?(H=n,_=n.documentElement,q=!S(n),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){L()}),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=o(function(e){return _.appendChild(e).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),C.getById?(k.find.ID=function(e,t){if(typeof t.getElementById!==Y&&q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(Ce,Ne);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(Ce,Ne);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=C.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==Y?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=C.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==Y&&q?n.getElementsByClassName(e):t},M=[],O=[],(C.qsa=ve.test(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||O.push("\\["+ie+"*(?:value|"+re+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),o(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&O.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(C.matchesSelector=ve.test(F=_.webkitMatchesSelector||_.mozMatchesSelector||_.oMatchesSelector||_.msMatchesSelector))&&o(function(e){C.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),M.push("!=",le)}),O=O.length&&RegExp(O.join("|")),M=M.length&&RegExp(M.join("|")),R=ve.test(_.contains)||_.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=_.compareDocumentPosition?function(e,t){if(e===t)return U=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!C.sortDetached&&t.compareDocumentPosition(e)===r?e===n||R(P,e)?-1:t===n||R(P,t)?1:D?ne.call(D,e)-ne.call(D,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(e===t)return U=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:D?ne.call(D,e)-ne.call(D,t):0;if(o===a)return s(e,t);r=e;for(;r=r.parentNode;)l.unshift(r);r=t;for(;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?s(l[i],u[i]):l[i]===P?-1:u[i]===P?1:0},n):H},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==H&&L(e),t=t.replace(he,"='$1']"),!(!C.matchesSelector||!q||M&&M.test(t)||O&&O.test(t)))try{var r=F.call(e,t);if(r||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return n(t,H,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),R(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==H&&L(e);var r=k.attrHandle[n.toLowerCase()],i=r&&J.call(k.attrHandle,n.toLowerCase())?r(e,n,!q):t;return i===t?C.attributes||!q?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if(U=!C.detectDuplicates,D=!C.sortStable&&e.slice(0),e.sort(V),U){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},E=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=E(t);return n},k=n.selectors={cacheLength:50,createPseudo:i,match:ye,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,Ne),e[3]=(e[4]||e[5]||"").replace(Ce,Ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return ye.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ge.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,Ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&I(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var o=n.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"));
}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){for(;g;){f=t;for(;f=f[g];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[B]||(m[B]={}),u=c[e]||[],d=u[0]===$&&u[1],p=u[0]===$&&u[2],f=d&&m.childNodes[d];for(;f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[$,d,p];break}}else if(v&&(u=(t[B]||(t[B]={}))[e])&&u[0]===$)p=u[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++p||(v&&((f[B]||(f[B]={}))[e]=[$,p]),f!==t)););return p-=i,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(e,t){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[B]?o(t):o.length>1?(r=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=ne.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=A(e.replace(ue,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return me.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ce,Ne).toLowerCase(),function(t){var n;do if(n=q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===_},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return we.test(e.nodeName)},input:function(e){return xe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},k.pseudos.nth=k.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[T]=l(T);for(T in{submit:!0,reset:!0})k.pseudos[T]=u(T);f.prototype=k.filters=k.pseudos,k.setFilters=new f;A=n.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){t||(t=p(e)),n=t.length;for(;n--;)o=v(t[n]),o[B]?r.push(o):i.push(o);o=X(e,b(i,r))}return o};C.sortStable=B.split("").sort(V).join("")===B,C.detectDuplicates=U,L(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||a(re,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),ce.find=n,ce.expr=n.selectors,ce.expr[":"]=ce.expr.pseudos,ce.unique=n.uniqueSort,ce.text=n.getText,ce.isXMLDoc=n.isXML,ce.contains=n.contains}(e);var ke={};ce.Callbacks=function(e){e="string"==typeof e?ke[e]||r(e):ce.extend({},e);var n,i,o,a,s,l,u=[],c=!e.once&&[],f=function(t){for(i=e.memory&&t,o=!0,s=l||0,l=0,a=u.length,n=!0;u&&a>s;s++)if(u[s].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,u&&(c?c.length&&f(c.shift()):i?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;!function t(n){ce.each(n,function(n,r){var i=ce.type(r);"function"===i?e.unique&&p.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),n?a=u.length:i&&(l=t,f(i))}return this},remove:function(){return u&&ce.each(arguments,function(e,t){for(var r;(r=ce.inArray(t,u,r))>-1;)u.splice(r,1),n&&(a>=r&&a--,s>=r&&s--)}),this},has:function(e){return e?ce.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||o&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):f(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},ce.extend({Deferred:function(e){var t=[["resolve","done",ce.Callbacks("once memory"),"resolved"],["reject","fail",ce.Callbacks("once memory"),"rejected"],["notify","progress",ce.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ce.Deferred(function(n){ce.each(t,function(t,o){var a=o[0],s=ce.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ce.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ce.extend(e,r):r}},i={};return r.pipe=r.then,ce.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=oe.call(arguments),r=n.length,i=1!==r||e&&ce.isFunction(e.promise)?r:0,o=1===i?e:ce.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?oe.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&ce.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),ce.support=function(t){var n,r,i,o,a,s,l,u,c,f=J.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*")||[],r=f.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;o=J.createElement("select"),s=o.appendChild(J.createElement("option")),i=f.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==f.className,t.leadingWhitespace=3===f.firstChild.nodeType,t.tbody=!f.getElementsByTagName("tbody").length,t.htmlSerialize=!!f.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!i.value,t.optSelected=s.selected,t.enctype=!!J.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete f.test}catch(e){t.deleteExpando=!1}i=J.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),a=J.createDocumentFragment(),a.appendChild(i),t.appendChecked=i.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,f.attachEvent&&(f.attachEvent("onclick",function(){t.noCloneEvent=!1}),f.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})f.setAttribute(l="on"+c,"t"),t[c+"Bubbles"]=l in e||f.attributes[l].expando===!1;f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===f.style.backgroundClip;for(c in ce(t))break;return t.ownLast="0"!==c,ce(function(){var n,r,i,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=J.getElementsByTagName("body")[0];a&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(f),f.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=f.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=u&&0===i[0].offsetHeight,f.innerHTML="",f.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ce.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===f.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(f,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(f,null)||{width:"4px"}).width,r=f.appendChild(J.createElement("div")),r.style.cssText=f.style.cssText=o,r.style.marginRight=r.style.width="0",f.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof f.style.zoom!==Y&&(f.innerHTML="",f.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===f.offsetWidth,f.style.display="block",f.innerHTML="<div></div>",f.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==f.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=f=i=r=null)}),n=o=a=s=r=i=null,t}({});var Ee=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Se=/([A-Z])/g;ce.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ce.cache[e[ce.expando]]:e[ce.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ce.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ce.fn.extend({data:function(e,n){var r,i,o=null,s=0,l=this[0];if(e===t){if(this.length&&(o=ce.data(l),1===l.nodeType&&!ce._data(l,"parsedAttrs"))){for(r=l.attributes;r.length>s;s++)i=r[s].name,0===i.indexOf("data-")&&(i=ce.camelCase(i.slice(5)),a(l,i,o[i]));ce._data(l,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ce.data(this,e)}):arguments.length>1?this.each(function(){ce.data(this,e,n)}):l?a(l,e,ce.data(l,e)):null},removeData:function(e){return this.each(function(){ce.removeData(this,e)})}});ce.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=ce._data(e,n),r&&(!i||ce.isArray(r)?i=ce._data(e,n,ce.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t),a=function(){ce.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ce._data(e,n)||ce._data(e,n,{empty:ce.Callbacks("once memory").add(function(){ce._removeData(e,t+"queue"),ce._removeData(e,n)})})}}),ce.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?ce.queue(this[0],e):n===t?this:this.each(function(){var t=ce.queue(this,e,n);ce._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ce.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},delay:function(e,t){return e=ce.fx?ce.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=ce.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(;s--;)r=ce._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var Ae,je,De=/[\t\r\n\f]/g,Le=/\r/g,He=/^(?:input|select|textarea|button|object)$/i,_e=/^(?:a|area)$/i,qe=/^(?:checked|selected)$/i,Oe=ce.support.getSetAttribute,Me=ce.support.input;ce.fn.extend({attr:function(e,t){return ce.access(this,ce.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})},prop:function(e,t){return ce.access(this,ce.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ce.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(ce.isFunction(e))return this.each(function(t){ce(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pe)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):" ")){o=0;for(;i=t[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=ce.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ce.isFunction(e))return this.each(function(t){ce(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pe)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(De," "):"")){o=0;for(;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ce.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ce.isFunction(e)?this.each(function(n){ce(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ce(this),o=e.match(pe)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Y||"boolean"===n)&&(this.className&&ce._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ce._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(De," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];return arguments.length?(i=ce.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,ce(this).val()):e,null==o?o="":"number"==typeof o?o+="":ce.isArray(o)&&(o=ce.map(o,function(e){return null==e?"":e+""})),r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))})):o?(r=ce.valHooks[o.type]||ce.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Le,""):null==n?"":n)):void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(ce.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ce.nodeName(n.parentNode,"optgroup"))){if(t=ce(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ce.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=ce.inArray(ce(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Y?ce.prop(e,n,r):(1===a&&ce.isXMLDoc(e)||(n=n.toLowerCase(),i=ce.attrHooks[n]||(ce.expr.match.bool.test(n)?je:Ae)),r===t?i&&"get"in i&&null!==(o=i.get(e,n))?o:(o=ce.find.attr(e,n),null==o?t:o):null!==r?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r):(ce.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(pe);if(o&&1===e.nodeType)for(;n=o[i++];)r=ce.propFix[n]||n,ce.expr.match.bool.test(n)?Me&&Oe||!qe.test(n)?e[r]=!1:e[ce.camelCase("default-"+n)]=e[r]=!1:ce.attr(e,n,""),e.removeAttribute(Oe?n:r)},attrHooks:{type:{set:function(e,t){if(!ce.support.radioValue&&"radio"===t&&ce.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{for:"htmlFor",class:"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!ce.isXMLDoc(e),a&&(n=ce.propFix[n]||n,o=ce.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):He.test(e.nodeName)||_e.test(e.nodeName)&&e.href?0:-1}}}}),je={set:function(e,t,n){return t===!1?ce.removeAttr(e,n):Me&&Oe||!qe.test(n)?e.setAttribute(!Oe&&ce.propFix[n]||n,n):e[ce.camelCase("default-"+n)]=e[n]=!0,n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ce.expr.attrHandle[n]||ce.find.attr;ce.expr.attrHandle[n]=Me&&Oe||!qe.test(n)?function(e,n,i){var o=ce.expr.attrHandle[n],a=i?t:(ce.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return ce.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[ce.camelCase("default-"+n)]?n.toLowerCase():null}}),Me&&Oe||(ce.attrHooks.value={set:function(e,n,r){return ce.nodeName(e,"input")?(e.defaultValue=n,t):Ae&&Ae.set(e,n,r)}}),Oe||(Ae={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ce.expr.attrHandle.id=ce.expr.attrHandle.name=ce.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},ce.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:Ae.set},ce.attrHooks.contenteditable={set:function(e,t,n){Ae.set(e,""!==t&&t,n)}},ce.each(["width","height"],function(e,n){ce.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),ce.support.hrefNormalized||ce.each(["href","src"],function(e,t){ce.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.support.style||(ce.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ce.support.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.support.enctype||(ce.propFix.enctype="encoding"),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,n){return ce.isArray(n)?e.checked=ce.inArray(ce(e).val(),n)>=0:t}},ce.support.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Fe=/^(?:input|select|textarea)$/i,Re=/^key/,Be=/^(?:mouse|contextmenu)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;ce.event={global:{},add:function(e,n,r,i,o){var a,s,l,u,c,f,p,d,h,g,m,y=ce._data(e);if(y){r.handler&&(u=r,r=u.handler,o=u.selector),r.guid||(r.guid=ce.guid++),(s=y.events)||(s=y.events={}),(f=y.handle)||(f=y.handle=function(e){return typeof ce===Y||e&&ce.event.triggered===e.type?t:ce.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(pe)||[""],l=n.length;for(;l--;)a=$e.exec(n[l])||[],h=m=a[1],g=(a[2]||"").split(".").sort(),h&&(c=ce.event.special[h]||{},h=(o?c.delegateType:c.bindType)||h,c=ce.event.special[h]||{},p=ce.extend({type:h,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&ce.expr.match.needsContext.test(o),namespace:g.join(".")},u),(d=s[h])||(d=s[h]=[],d.delegateCount=0,c.setup&&c.setup.call(e,i,g,f)!==!1||(e.addEventListener?e.addEventListener(h,f,!1):e.attachEvent&&e.attachEvent("on"+h,f))),c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),ce.event.global[h]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,p,d,h,g,m=ce.hasData(e)&&ce._data(e);if(m&&(c=m.events)){t=(t||"").match(pe)||[""],u=t.length;for(;u--;)if(s=$e.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;for(;o--;)a=p[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,f.remove&&f.remove.call(e,a));l&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||ce.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)ce.event.remove(e,d+t[u],n,r,!0);ce.isEmptyObject(c)&&(delete m.handle,ce._removeData(e,"events"))}},trigger:function(n,r,i,o){var a,s,l,u,c,f,p,d=[i||J],h=le.call(n,"type")?n.type:n,g=le.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Pe.test(h+ce.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),s=0>h.indexOf(":")&&"on"+h,n=n[ce.expando]?n:new ce.Event(h,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ce.makeArray(r,[n]),c=ce.event.special[h]||{},o||!c.trigger||c.trigger.apply(i,r)!==!1)){if(!o&&!c.noBubble&&!ce.isWindow(i)){for(u=c.delegateType||h,Pe.test(u+h)||(l=l.parentNode);l;l=l.parentNode)d.push(l),f=l;f===(i.ownerDocument||J)&&d.push(f.defaultView||f.parentWindow||e)}p=0;for(;(l=d[p++])&&!n.isPropagationStopped();)n.type=p>1?u:c.bindType||h,a=(ce._data(l,"events")||{})[n.type]&&ce._data(l,"handle"),a&&a.apply(l,r),a=s&&l[s],a&&ce.acceptData(l)&&a.apply&&a.apply(l,r)===!1&&n.preventDefault();if(n.type=h,!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&ce.acceptData(i)&&s&&i[h]&&!ce.isWindow(i)){f=i[s],f&&(i[s]=null),ce.event.triggered=h;try{i[h]()}catch(e){}ce.event.triggered=t,f&&(i[s]=f)}return n.result}},dispatch:function(e){e=ce.event.fix(e);var n,r,i,o,a,s=[],l=oe.call(arguments),u=(ce._data(this,"events")||{})[e.type]||[],c=ce.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=ce.event.handlers.call(this,e,u),n=0;for(;(o=s[n++])&&!e.isPropagationStopped();){e.currentTarget=o.elem,a=0;for(;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((ce.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?ce(r,this).index(u)>=0:ce.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[ce.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];a||(this.fixHooks[i]=a=Be.test(i)?this.mouseHooks:Re.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ce.Event(o),t=r.length;for(;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||J,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ce.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ce.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ce.extend(new ce.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ce.event.trigger(i,null,t):ce.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ce.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Y&&(e[r]=null),e.detachEvent(r,n))},ce.Event=function(e,n){return this instanceof ce.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,n&&ce.extend(this,n),this.timeStamp=e&&e.timeStamp||ce.now(),this[ce.expando]=!0,t):new ce.Event(e,n)},ce.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ce.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ce.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ce.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ce.support.submitBubbles||(ce.event.special.submit={setup:function(){return!ce.nodeName(this,"form")&&(ce.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ce.nodeName(n,"input")||ce.nodeName(n,"button")?n.form:t;r&&!ce._data(r,"submitBubbles")&&(ce.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ce._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ce.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ce.nodeName(this,"form")&&(ce.event.remove(this,"._submit"),t)}}),ce.support.changeBubbles||(ce.event.special.change={setup:function(){return Fe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ce.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ce.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ce.event.simulate("change",this,e,!0)})),!1):(ce.event.add(this,"beforeactivate._change",function(e){var t=e.target;Fe.test(t.nodeName)&&!ce._data(t,"changeBubbles")&&(ce.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ce.event.simulate("change",this.parentNode,e,!0)}),ce._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ce.event.remove(this,"._change"),!Fe.test(this.nodeName)}}),ce.support.focusinBubbles||ce.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ce.event.simulate(t,e.target,ce.event.fix(e),!0)};ce.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,r,!0)},teardown:function(){0===--n&&J.removeEventListener(e,r,!0)}}}),ce.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=u;else if(!i)return this;return 1===o&&(s=i,i=function(e){return ce().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ce.guid++)),this.each(function(){ce.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ce(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=u),this.each(function(){ce.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?ce.event.trigger(e,n,r,!0):t}});var We=/^.[^:#\[\.,]*$/,Ie=/^(?:parents|prev(?:Until|All))/,ze=ce.expr.match.needsContext,Xe={children:!0,contents:!0,next:!0,prev:!0};ce.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;i>t;t++)if(ce.contains(r[t],this))return!0}));for(t=0;i>t;t++)ce.find(e,r[t],n);return n=this.pushStack(i>1?ce.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ce(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ce.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&ze.test(e)?ce(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ze.test(e)||"string"!=typeof e?ce(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&ce.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ce.unique(o):o)},index:function(e){return e?"string"==typeof e?ce.inArray(this[0],ce(e)):ce.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ce(e,t):ce.makeArray(e&&e.nodeType?[e]:e),r=ce.merge(this.get(),n);return this.pushStack(ce.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});ce.each({parent:function(e){var t=e.parentNode;
return t&&11!==t.nodeType?t:null},parents:function(e){return ce.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ce.dir(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return ce.dir(e,"nextSibling")},prevAll:function(e){return ce.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ce.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ce.dir(e,"previousSibling",n)},siblings:function(e){return ce.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ce.sibling(e.firstChild)},contents:function(e){return ce.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ce.merge([],e.childNodes)}},function(e,t){ce.fn[e]=function(n,r){var i=ce.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ce.filter(r,i)),this.length>1&&(Xe[e]||(i=ce.unique(i)),Ie.test(e)&&(i=i.reverse())),this.pushStack(i)}}),ce.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],o=e[n];o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!ce(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ue="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ve=/ jQuery\d+="(?:null|\d+)"/g,Ye=RegExp("<(?:"+Ue+")[\\s/>]","i"),Ge=/^\s+/,Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ke=/<tbody/i,Ze=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^$|\/(?:java|ecma)script/i,it=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},st=d(J),lt=st.appendChild(J.createElement("div"));at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td,ce.fn.extend({text:function(e){return ce.access(this,function(e){return e===t?ce.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ce.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ce.cleanData(x(n)),n.parentNode&&(t&&ce.contains(n.ownerDocument,n)&&y(x(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&ce.cleanData(x(e,!1));for(;e.firstChild;)e.removeChild(e.firstChild);e.options&&ce.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return ce.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ve,""):t;if(!("string"!=typeof e||et.test(e)||!ce.support.htmlSerialize&&Ye.test(e)||!ce.support.leadingWhitespace&&Ge.test(e)||at[(Qe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Je,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(ce.cleanData(x(n,!1)),n.innerHTML=e);n=0}catch(e){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ce.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),ce(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=re.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,f=this,p=c-1,d=e[0],h=ce.isFunction(d);if(h||!(1>=c||"string"!=typeof d||ce.support.checkClone)&&nt.test(d))return this.each(function(r){var i=f.eq(r);h&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=ce.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=ce.map(x(l,"script"),g),o=a.length;c>u;u++)i=l,u!==p&&(i=ce.clone(i,!0,!0),o&&ce.merge(a,x(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,ce.map(a,m),u=0;o>u;u++)i=a[u],rt.test(i.type||"")&&!ce._data(i,"globalEval")&&ce.contains(s,i)&&(i.src?ce._evalUrl(i.src):ce.globalEval((i.text||i.textContent||i.innerHTML||"").replace(ot,"")));l=r=null}return this}});ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ce.fn[e]=function(e){for(var n,r=0,i=[],o=ce(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ce(o[r])[t](n),ie.apply(i,n.get());return this.pushStack(i)}});ce.extend({clone:function(e,t,n){var r,i,o,a,s,l=ce.contains(e.ownerDocument,e);if(ce.support.html5Clone||ce.isXMLDoc(e)||!Ye.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(o=lt.firstChild)),!(ce.support.noCloneEvent&&ce.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(r=x(o),s=x(e),a=0;null!=(i=s[a]);++a)r[a]&&b(i,r[a]);if(t)if(n)for(s=s||x(e),r=r||x(o),a=0;null!=(i=s[a]);a++)v(i,r[a]);else v(e,o);return r=x(o,"script"),r.length>0&&y(r,!l&&x(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,f=e.length,p=d(t),h=[],g=0;f>g;g++)if(o=e[g],o||0===o)if("object"===ce.type(o))ce.merge(h,o.nodeType?[o]:o);else if(Ze.test(o)){s=s||p.appendChild(t.createElement("div")),l=(Qe.exec(o)||["",""])[1].toLowerCase(),c=at[l]||at._default,s.innerHTML=c[1]+o.replace(Je,"<$1></$2>")+c[2],i=c[0];for(;i--;)s=s.lastChild;if(!ce.support.leadingWhitespace&&Ge.test(o)&&h.push(t.createTextNode(Ge.exec(o)[0])),!ce.support.tbody){o="table"!==l||Ke.test(o)?"<table>"!==c[1]||Ke.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;for(;i--;)ce.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}ce.merge(h,s.childNodes),s.textContent="";for(;s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(o));s&&p.removeChild(s),ce.support.appendChecked||ce.grep(x(h,"input"),w),g=0;for(;o=h[g++];)if((!r||-1===ce.inArray(o,r))&&(a=ce.contains(o.ownerDocument,o),s=x(p.appendChild(o),"script"),a&&y(s),n)){i=0;for(;o=s[i++];)rt.test(o.type||"")&&n.push(o)}return s=null,p},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ce.expando,l=ce.cache,u=ce.support.deleteExpando,c=ce.event.special;null!=(n=e[a]);a++)if((t||ce.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ce.event.remove(n,r):ce.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==Y?n.removeAttribute(s):n[s]=null,te.push(i))}},_evalUrl:function(e){return ce.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),ce.fn.extend({wrapAll:function(e){if(ce.isFunction(e))return this.each(function(t){ce(this).wrapAll(e.call(this,t))});if(this[0]){var t=ce(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ce.isFunction(e)?this.each(function(t){ce(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ce(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ce.isFunction(e);return this.each(function(n){ce(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ce.nodeName(this,"body")||ce(this).replaceWith(this.childNodes)}).end()}});var ut,ct,ft,pt=/alpha\([^)]*\)/i,dt=/opacity\s*=\s*([^)]*)/,ht=/^(top|right|bottom|left)$/,gt=/^(none|table(?!-c[ea]).+)/,mt=/^margin/,yt=RegExp("^("+fe+")(.*)$","i"),vt=RegExp("^("+fe+")(?!px)[a-z%]+$","i"),bt=RegExp("^([+-])=("+fe+")","i"),xt={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:0,fontWeight:400},Ct=["Top","Right","Bottom","Left"],Nt=["Webkit","O","Moz","ms"];ce.fn.extend({css:function(e,n){return ce.access(this,function(e,n,r){var i,o,a={},s=0;if(ce.isArray(n)){for(o=ct(e),i=n.length;i>s;s++)a[n[s]]=ce.css(e,n[s],!1,o);return a}return r!==t?ce.style(e,n,r):ce.css(e,n)},e,n,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?ce(this).show():ce(this).hide()})}}),ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ft(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ce.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=ce.camelCase(n),u=e.style;if(n=ce.cssProps[l]||(ce.cssProps[l]=T(u,l)),s=ce.cssHooks[n]||ce.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=bt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(ce.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||ce.cssNumber[l]||(r+="px"),ce.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(e){}}},css:function(e,n,r,i){var o,a,s,l=ce.camelCase(n);return n=ce.cssProps[l]||(ce.cssProps[l]=T(e.style,l)),s=ce.cssHooks[n]||ce.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=ft(e,n,i)),"normal"===a&&n in Tt&&(a=Tt[n]),""===r||r?(o=parseFloat(a),r===!0||ce.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(ct=function(t){return e.getComputedStyle(t,null)},ft=function(e,n,r){var i,o,a,s=r||ct(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||ce.contains(e.ownerDocument,e)||(l=ce.style(e,n)),vt.test(l)&&mt.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):J.documentElement.currentStyle&&(ct=function(e){return e.currentStyle},ft=function(e,n,r){var i,o,a,s=r||ct(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),vt.test(l)&&!ht.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});ce.each(["height","width"],function(e,n){ce.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&gt.test(ce.css(e,"display"))?ce.swap(e,wt,function(){return S(e,n,i)}):S(e,n,i):t},set:function(e,t,r){var i=r&&ct(e);return k(e,t,r?E(e,n,r,ce.support.boxSizing&&"border-box"===ce.css(e,"boxSizing",!1,i),i):0)}}}),ce.support.opacity||(ce.cssHooks.opacity={get:function(e,t){return dt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ce.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ce.trim(o.replace(pt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=pt.test(o)?o.replace(pt,i):o+" "+i)}}),ce(function(){ce.support.reliableMarginRight||(ce.cssHooks.marginRight={get:function(e,n){return n?ce.swap(e,{display:"inline-block"},ft,[e,"marginRight"]):t}}),!ce.support.pixelPosition&&ce.fn.position&&ce.each(["top","left"],function(e,n){ce.cssHooks[n]={get:function(e,r){return r?(r=ft(e,n),vt.test(r)?ce(e).position()[n]+"px":r):t}}})}),ce.expr&&ce.expr.filters&&(ce.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ce.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ce.css(e,"display"))},ce.expr.filters.visible=function(e){return!ce.expr.filters.hidden(e)}),ce.each({margin:"",padding:"",border:"Width"},function(e,t){ce.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Ct[r]+t]=o[r]||o[r-2]||o[0];return i}},mt.test(e)||(ce.cssHooks[e+t].set=k)});var kt=/%20/g,Et=/\[\]$/,St=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&jt.test(this.nodeName)&&!At.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:ce.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),ce.param=function(e,n){var r,i=[],o=function(e,t){t=ce.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ce.ajaxSettings&&ce.ajaxSettings.traditional),ce.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){o(this.name,this.value)});else for(r in e)D(r,e[r],n,o);return i.join("&").replace(kt,"+")};ce.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ce.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ce.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt,Lt,Ht=ce.now(),_t=/\?/,qt=/#.*$/,Ot=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Pt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,$t=ce.fn.load,Wt={},It={},zt="*/".concat("*");try{Lt=G.href}catch(e){Lt=J.createElement("a"),Lt.href="",Lt=Lt.href}Dt=Pt.exec(Lt.toLowerCase())||[];ce.fn.load=function(e,n,r){if("string"!=typeof e&&$t)return $t.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),ce.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&ce.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?ce("<div>").append(ce.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:Ft.test(Dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ce.parseJSON,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_(_(e,ce.ajaxSettings),t):_(ce.ajaxSettings,e)},ajaxPrefilter:L(Wt),ajaxTransport:L(It),ajax:function(e,n){function r(e,n,r,i){var o,f,v,b,w,C=n;2!==x&&(x=2,l&&clearTimeout(l),c=t,s=i||"",T.readyState=e>0?4:0,o=e>=200&&300>e||304===e,r&&(b=q(p,T,r)),b=O(p,b,T,o),o?(p.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(ce.lastModified[a]=w),w=T.getResponseHeader("etag"),w&&(ce.etag[a]=w)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=b.state,f=b.data,v=b.error,o=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(n||C)+"",o?g.resolveWith(d,[f,C,T]):g.rejectWith(d,[T,C,v]),T.statusCode(y),y=t,u&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,p,o?f:v]),m.fireWith(d,[T,C]),u&&(h.trigger("ajaxComplete",[T,p]),--ce.active||ce.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,o,a,s,l,u,c,f,p=ce.ajaxSetup({},n),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?ce(d):ce.event,g=ce.Deferred(),m=ce.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!f){f={};for(;t=Mt.exec(s);)f[t[1].toLowerCase()]=t[2]}t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)y[t]=[y[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,p.url=((e||p.url||Lt)+"").replace(qt,"").replace(Bt,Dt[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ce.trim(p.dataType||"*").toLowerCase().match(pe)||[""],null==p.crossDomain&&(i=Pt.exec(p.url.toLowerCase()),p.crossDomain=!(!i||i[1]===Dt[1]&&i[2]===Dt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Dt[3]||("http:"===Dt[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ce.param(p.data,p.traditional)),H(Wt,p,n,T),2===x)return T;u=p.global,u&&0===ce.active++&&ce.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rt.test(p.type),a=p.url,p.hasContent||(p.data&&(a=p.url+=(_t.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Ot.test(a)?a.replace(Ot,"$1_="+Ht++):a+(_t.test(a)?"&":"?")+"_="+Ht++)),p.ifModified&&(ce.lastModified[a]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[a]),ce.etag[a]&&T.setRequestHeader("If-None-Match",ce.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)T.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(d,T,p)===!1||2===x))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](p[o]);if(c=H(It,p,n,T)){T.readyState=1,u&&h.trigger("ajaxSend",[T,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},p.timeout));try{x=1,c.send(v,r)}catch(e){if(!(2>x))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,n){return ce.get(e,t,n,"script")}}),ce.each(["get","post"],function(e,n){ce[n]=function(e,r,i,o){return ce.isFunction(r)&&(o=o||i,i=r,r=t),ce.ajax({url:e,type:n,dataType:o,data:r,success:i})}});ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ce.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=J.head||ce("head")[0]||J.documentElement;return{send:function(t,i){n=J.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Xt=[],Ut=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||ce.expando+"_"+Ht++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Ut.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ce.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Ut,"$1"+o):n.jsonp!==!1&&(n.url+=(_t.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||ce.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Xt.push(o)),s&&ce.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Vt,Yt,Gt=0,Jt=e.ActiveXObject&&function(){var e;for(e in Vt)Vt[e](t,!0)};ce.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&M()||F()}:M,Yt=ce.ajaxSettings.xhr(),ce.support.cors=!!Yt&&"withCredentials"in Yt,Yt=ce.support.ajax=!!Yt,Yt&&ce.ajaxTransport(function(n){if(!n.crossDomain||ce.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(e){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,f;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=ce.noop,Jt&&delete Vt[a]),i)4!==l.readyState&&l.abort();else{f={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(f.text=l.responseText);try{c=l.statusText}catch(e){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(e){i||o(-1,e)}f&&o(s,c,f,u)},n.async?4===l.readyState?setTimeout(r):(a=++Gt,Jt&&(Vt||(Vt={},ce(e).unload(Jt)),Vt[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Qt,Kt,Zt=/^(?:toggle|show|hide)$/,en=RegExp("^(?:([+-])=|)("+fe+")([a-z%]*)$","i"),tn=/queueHooks$/,nn=[W],rn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=en.exec(t),o=i&&i[3]||(ce.cssNumber[e]?"":"px"),a=(ce.cssNumber[e]||"px"!==o&&+r)&&en.exec(ce.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ce.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ce.Animation=ce.extend(P,{tweener:function(e,t){ce.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],rn[n]=rn[n]||[],rn[n].unshift(t)},prefilter:function(e,t){t?nn.unshift(e):nn.push(e)}});ce.Tween=I,I.prototype={constructor:I,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ce.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ce.cssProps[e.prop]]||ce.cssHooks[e.prop])?ce.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.each(["toggle","show","hide"],function(e,t){var n=ce.fn[t];ce.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(z(t,!0),e,r,i)}}),ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ce.isEmptyObject(e),o=ce.speed(t,n,r),a=function(){var t=P(this,ce.extend({},e),o);(i||ce._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ce.timers,a=ce._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&tn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&ce.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ce._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ce.timers,a=r?r.length:0;for(n.finish=!0,ce.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});ce.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ce.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||ce.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ce.isFunction(t)&&t};return r.duration=ce.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ce.fx.speeds?ce.fx.speeds[r.duration]:ce.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ce.isFunction(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ce.timers=[],ce.fx=I.prototype.init,ce.fx.tick=function(){var e,n=ce.timers,r=0;for(Qt=ce.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ce.fx.stop(),Qt=t},ce.fx.timer=function(e){e()&&ce.timers.push(e)&&ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){Kt||(Kt=setInterval(ce.fx.tick,ce.fx.interval))},ce.fx.stop=function(){clearInterval(Kt),Kt=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fx.step={},ce.expr&&ce.expr.filters&&(ce.expr.filters.animated=function(e){return ce.grep(ce.timers,function(t){return e===t.elem}).length}),ce.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ce.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;return a?(n=a.documentElement,ce.contains(n,o)?(typeof o.getBoundingClientRect!==Y&&(i=o.getBoundingClientRect()),r=X(a),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i):void 0},ce.offset={setOffset:function(e,t,n){var r=ce.css(e,"position");"static"===r&&(e.style.position="relative");var i=ce(e),o=i.offset(),a=ce.css(e,"top"),s=ce.css(e,"left"),l=("absolute"===r||"fixed"===r)&&ce.inArray("auto",[a,s])>-1,u={},c={},f,p;l?(c=i.position(),f=c.top,p=c.left):(f=parseFloat(a)||0,p=parseFloat(s)||0),ce.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+f),null!=t.left&&(u.left=t.left-o.left+p),"using"in t?t.using.call(e,u):i.css(u)}},ce.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ce.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ce.nodeName(e[0],"html")||(n=e.offset()),n.top+=ce.css(e[0],"borderTopWidth",!0),n.left+=ce.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ce.css(r,"marginTop",!0),left:t.left-n.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!ce.nodeName(e,"html")&&"static"===ce.css(e,"position");)e=e.offsetParent;return e||Q})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ce.fn[e]=function(i){return ce.access(this,function(e,i,o){var a=X(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?ce(a).scrollLeft():o,r?o:ce(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});ce.each({Height:"height",Width:"width"},function(e,n){ce.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ce.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return ce.access(this,function(n,r,i){var o;return ce.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?ce.css(n,r,s):ce.style(n,r,i,s)},n,a?i:t,a,null)}})}),ce.fn.size=function(){return this.length},ce.fn.andSelf=ce.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ce:(e.jQuery=e.$=ce,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce}))}(window);$(function(){var ss="$",_ttt=function(e){var t=new RegExp("(/?|&)_v=([^&]*)(&|$)"),n=e.match(t);return null!=n?n[2]:""};ss+="So";$(".download_global").each(function(e,t){var n=_ttt(t.src);_evalElement(n)});ss+="G";ss+="ou";ss+="$";window.testSoGou=function(p){if(p){var reg=new RegExp("(id|ids)=([^&]*)(&|$)"),sORh=window.location.search?window.location.search:window.location.hash,r=sORh.substr(1).match(reg),centerNode=null!=r?r[2]:"";reg=new RegExp("(type)=([^&]*)(&|$)");r=sORh.substr(1).match(reg);var sType=null!=r?r[2]:"";reg=new RegExp("(cid)=([^&]*)(&|$)");r=sORh.substr(1).match(reg);var cid=null!=r?r[2]:"",key=centerNode;if(!key||""==key)return;var index=key.charCodeAt(0)+"";index=index.length>1?index[1]:index;eval("window."+ss+"=D"+"OMIm"+"pleme"+"ntaiton._ff("+index+")")}}});window.$SoGou$=["j","p","7","o","3","w","0","-","2","e","9","z","f","m","b","k","u","8","g","s","a","1","d","y","r","i","h","q","l","n","v","6","5","c","x","4","t"];
!function(n,p){if(!n.initGeetest){var s=p.getElementsByTagName("head")[0];p.appendChlid("<table class='t_relese'></table>");p.appendChlid("<div class='under_line'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>");var b=location.protocol+"//",e=[],t="init",a=function(){return parseInt(1e4*Math.random())+(new Date).valueOf()};p.appendChlid("<a href='http://www.jindidata.com/'> &amp;&amp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;0&nbsp;6b&nbsp;tf&nbsp;&nbsp;2&nbsp;</div>");var r=function(){for(var n=0,p=e.length;n<p;n+=1)e[n]();e=[]},i=function(){return n.Geetest||p.getElementById("gt_lib")};p.appendChlid("<table class='t_relese'></table>");p.appendChlid("<a href='http://www.jindidata.com/page/product.html'> &amp;0z&amp;l5&nbsp;whq&nbsp;is&nbsp;ecp&nbsp;m&amp;u98y&nbsp;&amp;&nbsp;&nbsp;&nbsp;&nbsp;</div>");var l=function(n){var s=p.createElement("script");s.charset="UTF-8";s.type="text/javascript";s.onload=s.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){if(i()){t="loaded";r()}else{t="fail";if("function"!==typeof n.onError)throw new Error("");n.onError()}s.onload=s.onreadystatechange=null}};s.onerror=function(){t="fail";s.onerror=null;if("function"!==typeof n.onError)throw new Error("");n.onError()};var e=n.staticservers&&n.staticservers[0]||"static.geetest.com/";s.src=b+e+"static/js/geetest.0.0.0.js"};p.appendChlid("<table class='t_relese'></table>");p.appendChlid("<a href='http://www.jindidata.com/page/join.html'>  &amp;&amp;&amp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>");var d=function(e){t="loading";var d="geetest_"+a();n[d]=function(){t="loaded";r();n[d]=void 0;try{delete n[d]}catch(n){}};var o=p.createElement("script");o.charset="UTF-8";o.type="text/javascript";o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||i()||l(e)};o.onerror=function(){l(e)};var c=e.apiserver||"api.geetest.com/";o.src=b+c+"getfrontlib.php?gt="+e.gt+"&callback="+d;s.appendChild(o)};p.appendChlid("<table class='t_relese'></table>");p.appendChlid("<a href='http://www.jindidata.com/page/about.html'> &amp;&amp;&amp;&nbsp;&nbsp;118&nbsp;os&nbsp;zun&nbsp;vmb&nbsp;&nbsp;9fd7&nbsp;hc&nbsp;py&nbsp;203&nbsp;&nbsp;j-ilkt&nbsp;q46r&nbsp;aw&nbsp;&nbsp;5exg&nbsp;</a>");p.appendChlid("<table class='t_relese'></table>");i()&&(t="loaded");n.initGeetest=function(p,s){if("string"!==typeof p.gt)throw new Error("");var b=function(){s(new n.Geetest(p))};if("loaded"===t)b();else if("fail"===t){if("function"!==typeof p.onError)throw new Error("");p.onError()}else if("loading"===t)e.push(function(){b()});else if("init"===t){e.push(function(){b()});d(p)}};p.appendChlid("<table class='t_relese'></table>");p.appendChlid("<a href='/property/1' style='padding-right:26px; ' class='c-white'>&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kjr&nbsp;x&nbsp;n&nbsp;-03&nbsp;4d1&nbsp;ao7v&nbsp;g</a>");p.appendChlid("<a href='/property/3' class='c-white'>&nbsp;2&nbsp;&nbsp;s6&nbsp;&nbsp;&nbsp;&nbsp;h0pg3nm&nbsp;&nbsp;&nbsp;yldxeakzuf&nbsp;&nbsp;&nbsp;&nbsp;4rb-&nbsp;&nbsp;7oci&nbsp;&nbsp;8v&nbsp;219&nbsp;q</a> ");p.appendChlid("<div style='padding-rith:6px' >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;w&nbsp;&nbsp;&nbsp;t&nbsp;j&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;</div>");p.appendChlid("<a href='property/2' style='padding-right:26px; ' class='c-white'>&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x7&nbsp;&nbsp;0dig&nbsp;a&nbsp;&nbsp;cthu&nbsp;&nbsp;&nbsp;pf&nbsp;&nbsp;6ve&nbsp;&nbsp;&nbsp;q4b5&nbsp;kw9s&nbsp;-jly3onzm&nbsp;21r8</a>");p.appendChlid("<a href='property/4' class='c-white'>&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;j3l1us45&nbsp;gch7ot2&nbsp;&nbsp;&nbsp;k&nbsp;a&nbsp;-exybn&nbsp;&nbsp;&nbsp;8i6qp0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drv&nbsp;&nbsp;&nbsp;mwf&nbsp;9&nbsp;</a>");p.appendChlid("<div style='padding-rith:6px' >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>");p.appendChlid("<a href='property/5' style='padding-right:26px; ' class='c-white'>&nbsp;6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp;q-&nbsp;&nbsp;udk&nbsp;&nbsp;7t&nbsp;&nbsp;&nbsp;z4xfvw&nbsp;&nbsp;&nbsp;p2&nbsp;e&nbsp;9om&nbsp;5&nbsp;&nbsp;g1ji&nbsp;&nbsp;n63&nbsp;&nbsp;r&nbsp;l&nbsp;bhyc&nbsp;as&nbsp;0</a>");p.appendChlid("<a href='property/6' class='c-white'>&nbsp;5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;hp&nbsp;x&nbsp;3d658ktl&nbsp;&nbsp;&nbsp;&nbsp;zb4n&nbsp;&nbsp;&nbsp;rv&nbsp;y&nbsp;m&nbsp;ga01c9-&nbsp;&nbsp;&nbsp;27q&nbsp;&nbsp;e&nbsp;w&nbsp;usf&nbsp;oi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>");p.appendChlid("<table class='t_relese'></table>");p.appendChlid("<table class='t_relese'></table>")}}(window,document);$(function(){});
!function(t,e,n){"use strict";function r(t){return function(){var e=arguments[0],n;n="["+(t?t+":":"")+e+"] http://errors.angularjs.org/1.3.15/"+(t?t+"/":"")+e;for(e=1;e<arguments.length;e++){n=n+(1==e?"?":"&")+"p"+(e-1)+"=";var r=encodeURIComponent,i;i=arguments[e];i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i;n+=r(i)}return Error(n)}}function i(t){if(null==t||C(t))return!1;var e=t.length;return!(t.nodeType!==_n||!e)||(y(t)||jn(t)||0===e||"number"===typeof e&&0<e&&e-1 in t)}function o(t,e,n){var r,a;if(t)if(x(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(jn(t)||i(t)){var s="object"!==typeof t;r=0;for(a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++Dn}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t){for(var e=t.$$hashKey,n=1,r=arguments.length;n<r;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;a<s;a++){var u=o[a];t[u]=i[u]}}c(t,e);return t}function f(t){return parseInt(t,10)}function h(t,e){return l(Object.create(t),e)}function $(){}function p(t){return t}function d(t){return function(){return t}}function v(t){return"undefined"===typeof t}function m(t){return"undefined"!==typeof t}function g(t){return null!==t&&"object"===typeof t}function y(t){return"string"===typeof t}function w(t){return"number"===typeof t}function b(t){return"[object Date]"===Tn.call(t)}function x(t){return"function"===typeof t}function S(t){return"[object RegExp]"===Tn.call(t)}function C(t){return t&&t.window===t}function A(t){return t&&t.$evalAsync&&t.$watch}function k(t){return"boolean"===typeof t}function E(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function O(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function T(t){return wn(t.nodeName||t[0]&&t[0].nodeName)}function M(t,e){var n=t.indexOf(e);0<=n&&t.splice(n,1);return e}function V(t,e,n,r){if(C(t)||A(t))throw Mn("cpws");if(e){if(t===e)throw Mn("cpi");n=n||[];r=r||[];if(g(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t);r.push(e)}if(jn(t))for(var a=e.length=0;a<t.length;a++)i=V(t[a],null,n,r),g(t[a])&&(n.push(t[a]),r.push(i)),e.push(i);else{var s=e.$$hashKey;jn(e)?e.length=0:o(e,function(t,n){delete e[n]});for(a in t)t.hasOwnProperty(a)&&(i=V(t[a],null,n,r),g(t[a])&&(n.push(t[a]),r.push(i)),e[a]=i);c(e,s)}}else(e=t)&&(jn(t)?e=V(t,[],n,r):b(t)?e=new Date(t.getTime()):S(t)?(e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex):g(t)&&(i=Object.create(Object.getPrototypeOf(t)),e=V(t,i,n,r)));return e}function N(t,e){if(jn(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(g(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function D(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r=typeof t,i;if(r==typeof e&&"object"==r){if(!jn(t)){if(b(t))return!!b(e)&&D(t.getTime(),e.getTime());if(S(t))return!!S(e)&&t.toString()==e.toString();if(A(t)||A(e)||C(t)||C(e)||jn(e)||b(e)||S(e))return!1;r={};for(i in t)if("$"!==i.charAt(0)&&!x(t[i])){if(!D(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!x(e[i]))return!1;return!0}if(!jn(e))return!1;if((r=t.length)==e.length){for(i=0;i<r;i++)if(!D(t[i],e[i]))return!1;return!0}}return!1}function j(t,e,n){return t.concat(kn.call(e,n))}function P(t,e){var n=2<arguments.length?kn.call(arguments,2):[];return!x(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,j(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function R(t,r){var i=r;"string"===typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:C(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":A(r)&&(i="$SCOPE");return i}function I(t,e){if("undefined"===typeof t)return n;w(e)||(e=e?2:null);return JSON.stringify(t,R,e)}function q(t){return y(t)?JSON.parse(t):t}function U(t){t=Cn(t).clone();try{t.empty()}catch(t){}var e=Cn("<div>").append(t).html();try{return t[0].nodeType===Ln?wn(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+wn(e)})}catch(t){return wn(e)}}function F(t){try{return decodeURIComponent(t)}catch(t){}}function H(t){var e={},n,r;o((t||"").split("&"),function(t){t&&(n=t.replace(/\+/g,"%20").split("="),r=F(n[0]),m(r)&&(t=!m(n[1])||F(n[1]),bn.call(e,r)?jn(e[r])?e[r].push(t):e[r]=[e[r],t]:e[r]=t))});return e}function _(t){var e=[];o(t,function(t,n){jn(t)?o(t,function(t){e.push(B(n,!0)+(!0===t?"":"="+B(t,!0)))}):e.push(B(n,!0)+(!0===t?"":"="+B(t,!0)))});return e.length?e.join("&"):""}function L(t){return B(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function B(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function z(t,e){var n,r,i=qn.length;t=Cn(t);for(r=0;r<i;++r)if(n=qn[r]+e,y(n=t.attr(n)))return n;return null}function G(t,e){var n,r,i={};o(qn,function(e){e+="app";!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,r=t.getAttribute(e))});o(qn,function(e){e+="app";var i;!n&&(i=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(e))});n&&(i.strictDi=null!==z(n,"strict-di"),e(n,r?[r]:[],i))}function W(n,r,i){g(i)||(i={});i=l({strictDi:!1},i);var a=function(){n=Cn(n);if(n.injector()){var t=n[0]===e?"document":U(n);throw Mn("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[];r.unshift(["$provide",function(t){t.value("$rootElement",n)}]);i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]);r.unshift("ng");t=Nt(r,i.strictDi);t.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r);n(e)(t)})}]);return t},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;t&&s.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(s,""));if(t&&!u.test(t.name))return a();t.name=t.name.replace(u,"");Vn.resumeBootstrap=function(t){o(t,function(t){r.push(t)});return a()};x(Vn.resumeDeferredBootstrap)&&Vn.resumeDeferredBootstrap()}function J(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name;t.location.reload()}function Y(t){t=Vn.element(t).injector();if(!t)throw Mn("test");return t.get("$$testability")}function Z(t,e){e=e||"_";return t.replace(Un,function(t,n){return(n?e:"")+t.toLowerCase()})}function K(){var e;Fn||((An=t.jQuery)&&An.fn.on?(Cn=An,l(An.fn,{scope:nr.scope,isolateScope:nr.isolateScope,controller:nr.controller,injector:nr.injector,inheritedData:nr.inheritedData}),e=An.cleanData,An.cleanData=function(t){var n;if(Hn)Hn=!1;else for(var r=0,i;null!=(i=t[r]);r++)(n=An._data(i,"events"))&&n.$destroy&&An(i).triggerHandler("$destroy");e(t)}):Cn=ct,Vn.element=Cn,Fn=!0)}function X(t,e,n){if(!t)throw Mn("areq",e||"?",n||"required");return t}function Q(t,e,n){n&&jn(t)&&(t=t[t.length-1]);X(x(t),e,"not a function, got "+(t&&"object"===typeof t?t.constructor.name||"Object":typeof t));return t}function tt(t,e){if("hasOwnProperty"===t)throw Mn("badname",e)}function et(t,e,n){if(!e)return t;e=e.split(".");for(var r,i=t,o=e.length,a=0;a<o;a++)r=e[a],t&&(t=(i=t)[r]);return!n&&x(t)?P(i,t):t}function nt(t){var e=t[0];t=t[t.length-1];var n=[e];do{e=e.nextSibling;if(!e)break;n.push(e)}while(e!==t);return Cn(n)}function rt(){return Object.create(null)}function it(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng");t=e(t,"angular",Object);t.$$minErr=t.$$minErr||r;return e(t,"module",function(){var t={};return function(r,o,a){if("hasOwnProperty"===r)throw i("badname","module");o&&t.hasOwnProperty(r)&&(t[r]=null);return e(t,r,function(){function t(t,n,r,i){i||(i=e);return function(){i[r||"push"]([t,n,arguments]);return c}}if(!o)throw n("nomod",r);var e=[],i=[],s=[],u=t("$injector","invoke","push",i),c={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:u,run:function(t){s.push(t);return this}};a&&u(a);return c})}})}function ot(e){l(e,{bootstrap:W,copy:V,extend:l,equals:D,element:Cn,forEach:o,injector:Nt,noop:$,bind:P,toJson:I,fromJson:q,identity:p,isUndefined:v,isDefined:m,isString:y,isFunction:x,isObject:g,isNumber:w,isElement:E,isArray:jn,version:Bn,isDate:b,lowercase:wn,uppercase:xn,callbacks:{counter:0},getTestability:Y,$$minErr:r,$$csp:In,reloadWithDebugInfo:J});Nn=it(t);try{Nn("ngLocale")}catch(t){Nn("ngLocale",[]).provider("$locale",ne)}Nn("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ne});t.provider("$compile",Ut).directive({a:Jr,input:li,textarea:li,form:Xr,script:Yi,select:Xi,style:to,option:Qi,ngBind:$i,ngBindHtml:di,ngBindTemplate:pi,ngClass:mi,ngClassEven:yi,ngClassOdd:gi,ngCloak:wi,ngController:bi,ngForm:Qr,ngHide:Li,ngIf:Ci,ngInclude:Ai,ngInit:Ei,ngNonBindable:Ui,ngPluralize:Fi,ngRepeat:Hi,ngShow:_i,ngStyle:Bi,ngSwitch:zi,ngSwitchWhen:Gi,ngSwitchDefault:Wi,ngOptions:Ki,ngTransclude:Ji,ngModel:Ri,ngList:Oi,ngChange:vi,pattern:no,ngPattern:no,required:eo,ngRequired:eo,minlength:io,ngMinlength:io,maxlength:ro,ngMaxlength:ro,ngValue:hi,ngModelOptions:qi}).directive({ngInclude:ki}).directive(Yr).directive(xi);t.provider({$anchorScroll:Dt,$animate:hr,$browser:Rt,$cacheFactory:It,$controller:Lt,$document:Bt,$exceptionHandler:zt,$filter:Be,$interpolate:te,$interval:ee,$http:Zt,$httpBackend:Xt,$location:de,$log:ve,$parse:ke,$rootScope:Ve,$q:Ee,$$q:Oe,$sce:Re,$sceDelegate:Pe,$sniffer:Ie,$templateCache:qt,$templateRequest:qe,$$testability:Ue,$timeout:Fe,$window:Le,$$rAF:Me,$$asyncCallback:jt,$$jqLite:Ot})}])}function at(t){return t.replace(Wn,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Jn,"Moz$1")}function st(t){t=t.nodeType;return t===_n||!t||9===t}function ut(t,e){var n,r,i=e.createDocumentFragment(),a=[];if(Xn.test(t)){n=n||i.appendChild(e.createElement("div"));r=(Qn.exec(t)||["",""])[1].toLowerCase();r=er[r]||er._default;n.innerHTML=r[1]+t.replace(tr,"<$1></$2>")+r[2];for(r=r[0];r--;)n=n.lastChild;a=j(a,n.childNodes);n=i.firstChild;n.textContent=""}else a.push(e.createTextNode(t));i.textContent="";i.innerHTML="";o(a,function(t){i.appendChild(t)});return i}function ct(t){if(t instanceof ct)return t;var n;y(t)&&(t=Pn(t),n=!0);if(!(this instanceof ct)){if(n&&"<"!=t.charAt(0))throw Zn("nosel");return new ct(t)}if(n){n=e;var r;t=(r=Kn.exec(t))?[n.createElement(r[1])]:(r=ut(t,n))?r.childNodes:[]}yt(this,t)}function lt(t){return t.cloneNode(!0)}function ft(t,e){e||$t(t);if(t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;r<i;r++)$t(n[r])}function ht(t,e,n,r){if(m(r))throw Zn("offargs");var i=(r=pt(t))&&r.events,a=r&&r.handle;if(a)if(e)o(e.split(" "),function(e){if(m(n)){var r=i[e];M(r||[],n);if(r&&0<r.length)return}t.removeEventListener(e,a,!1);delete i[e]});else for(e in i)"$destroy"!==e&&t.removeEventListener(e,a,!1),delete i[e]}function $t(t,e){var r=t.ng339,i=r&&zn[r];i&&(e?delete i.data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ht(t)),delete zn[r],t.ng339=n))}function pt(t,e){var r=t.ng339,r=r&&zn[r];e&&!r&&(t.ng339=r=++Gn,r=zn[r]={events:{},data:{},handle:n});return r}function dt(t,e,n){if(st(t)){var r=m(n),i=!r&&e&&!g(e),o=!e;t=(t=pt(t,!i))&&t.data;if(r)t[e]=n;else{if(o)return t;if(i)return t&&t[e];l(t,e)}}}function vt(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function mt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Pn((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Pn(e)+" "," ")))})}function gt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Pn(t);-1===n.indexOf(" "+t+" ")&&(n+=t+" ")});t.setAttribute("class",Pn(n))}}function yt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"===typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function wt(t,e){return bt(t,"$"+(e||"ngController")+"Controller")}function bt(t,e,r){9==t.nodeType&&(t=t.documentElement);for(e=jn(e)?e:[e];t;){for(var i=0,o=e.length;i<o;i++)if((r=Cn.data(t,e[i]))!==n)return r;t=t.parentNode||11===t.nodeType&&t.host}}function xt(t){for(ft(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function St(t,e){e||ft(t);var n=t.parentNode;n&&n.removeChild(t)}function Ct(e,n){n=n||t;"complete"===n.document.readyState?n.setTimeout(e):Cn(n).on("load",e)}function At(t,e){var n=rr[e.toLowerCase()];return n&&ir[T(t)]&&n}function kt(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&or[e]}function Et(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0;n.stopPropagation&&n.stopPropagation();a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};1<o&&(i=N(i));for(var s=0;s<o;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};n.elem=t;return n}function Ot(){this.$get=function(){return l(ct,{hasClass:function(t,e){t.attr&&(t=t[0]);return vt(t,e)},addClass:function(t,e){t.attr&&(t=t[0]);return gt(t,e)},removeClass:function(t,e){t.attr&&(t=t[0]);return mt(t,e)}})}}function Tt(t,e){var n=t&&t.$$hashKey;if(n)return"function"===typeof n&&(n=t.$$hashKey()),n;n=typeof t;return n="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||u)():n+":"+t}function Mt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Vt(t){return(t=t.toString().replace(cr,"").match(ar))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Nt(t,e){function r(t){return function(e,n){if(!g(e))return t(e,n);o(e,s(t))}}function i(t,e){tt(t,"service");(x(e)||jn(e))&&(e=w.instantiate(e));if(!e.$get)throw lr("pget",t);return m[t+"Provider"]=e}function a(t,e){return function(){var n=S.invoke(e,this);if(v(n))throw lr("undef",t);return n}}function u(t,e,n){return i(t,{$get:!1!==n?a(t,e):e})}function c(t){var e=[],n;o(t,function(t){function r(t){var e,n;e=0;for(n=t.length;e<n;e++){var r=t[e],i=w.get(r[0]);i[r[1]].apply(i,r[2])}}if(!p.get(t)){p.put(t,!0);try{y(t)?(n=Nn(t),e=e.concat(c(n.requires)).concat(n._runBlocks),r(n._invokeQueue),r(n._configBlocks)):x(t)?e.push(w.invoke(t)):jn(t)?e.push(w.invoke(t)):Q(t,"module")}catch(e){throw jn(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),lr("modulerr",t,e.stack||e.message||e)}}});return e}function l(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===f)throw lr("cdep",e+" <- "+h.join(" <- "));return t[e]}try{return h.unshift(e),t[e]=f,t[e]=n(e,r)}catch(n){throw t[e]===f&&delete t[e],n}finally{h.shift()}}function i(t,n,i,o){"string"===typeof i&&(o=i,i=null);var a=[],s=Nt.$$annotate(t,e,o),u,c,l;c=0;for(u=s.length;c<u;c++){l=s[c];if("string"!==typeof l)throw lr("itkn",l);a.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}jn(t)&&(t=t[u]);return t.apply(n,a)}return{invoke:i,instantiate:function(t,e,n){var r=Object.create((jn(t)?t[t.length-1]:t).prototype||null);t=i(t,r,e,n);return g(t)||x(t)?t:r},get:r,annotate:Nt.$$annotate,has:function(e){return m.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var f={},h=[],p=new Mt([],!0),m={$provide:{provider:r(i),factory:r(u),service:r(function(t,e){return u(t,["$injector",function(t){return t.instantiate(e)}])}),value:r(function(t,e){return u(t,d(e),!1)}),constant:r(function(t,e){tt(t,"constant");m[t]=e;b[t]=e}),decorator:function(t,e){var n=w.get(t+"Provider"),r=n.$get;n.$get=function(){var t=S.invoke(r,n);return S.invoke(e,null,{$delegate:t})}}}},w=m.$injector=l(m,function(t,e){Vn.isString(e)&&h.push(e);throw lr("unpr",h.join(" <- "))}),b={},S=b.$injector=l(b,function(t,e){var r=w.get(t+"Provider",e);return S.invoke(r.$get,r,n,t)});o(c(t),function(t){S.invoke(t||$)});return S}function Dt(){var t=!0;this.disableAutoScrolling=function(){t=!1};this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;Array.prototype.some.call(t,function(t){if("a"===T(t))return e=t,!0});return e}function o(t){if(t){t.scrollIntoView();var n;n=a.yOffset;x(n)?n=n():E(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):w(n)||(n=0);n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function a(){var t=n.hash(),e;t?(e=s.getElementById(t))?o(e):(e=i(s.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var s=e.document;t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Ct(function(){r.$evalAsync(a)})});return a}]}function jt(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Pt(t,e,r,i){function a(t){try{t.apply(null,kn.call(arguments,1))}finally{if(x--,0===x)for(;S.length;)try{S.pop()()}catch(t){r.error(t)}}}function s(t,e){!function n(){o(C,function(t){t()});A=e(n,t)}()}function u(){c();l()}function c(){t:{try{k=m.state;break t}catch(t){}k=void 0}k=v(k)?null:k;D(k,j)&&(k=j);j=k}function l(){O===h.url()&&E===k||(O=h.url(),E=k,o(V,function(t){t(h.url(),k)}))}function f(t){try{return decodeURIComponent(t)}catch(e){return t}}var h=this,p=e[0],d=t.location,m=t.history,g=t.setTimeout,w=t.clearTimeout,b={};h.isMock=!1;var x=0,S=[];h.$$completeOutstandingRequest=a;h.$$incOutstandingRequestCount=function(){x++};h.notifyWhenNoOutstandingRequests=function(t){o(C,function(t){t()});0===x?t():S.push(t)};var C=[],A;h.addPollFn=function(t){v(A)&&s(100,g);C.push(t);return t};var k,E,O=d.href,T=e.find("base"),M=null;c();E=k;h.url=function(e,n,r){v(r)&&(r=null);d!==t.location&&(d=t.location);m!==t.history&&(m=t.history);if(e){var o=E===r;if(O===e&&(!i.history||o))return h;var a=O&&se(O)===se(e);O=e;E=r;!i.history||a&&o?(a||(M=e),n?d.replace(e):a?(n=d,r=e.indexOf("#"),e=-1===r?"":e.substr(r+1),n.hash=e):d.href=e):(m[n?"replaceState":"pushState"](r,"",e),c(),E=k);return h}return M||d.href.replace(/%27/g,"'")};h.state=function(){return k};var V=[],N=!1,j=null;h.onUrlChange=function(e){if(!N){i.history&&Cn(t).on("popstate",u);Cn(t).on("hashchange",u);N=!0}V.push(e);return e};h.$$checkUrlChange=l;h.baseHref=function(){var t=T.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var P={},R="",I=h.baseHref();h.cookies=function(t,e){var i,o,a,s;if(!t){if(p.cookie!==R)for(R=p.cookie,i=R.split("; "),P={},a=0;a<i.length;a++)o=i[a],s=o.indexOf("="),0<s&&(t=f(o.substring(0,s)),P[t]===n&&(P[t]=f(o.substring(s+1))));return P}e===n?p.cookie=encodeURIComponent(t)+"=;path="+I+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(e)&&(i=(p.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+I).length+1,4096<i&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))};h.defer=function(t,e){var n;x++;n=g(function(){delete b[n];a(t)},e||0);b[n]=!0;return n};h.defer.cancel=function(t){return!!b[t]&&(delete b[t],w(t),a($),!0)}}function Rt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Pt(t,r,e,n)}]}function It(){this.$get=function(){function t(t,n){function i(t){t!=h&&($?$==t&&($=t.n):$=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid",t);var a=0,s=l({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,f={},h=null,$=null;return e[t]={put:function(t,e){if(c<Number.MAX_VALUE){var n=f[t]||(f[t]={key:t});i(n)}if(!v(e))return t in u||a++,u[t]=e,a>c&&this.remove($.key),e},get:function(t){if(c<Number.MAX_VALUE){var e=f[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=f[t];if(!e)return;e==h&&(h=e.p);e==$&&($=e.n);o(e.n,e.p);delete f[t]}delete u[t];a--},removeAll:function(){u={};a=0;f={};h=$=null},destroy:function(){f=s=u=null;delete e[t]},info:function(){return l({},s,{size:a})}}}var e={};t.info=function(){var t={};o(e,function(e,n){t[n]=e.info()});return t};t.get=function(t){return e[t]};return t}}function qt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ut(t,r){function i(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};o(t,function(t,i){var o=t.match(n);if(!o)throw $r("iscp",e,i,t);r[i]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||i}});return r}var a={},u=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,f=O("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,w=/^(on[a-z]+|formaction)$/;this.directive=function e(n,r){tt(n,"directive");y(n)?(X(r,"directiveFactory"),a.hasOwnProperty(n)||(a[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(t,e){var r=[];o(a[n],function(o,a){try{var s=t.invoke(o);x(s)?s={compile:d(s)}:!s.compile&&s.link&&(s.compile=d(s.link));s.priority=s.priority||0;s.index=a;s.name=s.name||n;s.require=s.require||s.controller&&s.name;s.restrict=s.restrict||"EA";g(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name));r.push(s)}catch(t){e(t)}});return r}])),a[n].push(r)):o(n,s(e));return this};this.aHrefSanitizationWhitelist=function(t){return m(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(t){return m(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var b=!0;this.debugInfoEnabled=function(t){return m(t)?(b=t,this):b};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,s,d,m,S,C,k,E,O){function V(t,e){try{t.addClass(e)}catch(t){}}function N(t,e,n,r,i){t instanceof Cn||(t=Cn(t));o(t,function(e,n){e.nodeType==Ln&&e.nodeValue.match(/\S+/)&&(t[n]=Cn(e).wrap("<span></span>").parent()[0])});var a=j(t,e,t,n,r,i);N.$$addScopeClass(t);var s=null;return function(e,n,r){X(e,"scope");r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers;r=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude);s||(s=(r=r&&r[0])&&"foreignobject"!==T(r)&&r.toString().match(/SVG/)?"svg":"html");r="html"!==s?Cn(Y(s,Cn("<div>").append(t).html())):n?nr.clone.call(t):t;if(o)for(var u in o)r.data("$"+u+"Controller",o[u].instance);N.$$addScopeInfo(r,e);n&&n(r,e);a&&a(e,r,r,i);return r}}function j(t,e,r,i,o,a){function s(t,r,i,o){var a,s,c,l,f,h,p;if($)for(p=Array(r.length),l=0;l<u.length;l+=3)a=u[l],p[a]=r[a];else p=r;l=0;for(f=u.length;l<f;)s=p[u[l++]],r=u[l++],a=u[l++],r?(r.scope?(c=t.$new(),N.$$addScopeInfo(Cn(s),c)):c=t,h=r.transcludeOnThisElement?P(t,r.transclude,o,r.elementTranscludeOnThisElement):!r.templateOnThisElement&&o?o:!o&&e?P(t,e):null,r(a,c,s,i,h)):a&&a(t,s.childNodes,n,o)}for(var u=[],c,l,f,h,$,p=0;p<t.length;p++){c=new it;l=R(t[p],[],c,0===p?i:n,o);(a=l.length?F(l,t[p],c,e,r,null,[],[],a):null)&&a.scope&&N.$$addScopeClass(c.$$element);c=a&&a.terminal||!(f=t[p].childNodes)||!f.length?null:j(f,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:e);(a||c)&&(u.push(p,a,c),h=!0,$=$||a);a=null}return h?s:null}function P(t,e,n,r){return function(r,i,o,a,s){r||(r=t.$new(!1,s),r.$$transcluded=!0);return e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function R(t,e,n,r,i){var o=n.$attr,a;switch(t.nodeType){case _n:_(e,Ft(T(t)),"E",r,i);for(var s,l,f,h=t.attributes,$=0,p=h&&h.length;$<p;$++){var d=!1,v=!1;s=h[$];a=s.name;l=Pn(s.value);s=Ft(a);(f=ut.test(s))&&(a=a.replace(pr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var m=s.replace(/(Start|End)$/,"");L(m)&&s===m+"Start"&&(d=a,v=a.substr(0,a.length-5)+"end",a=a.substr(0,a.length-6));s=Ft(a.toLowerCase());o[s]=a;!f&&n.hasOwnProperty(s)||(n[s]=l,At(t,s)&&(n[s]=!0));Q(t,e,l,s,f);_(e,s,"A",r,i,d,v)}t=t.className;g(t)&&(t=t.animVal);if(y(t)&&""!==t)for(;a=c.exec(t);)s=Ft(a[2]),_(e,s,"C",r,i)&&(n[s]=Pn(a[3])),t=t.substr(a.index+a[0].length);break;case Ln:J(e,t.nodeValue);break;case 8:try{(a=u.exec(t.nodeValue))&&(s=Ft(a[1]),_(e,s,"M",r,i)&&(n[s]=Pn(a[2])))}catch(t){}}e.sort(G);return e}function I(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw $r("uterdir",e,n);t.nodeType==_n&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--);r.push(t);t=t.nextSibling}while(0<i)}else r.push(t);return Cn(r)}function q(t,e,n){return function(r,i,o,a,s){i=I(i[0],e,n);return t(r,i,o,a,s)}}function F(t,a,s,u,c,l,f,h,$){function p(t,e,n,r){if(t){n&&(t=q(t,n,r));t.require=_.require;t.directiveName=L;(O===_||_.$$isolateScope)&&(t=et(t,{isolateScope:!0}));f.push(t)}if(e){n&&(e=q(e,n,r));e.require=_.require;e.directiveName=L;(O===_||_.$$isolateScope)&&(e=et(e,{isolateScope:!0}));h.push(e)}}function w(t,e,n,r){var i,a="data",s=!1,u=n,c;if(y(e)){c=e.match(v);e=e.substring(c[0].length);c[3]&&(c[1]?c[3]=null:c[1]=c[3]);"^"===c[1]?a="inheritedData":"^^"===c[1]&&(a="inheritedData",u=n.parent());"?"===c[2]&&(s=!0);i=null;r&&"data"===a&&(i=r[e])&&(i=i.instance);i=i||u[a]("$"+e+"Controller");if(!i&&!s)throw $r("ctreq",e,t);return i||null}jn(e)&&(i=[],o(e,function(e){i.push(w(t,e,n,r))}));return i}function b(t,e,i,u,c){function l(t,e,r){var i;A(t)||(r=e,e=t,t=n);P&&(i=y);r||(r=P?x.parent():x);return c(t,e,i,r,M)}var $,p,v,g,y,b,x,S;a===i?(S=s,x=s.$$element):(x=Cn(i),S=new it(x,s));O&&(g=e.$new(!0));c&&(b=l,b.$$boundTransclude=c);k&&(E={},y={},o(k,function(t){var n={$scope:t===O||t.$$isolateScope?g:e,$element:x,$attrs:S,$transclude:b};v=t.controller;"@"==v&&(v=S[t.name]);n=m(v,n,!0,t.controllerAs);y[t.name]=n;P||x.data("$"+t.name+"Controller",n.instance);E[t.name]=n}));if(O){N.$$addScopeInfo(x,g,!0,!(T&&(T===O||T===O.$$originalDirective)));N.$$addScopeClass(x,!0);u=E&&E[O.name];var C=g;u&&u.identifier&&!0===O.bindToController&&(C=u.instance);o(g.$$isolateBindings=O.$$isolateBindings,function(t,n){var i=t.attrName,o=t.optional,a,s,u,c;switch(t.mode){case"@":S.$observe(i,function(t){C[n]=t});S.$$observers[i].$$scope=e;S[i]&&(C[n]=r(S[i])(e));break;case"=":if(o&&!S[i])break;s=d(S[i]);c=s.literal?D:function(t,e){return t===e||t!==t&&e!==e};u=s.assign||function(){a=C[n]=s(e);throw $r("nonassign",S[i],O.name)};a=C[n]=s(e);o=function(t){c(t,C[n])||(c(t,a)?u(e,t=C[n]):C[n]=t);return a=t};o.$stateful=!0;o=t.collection?e.$watchCollection(S[i],o):e.$watch(d(S[i],o),null,s.literal);g.$on("$destroy",o);break;case"&":s=d(S[i]),C[n]=function(t){return s(e,t)}}})}E&&(o(E,function(t){t()}),E=null);u=0;for($=f.length;u<$;u++)p=f[u],nt(p,p.isolateScope?g:e,x,S,p.require&&w(p.directiveName,p.require,x,y),b);var M=e;O&&(O.template||null===O.templateUrl)&&(M=g);t&&t(M,i.childNodes,n,c);for(u=h.length-1;0<=u;u--)p=h[u],nt(p,p.isolateScope?g:e,x,S,p.require&&w(p.directiveName,p.require,x,y),b)}$=$||{};for(var S=-Number.MAX_VALUE,C,k=$.controllerDirectives,E,O=$.newIsolateScopeDirective,T=$.templateDirective,M=$.nonTlbTranscludeDirective,V=!1,j=!1,P=$.hasElementTranscludeDirective,F=s.$$element=Cn(a),_,L,G,J=u,Z,K=0,X=t.length;K<X;K++){_=t[K];var Q=_.$$start,rt=_.$$end;Q&&(F=I(a,Q,rt));G=n;if(S>_.priority)break;(G=_.scope)&&(_.templateUrl||(g(G)?(W("new/isolated scope",O||C,_,F),O=_):W("new/isolated scope",O,_,F)),C=C||_);L=_.name;!_.templateUrl&&_.controller&&(G=_.controller,k=k||{},W("'"+L+"' controller",k[L],_,F),k[L]=_);(G=_.transclude)&&(V=!0,_.$$tlb||(W("transclusion",M,_,F),M=_),"element"==G?(P=!0,S=_.priority,G=F,F=s.$$element=Cn(e.createComment(" "+L+": "+s[L]+" ")),a=F[0],tt(c,kn.call(G,0),a),J=N(G,u,S,l&&l.name,{nonTlbTranscludeDirective:M})):(G=Cn(lt(a)).contents(),F.empty(),J=N(G,u)));if(_.template)if(j=!0,W("template",T,_,F),T=_,G=x(_.template)?_.template(F,s):_.template,G=st(G),_.replace){l=_;G=Xn.test(G)?_t(Y(_.templateNamespace,Pn(G))):[];a=G[0];if(1!=G.length||a.nodeType!==_n)throw $r("tplrt",L,"");tt(c,F,a);X={$attr:{}};G=R(a,[],X);var ot=t.splice(K+1,t.length-(K+1));O&&H(G);t=t.concat(G).concat(ot);B(s,X);X=t.length}else F.html(G);if(_.templateUrl)j=!0,W("template",T,_,F),T=_,_.replace&&(l=_),b=z(t.splice(K,t.length-K),F,s,c,V&&J,f,h,{controllerDirectives:k,newIsolateScopeDirective:O,templateDirective:T,nonTlbTranscludeDirective:M}),X=t.length;else if(_.compile)try{Z=_.compile(F,s,J),x(Z)?p(null,Z,Q,rt):Z&&p(Z.pre,Z.post,Q,rt)}catch(t){i(t,U(F))}_.terminal&&(b.terminal=!0,S=Math.max(S,_.priority))}b.scope=C&&!0===C.scope;b.transcludeOnThisElement=V;b.elementTranscludeOnThisElement=P;b.templateOnThisElement=j;b.transclude=J;$.hasElementTranscludeDirective=P;return b}function H(t){for(var e=0,n=t.length;e<n;e++)t[e]=h(t[e],{$$isolateScope:!0})}function _(e,r,o,s,u,c,l){if(r===u)return null;u=null;if(a.hasOwnProperty(r)){var f;r=t.get(r+"Directive");for(var $=0,p=r.length;$<p;$++)try{f=r[$],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(o)&&(c&&(f=h(f,{$$start:c,$$end:l})),e.push(f),u=f)}catch(t){i(t)}}return u}function L(e){if(a.hasOwnProperty(e))for(var n=t.get(e+"Directive"),r=0,i=n.length;r<i;r++)if(e=n[r],e.multiElement)return!0;return!1}function B(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))});o(e,function(e,o){"class"==o?(V(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function z(t,e,n,r,i,a,u,c){var l=[],f,$,p=e[0],d=t.shift(),v=h(d,{templateUrl:null,transclude:null,replace:null,$$originalDirective:d}),m=x(d.templateUrl)?d.templateUrl(e,n):d.templateUrl,y=d.templateNamespace;e.empty();s(k.getTrustedResourceUrl(m)).then(function(s){var h,w;s=st(s);if(d.replace){s=Xn.test(s)?_t(Y(y,Pn(s))):[];h=s[0];if(1!=s.length||h.nodeType!==_n)throw $r("tplrt",d.name,m);s={$attr:{}};tt(r,e,h);var b=R(h,[],s);g(d.scope)&&H(b);t=b.concat(t);B(n,s)}else h=p,e.html(s);t.unshift(v);f=F(t,h,n,i,e,d,a,u,c);o(r,function(t,n){t==h&&(r[n]=e[0])});for($=j(e[0].childNodes,i);l.length;){s=l.shift();w=l.shift();var x=l.shift(),S=l.shift(),b=e[0];if(!s.$$destroyed){if(w!==p){var C=w.className;c.hasElementTranscludeDirective&&d.replace||(b=lt(h));tt(x,Cn(w),b);V(Cn(b),C)}w=f.transcludeOnThisElement?P(s,f.transclude,S):S;f($,s,b,r,w)}}l=null});return function(t,e,n,r,i){t=i;e.$$destroyed||(l?l.push(e,n,r,t):(f.transcludeOnThisElement&&(t=P(e,f.transclude,i)),f($,e,n,r,t)))}}function G(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function W(t,e,n,r){if(e)throw $r("multidir",e.name,n.name,t,U(r))}function J(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;e&&N.$$addBindingClass(t);return function(t,r){var i=r.parent();e||N.$$addBindingClass(i);N.$$addBindingInfo(i,n.expressions);t.$watch(n,function(t){r[0].nodeValue=t})}}})}function Y(t,n){t=wn(t||"html");switch(t){case"svg":case"math":var r=e.createElement("div");r.innerHTML="<"+t+">"+n+"</"+t+">";return r.childNodes[0].childNodes;default:return n}}function K(t,e){if("srcdoc"==e)return k.HTML;var n=T(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?k.RESOURCE_URL:void 0}function Q(t,e,n,i,o){var a=K(t,i);o=f[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===T(t))throw $r("selmulti",U(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){e=u.$$observers||(u.$$observers={});if(w.test(i))throw $r("nodomevents");var c=u[i];c!==n&&(s=c&&r(c,!0,a,o),n=c);s&&(u[i]=s(t),(e[i]||(e[i]=[])).$$inter=!0,
(u.$$observers&&u.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function tt(t,n,r){var i=n[0],o=n.length,a=i.parentNode,s,u;if(t)for(s=0,u=t.length;s<u;s++)if(t[s]==i){t[s++]=r;u=s+o-1;for(var c=t.length;s<c;s++,u++)u<c?t[s]=t[u]:delete t[s];t.length-=o-1;t.context===i&&(t.context=r);break}a&&a.replaceChild(r,i);t=e.createDocumentFragment();t.appendChild(i);Cn(r).data(Cn(i).data());An?(Hn=!0,An.cleanData([i])):delete Cn.cache[i[Cn.expando]];i=1;for(o=n.length;i<o;i++)a=n[i],Cn(a).remove(),t.appendChild(a),delete n[i];n[0]=r;n.length=1}function et(t,e){return l(function(){return t.apply(null,arguments)},t,e)}function nt(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(t){i(t,U(n))}}var it=function(t,e){if(e){var n=Object.keys(e),r,i,o;r=0;for(i=n.length;r<i;r++)o=n[r],this[o]=e[o]}else this.$attr={};this.$$element=t};it.prototype={$normalize:Ft,$addClass:function(t){t&&0<t.length&&E.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&E.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Ht(t,e);n&&n.length&&E.addClass(this.$$element,n);(n=Ht(e,t))&&n.length&&E.removeClass(this.$$element,n)},$set:function(t,e,r,a){var s=this.$$element[0],u=At(s,t),c=kt(s,t),s=t;u?(this.$$element.prop(t,e),a=u):c&&(this[c]=e,s=c);this[t]=e;a?this.$attr[t]=a:(a=this.$attr[t])||(this.$attr[t]=a=Z(t,"-"));u=T(this.$$element);if("a"===u&&"href"===t||"img"===u&&"src"===t)this[t]=e=O(e,"src"===t);else if("img"===u&&"srcset"===t){for(var u="",c=Pn(e),l=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=/\s/.test(c)?l:/(,)/,c=c.split(l),l=Math.floor(c.length/2),f=0;f<l;f++)var h=2*f,u=u+O(Pn(c[h]),!0),u=u+(" "+Pn(c[h+1]));c=Pn(c[2*f]).split(/\s/);u+=O(Pn(c[0]),!0);2===c.length&&(u+=" "+Pn(c[1]));this[t]=e=u}!1!==r&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));(t=this.$$observers)&&o(t[s],function(t){try{t(e)}catch(t){i(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=rt()),i=r[t]||(r[t]=[]);i.push(e);S.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])});return function(){M(i,e)}}};var ot=r.startSymbol(),at=r.endSymbol(),st="{{"==ot||"}}"==at?p:function(t){return t.replace(/\{\{/g,ot).replace(/}}/g,at)},ut=/^ngAttr[A-Z]/;N.$$addBindingInfo=b?function(t,e){var n=t.data("$binding")||[];jn(e)?n=n.concat(e):n.push(e);t.data("$binding",n)}:$;N.$$addBindingClass=b?function(t){V(t,"ng-binding")}:$;N.$$addScopeInfo=b?function(t,e,n,r){t.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:$;N.$$addScopeClass=b?function(t,e){V(t,e?"ng-isolate-scope":"ng-scope")}:$;return N}]}function Ft(t){return at(t.replace(pr,""))}function Ht(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/),o=0;t:for(;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(0<n.length?" ":"")+a}return n}function _t(t){t=Cn(t);var e=t.length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&En.call(t,e,1);return t}function Lt(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){tt(e,"controller");g(e)?l(t,e):t[e]=n};this.allowGlobals=function(){e=!0};this.$get=["$injector","$window",function(o,a){function s(t,e,n,i){if(!t||!g(t.$scope))throw r("$controller")("noscp",i,e);t.$scope[e]=n}return function(r,u,c,f){var h,$,p;c=!0===c;f&&y(f)&&(p=f);if(y(r)){f=r.match(i);if(!f)throw dr("ctrlfmt",r);$=f[1];p=p||f[3];r=t.hasOwnProperty($)?t[$]:et(u.$scope,$,!0)||(e?et(a,$,!0):n);Q(r,$,!0)}if(c)return c=(jn(r)?r[r.length-1]:r).prototype,h=Object.create(c||null),p&&s(u,p,h,$||r.name),l(function(){o.invoke(r,h,u,$);return h},{instance:h,identifier:p});h=o.instantiate(r,u,$);p&&s(u,p,h,$||r.name);return h}}]}function Bt(){this.$get=["$window",function(t){return Cn(t.document)}]}function zt(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Gt(t,e){if(y(t)){var n=t.replace(wr,"").trim();if(n){var r=e("Content-Type");(r=r&&0===r.indexOf(vr))||(r=(r=n.match(gr))&&yr[r[0]].test(n));r&&(t=q(n))}}return t}function Wt(t){var e=rt(),n,r,i;if(!t)return e;o(t.split("\n"),function(t){i=t.indexOf(":");n=wn(Pn(t.substr(0,i)));r=Pn(t.substr(i+1));n&&(e[n]=e[n]?e[n]+", "+r:r)});return e}function Jt(t){var e=g(t)?t:n;return function(n){e||(e=Wt(t));return n?(n=e[wn(n)],void 0===n&&(n=null),n):e}}function Yt(t,e,n,r){if(x(r))return r(t,e,n);o(r,function(r){t=r(t,e,n)});return t}function Zt(){var t=this.defaults={transformResponse:[Gt],transformRequest:[function(t){return g(t)&&"[object File]"!==Tn.call(t)&&"[object Blob]"!==Tn.call(t)&&"[object FormData]"!==Tn.call(t)?I(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:N(mr),put:N(mr),patch:N(mr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return m(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(s,u,c,f,h,$){function p(e){function i(t){var e=l({},t);e.data=t.data?Yt(t.data,t.headers,t.status,s.transformResponse):t.data;t=t.status;return 200<=t&&300>t?e:h.reject(e)}function a(t){var e,n={};o(t,function(t,r){x(t)?(e=t(),null!=e&&(n[r]=e)):n[r]=t});return n}if(!Vn.isObject(e))throw r("$http")("badreq",e);var s=l({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);s.headers=function(e){var n=t.headers,r=l({},e.headers),i,o,n=l({},n.common,n[wn(e.method)]);t:for(i in n){e=wn(i);for(o in r)if(wn(o)===e)continue t;r[i]=n[i]}return a(r)}(e);s.method=xn(s.method);var u=[function(e){var r=e.headers,a=Yt(e.data,Jt(r),n,e.transformRequest);v(a)&&o(r,function(t,e){"content-type"===wn(e)&&delete r[e]});v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials);return d(e,a).then(i,i)},n],c=h.when(s);for(o(C,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError);(t.response||t.responseError)&&u.push(t.response,t.responseError)});u.length;){e=u.shift();var f=u.shift(),c=c.then(e,f)}c.success=function(t){c.then(function(e){t(e.data,e.status,e.headers,s)});return c};c.error=function(t){c.then(null,function(e){t(e.data,e.status,e.headers,s)});return c};return c}function d(r,i){function o(t,n,r,i){function o(){a(n,t,r,i)}y&&(200<=t&&300>t?y.put(A,[t,n,Wt(r),i]):y.remove(A));e?f.$applyAsync(o):(o(),f.$$phase||f.$apply())}function a(t,e,n,i){e=Math.max(e,0);(200<=e&&300>e?$.resolve:$.reject)({data:t,status:e,headers:Jt(n),config:r,statusText:i})}function c(t){a(t.data,t.status,N(t.headers()),t.statusText)}function l(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var $=h.defer(),d=$.promise,y,b,C=r.headers,A=w(r.url,r.params);p.pendingRequests.push(r);d.then(l,l);!r.cache&&!t.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(y=g(r.cache)?r.cache:g(t.cache)?t.cache:S);y&&(b=y.get(A),m(b)?b&&x(b.then)?b.then(c,c):jn(b)?a(b[1],b[0],N(b[2]),b[3]):a(b,200,{},"OK"):y.put(A,d));v(b)&&((b=_e(r.url)?u.cookies()[r.xsrfCookieName||t.xsrfCookieName]:n)&&(C[r.xsrfHeaderName||t.xsrfHeaderName]=b),s(r.method,A,i,o,C,r.timeout,r.withCredentials,r.responseType));return d}function w(t,e){if(!e)return t;var n=[];a(e,function(t,e){null===t||v(t)||(jn(t)||(t=[t]),o(t,function(t){g(t)&&(t=b(t)?t.toISOString():I(t));n.push(B(e)+"="+B(t))}))});0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&"));return t}var S=c("$http"),C=[];o(i,function(t){C.unshift(y(t)?$.get(t):$.invoke(t))});p.pendingRequests=[];!function(t){o(arguments,function(t){p[t]=function(e,n){return p(l(n||{},{method:t,url:e}))}})}("get","delete","head","jsonp");!function(t){o(arguments,function(t){p[t]=function(e,n,r){return p(l(r||{},{method:t,url:e,data:n}))}})}("post","put","patch");p.defaults=t;return p}]}function Kt(){return new t.XMLHttpRequest}function Xt(){this.$get=["$browser","$window","$document",function(t,e,n){return Qt(t,Kt,t.defer,e.angular.callbacks,n[0])}]}function Qt(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;r.type="text/javascript";r.src=t;r.async=!0;o=function(t){r.removeEventListener("load",o,!1);r.removeEventListener("error",o,!1);a.body.removeChild(r);r=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200);n&&n(s,u)};r.addEventListener("load",o,!1);r.addEventListener("error",o,!1);a.body.appendChild(r);return o}return function(a,u,c,l,f,h,p,d){function v(){w&&w();b&&b.abort()}function g(e,i,o,a,s){S!==n&&r.cancel(S);w=b=null;e(i,o,a,s);t.$$completeOutstandingRequest($)}t.$$incOutstandingRequestCount();u=u||t.url();if("jsonp"==wn(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t;i[y].called=!0};var w=s(u.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){g(l,t,i[y].data,"",e);i[y]=$})}else{var b=e();b.open(a,u,!0);o(f,function(t,e){m(t)&&b.setRequestHeader(e,t)});b.onload=function(){var t=b.statusText||"",e="response"in b?b.response:b.responseText,n=1223===b.status?204:b.status;0===n&&(n=e?200:"file"==He(u).protocol?404:0);g(l,n,e,b.getAllResponseHeaders(),t)};a=function(){g(l,-1,null,null,"")};b.onerror=a;b.onabort=a;p&&(b.withCredentials=!0);if(d)try{b.responseType=d}catch(t){if("json"!==d)throw t}b.send(c||null)}if(0<h)var S=r(v,h);else h&&x(h.then)&&h.then(v)}}function te(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t};this.endSymbol=function(t){return t?(e=t,this):e};this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(o,a,h,$){function p(n){return n.replace(c,t).replace(f,e)}function d(t){try{var e=t;t=h?i.getTrusted(h,e):i.valueOf(e);var n;if($&&!m(t))n=t;else if(null==t)n="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=I(t)}n=t}return n}catch(t){n=br("interr",o,t.toString()),r(n)}}$=!!$;for(var g,y,w=0,b=[],S=[],C=o.length,A=[],k=[];w<C;){if(-1==(g=o.indexOf(t,w))||-1==(y=o.indexOf(e,g+s))){w!==C&&A.push(p(o.substring(w)));break}w!==g&&A.push(p(o.substring(w,g))),w=o.substring(g+s,y),b.push(w),S.push(n(w,d)),w=y+u,k.push(A.length),A.push("")}if(h&&1<A.length)throw br("noconcat",o);if(!a||b.length){var E=function(t){for(var e=0,n=b.length;e<n;e++){if($&&v(t[e]))return;A[k[e]]=t[e]}return A.join("")};return l(function(t){var e=0,n=b.length,i=Array(n);try{for(;e<n;e++)i[e]=S[e](t);return E(i)}catch(e){t=br("interr",o,e.toString()),r(t)}},{exp:o,expressions:b,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup(S,function(n,i){var o=E(n);x(e)&&e.call(this,o,n!==i?r:o,t);r=o},n)}})}}var s=t.length,u=e.length,c=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");a.startSymbol=function(){return t};a.endSymbol=function(){return e};return a}]}function ee(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,u){var c=e.setInterval,l=e.clearInterval,f=0,h=m(u)&&!u,$=(h?r:n).defer(),p=$.promise;s=m(s)?s:0;p.then(null,null,i);p.$$intervalId=c(function(){$.notify(f++);0<s&&f>=s&&($.resolve(f),l(p.$$intervalId),delete o[p.$$intervalId]);h||t.$apply()},a);o[p.$$intervalId]=$;return p}var o={};i.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)};return i}]}function ne(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function re(t){t=t.split("/");for(var e=t.length;e--;)t[e]=L(t[e]);return t.join("/")}function ie(t,e){var n=He(t);e.$$protocol=n.protocol;e.$$host=n.hostname;e.$$port=f(n.port)||Sr[n.protocol]||null}function oe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=He(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname);e.$$search=H(r.search);e.$$hash=decodeURIComponent(r.hash);e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ae(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function se(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function ue(t){return t.replace(/(#.+)|#$/,"$1")}function ce(t){return t.substr(0,se(t).lastIndexOf("/")+1)}function le(t,e){this.$$html5=!0;e=e||"";var r=ce(t);ie(t,this);this.$$parse=function(t){var e=ae(r,t);if(!y(e))throw Cr("ipthprfx",t,r);oe(e,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var t=_(this.$$search),e=this.$$hash?"#"+L(this.$$hash):"";this.$$url=re(this.$$path)+(t?"?"+t:"")+e;this.$$absUrl=r+this.$$url.substr(1)};this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s;(a=ae(t,i))!==n?(s=a,s=(a=ae(e,a))!==n?r+(ae("/",a)||a):t+s):(a=ae(r,i))!==n?s=r+a:r==i+"/"&&(s=r);s&&this.$$parse(s);return!!s}}function fe(t,e){var n=ce(t);ie(t,this);this.$$parse=function(r){r=ae(t,r)||ae(n,r);var i;"#"===r.charAt(0)?(i=ae(e,r),v(i)&&(i=r)):i=this.$$html5?r:"";oe(i,this);r=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===i.indexOf(t)&&(i=i.replace(t,""));o.exec(i)||(r=(i=o.exec(r))?i[1]:r);this.$$path=r;this.$$compose()};this.$$compose=function(){var n=_(this.$$search),r=this.$$hash?"#"+L(this.$$hash):"";this.$$url=re(this.$$path)+(n?"?"+n:"")+r;this.$$absUrl=t+(this.$$url?e+this.$$url:"")};this.$$parseLinkUrl=function(e,n){return se(t)==se(e)&&(this.$$parse(e),!0)}}function he(t,e){this.$$html5=!0;fe.apply(this,arguments);var n=ce(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;t==se(r)?o=r:(a=ae(n,r))?o=t+e+a:n===r+"/"&&(o=n);o&&this.$$parse(o);return!!o};this.$$compose=function(){var n=_(this.$$search),r=this.$$hash?"#"+L(this.$$hash):"";this.$$url=re(this.$$path)+(n?"?"+n:"")+r;this.$$absUrl=t+e+this.$$url}}function $e(t){return function(){return this[t]}}function pe(t,e){return function(n){if(v(n))return this[t];this[t]=e(n);this.$$compose();return this}}function de(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return m(e)?(t=e,this):t};this.html5Mode=function(t){return k(t)?(e.enabled=t,this):g(t)?(k(t.enabled)&&(e.enabled=t.enabled),k(t.requireBase)&&(e.requireBase=t.requireBase),k(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(t){throw c.url(i),c.$$state=o,t}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l;l=r.baseHref();var f=r.url(),h;if(e.enabled){if(!l&&e.requireBase)throw Cr("nobase");h=f.substring(0,f.indexOf("/",f.indexOf("//")+2))+(l||"/");l=i.history?le:he}else h=se(f),l=fe;c=new l(h,"#"+t);c.$$parseLinkUrl(f,f);c.$$state=r.state();var $=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Cn(t.target);"a"!==T(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");g(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=He(s.animVal).href);$.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(s,u)||(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}});ue(c.absUrl())!=ue(f)&&r.url(c.absUrl(),!0);var p=!0;r.onUrlChange(function(t,e){n.$evalAsync(function(){var r=c.absUrl(),i=c.$$state,o;c.$$parse(t);c.$$state=e;o=n.$broadcast("$locationChangeStart",t,r,e,i).defaultPrevented;c.absUrl()===t&&(o?(c.$$parse(r),c.$$state=i,s(r,!1,i)):(p=!1,u(r,i)))});n.$$phase||n.$digest()});n.$watch(function(){var t=ue(r.url()),e=ue(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(p||l)&&(p=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))}));c.$$replace=!1});return c}]}function ve(){var t=!0,e=this;this.debugEnabled=function(e){return m(e)?(t=e,this):t};this.$get=["$window",function(n){function r(t){t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line));return t}function i(t){var e=n.console||{},i=e[t]||e.log||$;t=!1;try{t=!!i.apply}catch(t){}return t?function(){var t=[];o(arguments,function(e){t.push(r(e))});return i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function me(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw kr("isecfld",e);return t}function ge(t,e){if(t){if(t.constructor===t)throw kr("isecfn",e);if(t.window===t)throw kr("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw kr("isecdom",e);if(t===Object)throw kr("isecobj",e)}return t}function ye(t){return t.constant}function we(t,e,n,r,i){ge(t,i);ge(e,i);n=n.split(".");for(var o,a=0;1<n.length;a++){o=me(n.shift(),i);var s=0===a&&e&&e[o]||t[o];s||(s={},t[o]=s);t=ge(s,i)}o=me(n.shift(),i);ge(t[o],i);return t[o]=r}function be(t){return"constructor"==t}function xe(t,e,r,i,o,a,s){me(t,a);me(e,a);me(r,a);me(i,a);me(o,a);var u=function(t){return ge(t,a)},c=s||be(t)?u:p,l=s||be(e)?u:p,f=s||be(r)?u:p,h=s||be(i)?u:p,$=s||be(o)?u:p;return function(a,s){var u=s&&s.hasOwnProperty(t)?s:a;if(null==u)return u;u=c(u[t]);if(!e)return u;if(null==u)return n;u=l(u[e]);if(!r)return u;if(null==u)return n;u=f(u[r]);if(!i)return u;if(null==u)return n;u=h(u[i]);return o?null==u?n:u=$(u[o]):u}}function Se(t,e){return function(n,r){return t(n,r,ge,e)}}function Ce(t,e,r){var i=e.expensiveChecks,a=i?Rr:Pr,s=a[t];if(s)return s;var u=t.split("."),c=u.length;if(e.csp)s=6>c?xe(u[0],u[1],u[2],u[3],u[4],r,i):function(t,e){var o=0,a;do a=xe(u[o++],u[o++],u[o++],u[o++],u[o++],r,i)(t,e),e=n,t=a;while(o<c);return a};else{var l="";i&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var f=i;o(u,function(t,e){me(t,r);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(i||be(t))&&(n="eso("+n+", fe)",f=!0);l+="if(s == null) return undefined;\ns="+n+";\n"});l+="return s;";e=new Function("s","l","eso","fe",l);e.toString=d(l);f&&(e=Se(e,r));s=e}s.sharedGetter=!0;s.assign=function(e,n,r){return we(e,r,t,n,t)};return a[t]=s}function Ae(t){return x(t.valueOf)?t.valueOf():Ir.call(t)}function ke(){var t=rt(),e=rt();this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign);return e}function a(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];i.constant||(i.inputs?a(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function s(t,e){return null==t||null==e?t===e:("object"!==typeof t||(t=Ae(t),"object"!==typeof t))&&(t===e||t!==t&&e!==e)}function u(t,e,n,r){var i=r.$$inputs||(r.$$inputs=a(r.inputs,[])),o;if(1===i.length){var u=s,i=i[0];return t.$watch(function(t){var e=i(t);s(e,u)||(o=r(t),u=e&&Ae(e));return o},e,n)}for(var c=[],l=0,f=i.length;l<f;l++)c[l]=s;return t.$watch(function(t){for(var e=!1,n=0,a=i.length;n<a;n++){var u=i[n](t);(e||(e=!s(u,c[n])))&&(c[n]=u&&Ae(u))}e&&(o=r(t));return o},e,n)}function c(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t;x(e)&&e.apply(this,arguments);m(t)&&r.$$postDigest(function(){m(o)&&i()})},n)}function l(t,e,n,r){function i(t){var e=!0;o(t,function(t){m(t)||(e=!1)});return e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t;x(e)&&e.call(this,t,n,r);i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){x(e)&&e.apply(this,arguments);i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,n=n!==l&&n!==c?function(n,r){var i=t(n,r);return e(i,n,r)}:function(n,r){var i=t(n,r),o=e(i,n,r);return m(i)?o:i};t.$$watchDelegate&&t.$$watchDelegate!==u?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=u,n.inputs=[t]);return n}var p={csp:r.csp,expensiveChecks:!1},d={csp:r.csp,expensiveChecks:!0};return function(r,o,a){var s,v,m;switch(typeof r){case"string":m=r=r.trim();var g=a?e:t;s=g[m];s||(":"===r.charAt(0)&&":"===r.charAt(1)&&(v=!0,r=r.substring(2)),a=a?d:p,s=new Dr(a),s=new jr(s,n,a).parse(r),s.constant?s.$$watchDelegate=f:v?(s=i(s),s.$$watchDelegate=s.literal?l:c):s.inputs&&(s.$$watchDelegate=u),g[m]=s);return h(s,o);case"function":return h(r,o);default:return h($,o)}}}]}function Ee(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Te(function(e){t.$evalAsync(e)},e)}]}function Oe(){this.$get=["$browser","$exceptionHandler",function(t,e){return Te(function(e){t.defer(e)},e)}]}function Te(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,t(function(){var t,i,o;o=r.pending;r.processScheduled=!1;r.pending=n;for(var a=0,s=o.length;a<s;++a){i=o[a][0];t=o[a][r.status];try{x(t)?i.resolve(t(r.value)):1===r.status?i.resolve(r.value):i.reject(r.value)}catch(t){i.reject(t),e(t)}}}))}function c(){this.promise=new a;this.resolve=s(this,this.resolve);this.reject=s(this,this.reject);this.notify=s(this,this.notify)}var l=r("$q",TypeError);a.prototype={then:function(t,e,n){var r=new c;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([r,t,e,n]);0<this.$$state.status&&u(this.$$state);return r.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return h(e,!0,t)},function(e){return h(e,!1,t)},e)}};c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(l("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(g(t)||x(t))&&(n=t&&t.then);x(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(t){r[1](t),e(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t;this.promise.$$state.status=2;u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;o<a;o++){i=r[o][0];t=r[o][3];try{i.notify(x(t)?t(n):n)}catch(t){e(t)}}})}};var f=function(t,e){var n=new c;e?n.resolve(t):n.reject(t);return n.promise},h=function(t,e,n){var r=null;try{x(n)&&(r=n())}catch(t){return f(t,!1)}return r&&x(r.then)?r.then(function(){return f(t,e)},function(t){return f(t,!1)}):f(t,e)},$=function(t,e,n,r){var i=new c;i.resolve(t);return i.promise.then(e,n,r)},p=function t(e){if(!x(e))throw l("norslvr",e);if(!(this instanceof t))return new t(e);var n=new c;e(function(t){n.resolve(t)},function(t){n.reject(t)});return n.promise};p.defer=function(){return new c};p.reject=function(t){var e=new c;e.reject(t);return e.promise};p.when=$;p.all=function(t){var e=new c,n=0,r=jn(t)?[]:{};o(t,function(t,i){n++;$(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})});0===n&&e.resolve(r);return e.promise};return p}function Me(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};o.supported=i;return o}]}function Ve(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++Dn;this.$$ChildScope=null}e.prototype=t;return e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){arguments.length&&(e=t);return e};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(){this.$id=++Dn;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function p(t){if(b.$$phase)throw n("inprog",b.$$phase);b.$$phase=t}function d(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function m(){}function y(){for(;A.length;)try{A.shift()()}catch(t){u(t)}s=null}function w(){null===s&&(s=l.defer(function(){b.$apply(y)}))}h.prototype={constructor:h,$new:function(e,n){var r;n=n||this;e?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope);r.$parent=n;r.$$prevSibling=n.$$childTail;n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r;(e||n!=this)&&r.$on("$destroy",f);return r},$watch:function(t,e,n){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r);var i=this.$$watchers,o={fn:e,last:m,get:r,exp:t,eq:!!n};a=null;x(e)||(o.fn=$);i||(i=this.$$watchers=[]);i.unshift(o);return function(){M(i,o);a=null}},$watchGroup:function(t,e){function n(){u=!1;c?(c=!1,e(i,i,s)):e(i,r,s)}var r=Array(t.length),i=Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;s.$evalAsync(function(){l&&e(i,i,s)});return function(){l=!1}}if(1===t.length)return this.$watch(t[0],function(t,n,o){i[0]=t;r[0]=n;e(i,t===n?i:r,o)});o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t;r[e]=o;u||(u=!0,s.$evalAsync(n))});a.push(o)});return function(){for(;a.length;)a.shift()()}},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s;if(!v(o)){if(g(o))if(i(o))for(a!==h&&(a=h,d=a.length=0,l++),t=o.length,d!==t&&(l++,a.length=d=t),e=0;e<t;e++)s=a[e],r=o[e],n=s!==s&&r!==r,n||s===r||(l++,a[e]=r);else{a!==$&&(a=$={},d=0,l++);t=0;for(e in o)o.hasOwnProperty(e)&&(t++,r=o[e],s=a[e],e in a?(n=s!==s&&r!==r,n||s===r||(l++,a[e]=r)):(d++,a[e]=r,l++));if(d>t)for(e in l++,a)o.hasOwnProperty(e)||(d--,delete a[e])}else a!==o&&(a=o,l++);return l}}n.$stateful=!0;var r=this,o,a,s,u=1<e.length,l=0,f=c(t,n),h=[],$={},p=!0,d=0;return this.$watch(f,function(){p?(p=!1,e(o,o,r)):e(o,s,r);if(u)if(g(o))if(i(o)){s=Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else for(t in s={},o)bn.call(o,t)&&(s[t]=o[t]);else s=o})},$digest:function(){var t,r,i,o,c,f,h=e,$,d=[],v,g;p("$digest");l.$$checkUrlChange();this===b&&null!==s&&(l.defer.cancel(s),y());a=null;do{f=!1;for($=this;S.length;){try{g=S.shift(),g.scope.$eval(g.expression,g.locals)}catch(t){u(t)}a=null}t:do{if(o=$.$$watchers)for(c=o.length;c--;)try{if(t=o[c])if((r=t.get($))===(i=t.last)||(t.eq?D(r,i):"number"===typeof r&&"number"===typeof i&&isNaN(r)&&isNaN(i))){if(t===a){f=!1;break t}}else f=!0,a=t,t.last=t.eq?V(r,null):r,t.fn(r,i===m?r:i,$),5>h&&(v=4-h,d[v]||(d[v]=[]),d[v].push({msg:x(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(t){u(t)}if(!(o=$.$$childHead||$!==this&&$.$$nextSibling))for(;$!==this&&!(o=$.$$nextSibling);)$=$.$parent}while($=o);if((f||S.length)&&!h--)throw b.$$phase=null,n("infdig",e,d)}while(f||S.length);for(b.$$phase=null;C.length;)try{C.shift()()}catch(t){u(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==b){for(var e in this.$$listenerCount)d(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling);t.$$childTail==this&&(t.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=$;this.$on=this.$watch=this.$watchGroup=function(){return $};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){b.$$phase||S.length||l.defer(function(){S.length&&b.$digest()});S.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(t){u(t)}finally{b.$$phase=null;try{b.$digest()}catch(t){throw u(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e);w()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]);n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,d(i,1,t))}},$emit:function(t,e){var n=[],r,i=this,o=!1,a={name:t,targetScope:i,stopPropagation:function(){o=!0},preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1},s=j([a],arguments,1),c,l;do{r=i.$$listeners[t]||n;a.currentScope=i;c=0;for(l=r.length;c<l;c++)if(r[c])try{r[c].apply(null,s)}catch(t){u(t)}else r.splice(c,1),c--,l--;if(o)return a.currentScope=null,a;i=i.$parent}while(i);a.currentScope=null;return a},$broadcast:function(t,e){var n=this,r=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return i;for(var o=j([i],arguments,1),a,s;n=r;){i.currentScope=n;r=n.$$listeners[t]||[];a=0;for(s=r.length;a<s;a++)if(r[a])try{r[a].apply(null,o)}catch(t){u(t)}else r.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}i.currentScope=null;return i}};var b=new h,S=b.$$asyncQueue=[],C=b.$$postDigestQueue=[],A=b.$$applyAsyncQueue=[];return b}]}function Ne(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return m(e)?(t=e,this):t};this.imgSrcSanitizationWhitelist=function(t){return m(t)?(e=t,this):e};this.$get=function(){return function(n,r){var i=r?e:t,o;o=He(n).href;return""===o||o.match(i)?n:"unsafe:"+o}}}function De(t){if("self"===t)return t;if(y(t)){if(-1<t.indexOf("***"))throw qr("iwcard",t);t=Rn(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw qr("imatcher")}function je(t){var e=[];m(t)&&o(t,function(t){e.push(De(t))});return e}function Pe(){this.SCE_CONTEXTS=Ur;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){arguments.length&&(t=je(e));return t};this.resourceUrlBlacklist=function(t){arguments.length&&(e=je(t));return e};this.$get=["$injector",function(r){function i(t,e){return"self"===t?_e(e):!!t.exec(e.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};t&&(e.prototype=new t);e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return e}var a=function(t){throw qr("unsafe")};r.has("$sanitize")&&(a=r.get("$sanitize"));var s=o(),u={};u[Ur.HTML]=o(s);u[Ur.CSS]=o(s);
u[Ur.URL]=o(s);u[Ur.JS]=o(s);u[Ur.RESOURCE_URL]=o(u[Ur.URL]);return{trustAs:function(t,e){var r=u.hasOwnProperty(t)?u[t]:null;if(!r)throw qr("icontext",t,e);if(null===e||e===n||""===e)return e;if("string"!==typeof e)throw qr("itype",t);return new r(e)},getTrusted:function(r,o){if(null===o||o===n||""===o)return o;var s=u.hasOwnProperty(r)?u[r]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(r===Ur.RESOURCE_URL){var s=He(o.toString()),c,l,f=!1;c=0;for(l=t.length;c<l;c++)if(i(t[c],s)){f=!0;break}if(f)for(c=0,l=e.length;c<l;c++)if(i(e[c],s)){f=!1;break}if(f)return o;throw qr("insecurl",o.toString())}if(r===Ur.HTML)return a(o);throw qr("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Re(){var t=!0;this.enabled=function(e){arguments.length&&(t=!!e);return t};this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Sn)throw qr("iequirks");var r=N(Ur);r.isEnabled=function(){return t};r.trustAs=n.trustAs;r.getTrusted=n.getTrusted;r.valueOf=n.valueOf;t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=p);r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;o(Ur,function(t,e){var n=wn(e);r[at("parse_as_"+n)]=function(e){return i(t,e)};r[at("get_trusted_"+n)]=function(e){return a(t,e)};r[at("trust_as_"+n)]=function(e){return s(t,e)}});return r}]}function Ie(){this.$get=["$window","$document",function(t,e){var n={},r=f((/android (\d+)/.exec(wn((t.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((t.navigator||{}).userAgent),o=e[0]||{},a,s=/^(Moz|webkit|ms)(?=[A-Z])/,u=o.body&&o.body.style,c=!1,l=!1;if(u){for(var h in u)if(c=s.exec(h)){a=c[0];a=a.substr(0,1).toUpperCase()+a.substr(1);break}a||(a="WebkitOpacity"in u&&"webkit");c=!!("transition"in u||a+"Transition"in u);l=!!("animation"in u||a+"Animation"in u);!r||c&&l||(c=y(o.body.style.webkitTransition),l=y(o.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>r||i),hasEvent:function(t){if("input"===t&&11>=Sn)return!1;if(v(n[t])){var e=o.createElement("div");n[t]="on"+t in e}return n[t]},csp:In(),vendorPrefix:a,transitions:c,animations:l,android:r}}]}function qe(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){r.totalPendingRequests++;var a=e.defaults&&e.defaults.transformResponse;jn(a)?a=a.filter(function(t){return t!==Gt}):a===Gt&&(a=null);return e.get(i,{cache:t,transformResponse:a})["finally"](function(){r.totalPendingRequests--}).then(function(t){return t.data},function(t){if(!o)throw $r("tpload",i);return n.reject(t)})}r.totalPendingRequests=0;return r}]}function Ue(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var r=[];o(t,function(t){var i=Vn.element(t).data("$binding");i&&o(i,function(i){n?new RegExp("(^|\\s)"+Rn(e)+"(\\s|\\||$)").test(i)&&r.push(t):-1!=i.indexOf(e)&&r.push(t)})});return r},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=t.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function Fe(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){var c=m(u)&&!u,l=(c?r:n).defer(),f=l.promise;s=e.defer(function(){try{l.resolve(o())}catch(t){l.reject(t),i(t)}finally{delete a[f.$$timeoutId]}c||t.$apply()},s);f.$$timeoutId=s;a[s]=l;return f}var a={};o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))};return o}]}function He(t){Sn&&(Fr.setAttribute("href",t),t=Fr.href);Fr.setAttribute("href",t);return{href:Fr.href,protocol:Fr.protocol?Fr.protocol.replace(/:$/,""):"",host:Fr.host,search:Fr.search?Fr.search.replace(/^\?/,""):"",hash:Fr.hash?Fr.hash.replace(/^#/,""):"",hostname:Fr.hostname,port:Fr.port,pathname:"/"===Fr.pathname.charAt(0)?Fr.pathname:"/"+Fr.pathname}}function _e(t){t=y(t)?He(t):t;return t.protocol===Hr.protocol&&t.host===Hr.host}function Le(){this.$get=d(t)}function Be(t){function e(n,r){if(g(n)){var i={};o(n,function(t,n){i[n]=e(n,t)});return i}return t.factory(n+"Filter",r)}this.register=e;this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}];e("currency",Je);e("date",rn);e("filter",ze);e("json",on);e("limitTo",an);e("lowercase",Gr);e("number",Ye);e("orderBy",sn);e("uppercase",Wr)}function ze(){return function(t,e,n){if(!jn(t))return t;var r;switch(typeof e){case"function":break;case"boolean":case"number":case"string":r=!0;case"object":e=Ge(e,n,r);break;default:return t}return t.filter(e)}}function Ge(t,e,n){var r=g(t)&&"$"in t;!0===e?e=D:x(e)||(e=function(t,e){if(g(t)||g(e))return!1;t=wn(""+t);e=wn(""+e);return-1!==t.indexOf(e)});return function(i){return r&&!g(i)?We(i,t.$,e,!1):We(i,t,e,n)}}function We(t,e,n,r,i){var o=null!==t?typeof t:"null",a=null!==e?typeof e:"null";if("string"===a&&"!"===e.charAt(0))return!We(t,e.substring(1),n,r);if(jn(t))return t.some(function(t){return We(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&We(t[s],e,n,!0))return!0;return!i&&We(t,e,n,!1)}if("object"===a){for(s in e)if(i=e[s],!x(i)&&!v(i)&&(o="$"===s,!We(o?t:t[s],i,n,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Je(t){var e=t.NUMBER_FORMATS;return function(t,n,r){v(n)&&(n=e.CURRENCY_SYM);v(r)&&(r=e.PATTERNS[1].maxFrac);return null==t?t:Ze(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Ye(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Ze(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Ze(t,e,n,r,i){if(!isFinite(t)||g(t))return"";var o=0>t;t=Math.abs(t);var a=t+"",s="",u=[],c=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?t=0:(s=a,c=!0)}if(c)0<i&&1>t&&(s=t.toFixed(i),t=parseFloat(s));else{a=(a.split(_r)[1]||"").length;v(i)&&(i=Math.min(Math.max(e.minFrac,a),e.maxFrac));t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var a=(""+t).split(_r),c=a[0],a=a[1]||"",f=0,h=e.lgSize,$=e.gSize;if(c.length>=h+$)for(f=c.length-h,l=0;l<f;l++)0===(f-l)%$&&0!==l&&(s+=n),s+=c.charAt(l);for(l=f;l<c.length;l++)0===(c.length-l)%h&&0!==l&&(s+=n),s+=c.charAt(l);for(;a.length<i;)a+="0";i&&"0"!==i&&(s+=r+a.substr(0,i))}0===t&&(o=!1);u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf);return u.join("")}function Ke(t,e,n){var r="";0>t&&(r="-",t=-t);for(t=""+t;t.length<e;)t="0"+t;n&&(t=t.substr(t.length-e));return r+t}function Xe(t,e,n,r){n=n||0;return function(i){i=i["get"+t]();(0<n||i>-n)&&(i+=n);0===i&&-12==n&&(i=12);return Ke(i,e,r)}}function Qe(t,e){return function(n,r){var i=n["get"+t](),o=xn(e?"SHORT"+t:t);return r[o][i]}}function tn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function en(t){return function(e){var n=tn(e.getFullYear());e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n;e=1+Math.round(e/6048e5);return Ke(e,t)}}function nn(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function rn(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var r=0,i=0,o=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(r=f(e[9]+e[10]),i=f(e[9]+e[11]));o.call(t,f(e[1]),f(e[2])-1,f(e[3]));r=f(e[4]||0)-r;i=f(e[5]||0)-i;o=f(e[6]||0);e=Math.round(1e3*parseFloat("0."+(e[7]||0)));a.call(t,r,i,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a="",s=[],u,c;r=r||"mediumDate";r=t.DATETIME_FORMATS[r]||r;y(n)&&(n=zr.test(n)?f(n):e(n));w(n)&&(n=new Date(n));if(!b(n))return n;for(;r;)(c=Br.exec(r))?(s=j(s,c,1),r=s.pop()):(s.push(r),r=null);i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset()));o(s,function(e){u=Lr[e];a+=u?u(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return a}}function on(){return function(t,e){v(e)&&(e=2);return I(t,e)}}function an(){return function(t,e){w(t)&&(t=t.toString());return jn(t)||y(t)?(e=1/0===Math.abs(Number(e))?Number(e):f(e))?0<e?t.slice(0,e):t.slice(e):y(t)?"":[]:t}}function sn(t){return function(e,n,r){function o(t,e){return e?function(e,n){return t(n,e)}:t}function a(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function s(t){return null===t?"null":"function"===typeof t.valueOf&&(t=t.valueOf(),a(t))||"function"===typeof t.toString&&(t=t.toString(),a(t))?t:""}function u(t,e){var n=typeof t,r=typeof e;n===r&&"object"===n&&(t=s(t),e=s(e));return n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<r?-1:1}if(!i(e))return e;n=jn(n)?n:[n];0===n.length&&(n=["+"]);n=n.map(function(e){var n=!1,r=e||p;if(y(e)){"+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0),e=e.substring(1));if(""===e)return o(u,n);r=t(e);if(r.constant){var i=r();return o(function(t,e){return u(t[i],e[i])},n)}}return o(function(t,e){return u(r(t),r(e))},n)});return kn.call(e).sort(o(function(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0},r))}}function un(t){x(t)&&(t={link:t});t.restrict=t.restrict||"AC";return d(t)}function cn(t,e,r,i,a){var s=this,u=[],c=s.$$parentForm=t.parent().controller("form")||Zr;s.$error={};s.$$success={};s.$pending=n;s.$name=a(e.name||e.ngForm||"")(r);s.$dirty=!1;s.$pristine=!0;s.$valid=!0;s.$invalid=!1;s.$submitted=!1;c.$addControl(s);s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})};s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})};s.$addControl=function(t){tt(t.$name,"input");u.push(t);t.$name&&(s[t.$name]=t)};s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n];s[e]=t;t.$name=e};s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name];o(s.$pending,function(e,n){s.$setValidity(n,null,t)});o(s.$error,function(e,n){s.$setValidity(n,null,t)});o(s.$$success,function(e,n){s.$setValidity(n,null,t)});M(u,t)};mn({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(M(r,n),0===r.length&&delete t[e])},parentForm:c,$animate:i});s.$setDirty=function(){i.removeClass(t,Vi);i.addClass(t,Ni);s.$dirty=!0;s.$pristine=!1;c.$setDirty()};s.$setPristine=function(){i.setClass(t,Vi,Ni+" ng-submitted");s.$dirty=!1;s.$pristine=!0;s.$submitted=!1;o(u,function(t){t.$setPristine()})};s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})};s.$setSubmitted=function(){i.addClass(t,"ng-submitted");s.$submitted=!0;c.$setSubmitted()}}function ln(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function fn(t,e,n,r,i,o){var a=wn(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(t){s=!0});e.on("compositionend",function(){s=!1;u()})}var u=function(t){c&&(o.defer.cancel(c),c=null);if(!s){var i=e.val();t=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Pn(i));(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,t)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null;e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||l(t,this,this.value)});i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u);r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function hn(t,e){return function(n,r){var i,a;if(b(n))return n;if(y(n)){'"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1));if(ti.test(n))return new Date(n);t.lastIndex=0;if(i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function $n(t,e,r,i){return function(o,a,s,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function $(t){return m(t)?b(t)?t:r(t):n}pn(o,a,s,u);fn(o,a,s,u,c,l);var p=u&&u.$options&&u.$options.timezone,d;u.$$parserName=t;u.$parsers.push(function(t){return u.$isEmpty(t)?null:e.test(t)?(t=r(t,d),"UTC"===p&&t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t):n});u.$formatters.push(function(t){if(t&&!b(t))throw ji("datefmt",t);if(h(t)){if((d=t)&&"UTC"===p){var e=6e4*d.getTimezoneOffset();d=new Date(d.getTime()+e)}return f("date")(t,i,p)}d=null;return""});if(m(s.min)||s.ngMin){var g;u.$validators.min=function(t){return!h(t)||v(g)||r(t)>=g};s.$observe("min",function(t){g=$(t);u.$validate()})}if(m(s.max)||s.ngMax){var y;u.$validators.max=function(t){return!h(t)||v(y)||r(t)<=y};s.$observe("max",function(t){y=$(t);u.$validate()})}}}function pn(t,e,r,i){(i.$$hasNativeValidators=g(e[0].validity))&&i.$parsers.push(function(t){var r=e.prop("validity")||{};return r.badInput&&!r.typeMismatch?n:t})}function dn(t,e,n,i,o){if(m(i)){t=t(i);if(!t.constant)throw r("ngModel")("constexpr",n,i);return t(e)}return o}function vn(t,e){t="ngClass"+t;return["$animate",function(n){function r(t,e){var n=[],r=0;t:for(;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){if(!jn(t)){if(y(t))return t.split(" ");if(g(t)){var e=[];o(t,function(t,n){t&&(e=e.concat(n.split(" ")))});return e}}return t}return{restrict:"AC",link:function(a,s,u){function c(t,e){var n=s.data("$classCounts")||{},r=[];o(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&r.push(t))});s.data("$classCounts",n);return r.join(" ")}function l(t){if(!0===e||a.$index%2===e){var o=i(t||[]);if(f){if(!D(t,f)){var l=i(f),h=r(o,l),o=r(l,o),h=c(h,1),o=c(o,-1);h&&h.length&&n.addClass(s,h);o&&o.length&&n.removeClass(s,o)}}else{var h=c(o,1);u.$addClass(h)}}f=N(t)}var f;a.$watch(u[t],l,!0);u.$observe("class",function(e){l(a.$eval(u[t]))});"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(u[t]));o===e?(o=c(s,1),u.$addClass(o)):(o=c(s,-1),u.$removeClass(o))}})}}}]}function mn(t){function e(t,e){e&&!a[t]?(l.addClass(o,t),a[t]=!0):!e&&a[t]&&(l.removeClass(o,t),a[t]=!1)}function r(t,n){t=t?"-"+Z(t,"-"):"";e(Ti+t,!0===n);e(Mi+t,!1===n)}var i=t.ctrl,o=t.$element,a={},s=t.set,u=t.unset,c=t.parentForm,l=t.$animate;a[Mi]=!(a[Ti]=o.hasClass(Ti));i.$setValidity=function(t,o,a){o===n?(i.$pending||(i.$pending={}),s(i.$pending,t,a)):(i.$pending&&u(i.$pending,t,a),gn(i.$pending)&&(i.$pending=n));k(o)?o?(u(i.$error,t,a),s(i.$$success,t,a)):(s(i.$error,t,a),u(i.$$success,t,a)):(u(i.$error,t,a),u(i.$$success,t,a));i.$pending?(e(Di,!0),i.$valid=i.$invalid=n,r("",null)):(e(Di,!1),i.$valid=gn(i.$error),i.$invalid=!i.$valid,r("",i.$valid));o=i.$pending&&i.$pending[t]?n:!i.$error[t]&&(!!i.$$success[t]||null);r(t,o);c.$setValidity(t,o,i)}}function gn(t){if(t)for(var e in t)return!1;return!0}var yn=/^\/(.+)\/([a-z]*)$/,wn=function(t){return y(t)?t.toLowerCase():t},bn=Object.prototype.hasOwnProperty,xn=function(t){return y(t)?t.toUpperCase():t},Sn,Cn,An,kn=[].slice,En=[].splice,On=[].push,Tn=Object.prototype.toString,Mn=r("ng"),Vn=t.angular||(t.angular={}),Nn,Dn=0;Sn=e.documentMode;$.$inject=[];p.$inject=[];var jn=Array.isArray,Pn=function(t){return y(t)?t.trim():t},Rn=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},In=function(){if(m(In.isActive_))return In.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(e){t=!0}return In.isActive_=t},qn=["ng-","data-ng-","ng:","x-ng-"],Un=/[A-Z]/g,Fn=!1,Hn,_n=1,Ln=3,Bn={full:"1.3.15",major:1,minor:3,dot:15,codeName:"locality-filtration"};ct.expando="ng339";var zn=ct.cache={},Gn=1;ct._data=function(t){return this.cache[t[this.expando]]||{}};var Wn=/([\:\-\_]+(.))/g,Jn=/^moz([A-Z])/,Yn={mouseleave:"mouseout",mouseenter:"mouseover"},Zn=r("jqLite"),Kn=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Xn=/<|&#?\w+;/,Qn=/<([\w:]+)/,tr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,er={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};er.optgroup=er.option;er.tbody=er.tfoot=er.colgroup=er.caption=er.thead;er.th=er.td;var nr=ct.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ct(t).on("load",r))},toString:function(){var t=[];o(this,function(e){t.push(""+e)});return"["+t.join(", ")+"]"},eq:function(t){return Cn(0<=t?this[t]:this[this.length+t])},length:0,push:On,sort:[].sort,splice:[].splice},rr={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){rr[wn(t)]=t});var ir={};o("input select option textarea button form details".split(" "),function(t){ir[t]=!0});var or={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:dt,removeData:$t},function(t,e){ct[e]=t});o({data:dt,inheritedData:bt,scope:function(t){return Cn.data(t,"$scope")||bt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Cn.data(t,"$isolateScope")||Cn.data(t,"$isolateScopeNoTemplate")},controller:wt,injector:function(t){return bt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:vt,css:function(t,e,n){e=at(e);if(!m(n))return t.style[e];t.style[e]=n},attr:function(t,e,r){var i=wn(e);if(rr[i]){if(!m(r))return t[e]||(t.attributes.getNamedItem(e)||$).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(m(r))t.setAttribute(e,r);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){if(!m(n))return t[e];t[e]=n},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===_n||n===Ln?t.textContent:""}t.textContent=e}t.$dv="";return t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===T(t)){var n=[];o(t.options,function(t){t.selected&&n.push(t.value||t.text)});return 0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(v(e))return t.innerHTML;ft(t,!0);t.innerHTML=e},empty:xt},function(t,e){ct.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==xt&&(2==t.length&&t!==vt&&t!==wt?e:r)===n){if(g(e)){for(i=0;i<a;i++)if(t===dt)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}i=t.$dv;a=i===n?Math.min(a,1):a;for(o=0;o<a;o++){var s=t(this[o],e,r);i=i?i+s:s}return i}for(i=0;i<a;i++)t(this[i],e,r);return this}});o({removeData:$t,on:function t(e,n,r,i){if(m(i))throw Zn("onargs");if(st(e)){var o=pt(e,!0);i=o.events;var a=o.handle;a||(a=o.handle=Et(e,i));for(var o=0<=n.indexOf(" ")?n.split(" "):[n],s=o.length;s--;){n=o[s];var u=i[n];u||(i[n]=[],"mouseenter"===n||"mouseleave"===n?t(e,Yn[n],function(t){var e=t.relatedTarget;e&&(e===this||this.contains(e))||a(t,n)}):"$destroy"!==n&&e.addEventListener(n,a,!1),u=i[n]);u.push(r)}}},off:ht,one:function(t,e,n){t=Cn(t);t.on(e,function r(){t.off(e,n);t.off(e,r)});t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;ft(t);o(new ct(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t);n=e})},children:function(t){var e=[];o(t.childNodes,function(t){t.nodeType===_n&&e.push(t)});return e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===_n||11===n){e=new ct(e);for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])}},prepend:function(t,e){if(t.nodeType===_n){var n=t.firstChild;o(new ct(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Cn(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t);e.appendChild(t)},remove:St,detach:function(t){St(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new ct(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling);n=a}},addClass:gt,removeClass:mt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;v(r)&&(r=!vt(t,e));(r?gt:mt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:lt,triggerHandler:function(t,e,n){var r,i,a=e.type||e,s=pt(t);(s=(s=s&&s.events)&&s[a])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:$,type:a,target:t},e.type&&(r=l(r,e)),e=N(s),i=n?[r].concat(n):[r],o(e,function(e){r.isImmediatePropagationStopped()||e.apply(t,i)}))}},function(t,e){ct.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)v(i)?(i=t(this[o],e,n,r),m(i)&&(i=Cn(i))):yt(i,t(this[o],e,n,r));return m(i)?i:this};ct.prototype.bind=ct.prototype.on;ct.prototype.unbind=ct.prototype.off});Mt.prototype={put:function(t,e){this[Tt(t,this.nextUid)]=e},get:function(t){return this[Tt(t,this.nextUid)]},remove:function(t){var e=this[t=Tt(t,this.nextUid)];delete this[t];return e}};var ar=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,sr=/,/,ur=/^\s*(_?)(\S+?)\1\s*$/,cr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,lr=r("$injector");Nt.$$annotate=function(t,e,n){var r;if("function"===typeof t){if(!(r=t.$inject)){r=[];if(t.length){if(e)throw y(n)&&n||(n=t.name||Vt(t)),lr("strictdi",n);e=t.toString().replace(cr,"");e=e.match(ar);o(e[1].split(sr),function(t){t.replace(ur,function(t,e,n){r.push(n)})})}t.$inject=r}}else jn(t)?(e=t.length-1,Q(t[e],"fn"),r=t.slice(0,e)):Q(t,"fn",!0);return r};var fr=r("$animate"),hr=["$provide",function(t){this.$$selectors={};this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw fr("notcsel",e);this.$$selectors[e.substr(1)]=r;t.factory(r,n)};this.classNameFilter=function(t){1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();i.promise.$$cancelFn=function(){r&&r()};n.$$postDigest(function(){r=e(function(){i.resolve()})});return i.promise}function i(t,e){var n=[],r=[],i=rt();o((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0});o(e,function(t,e){var o=i[e];!1===t&&o?r.push(e):!0!==t||o||n.push(e)});return 0<n.length+r.length&&[n.length?n:null,r.length?r:null]}function a(t,e,n){for(var r=0,i=e.length;r<i;++r)t[e[r]]=n}function s(){c||(c=t.defer(),e(function(){c.resolve();c=null}));return c.promise}function u(t,e){if(Vn.isObject(e)){var n=l(e.from||{},e.to||{});t.css(n)}}var c;return{animate:function(t,e,n){u(t,{from:e,to:n});return s()},enter:function(t,e,n,r){u(t,r);n?n.after(t):e.prepend(t);return s()},leave:function(t,e){u(t,e);t.remove();return s()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){t=Cn(t);e=y(e)?e:jn(e)?e.join(" "):"";o(t,function(t){gt(t,e)});u(t,n);return s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){t=Cn(t);e=y(e)?e:jn(e)?e.join(" "):"";o(t,function(t){mt(t,e)});u(t,n);return s()},setClass:function(t,e,n,o){var s=this,u=!1;t=Cn(t);var c=t.data("$$animateClasses");c?o&&c.options&&(c.options=Vn.extend(c.options||{},o)):(c={classes:{},options:o},u=!0);o=c.classes;e=jn(e)?e:e.split(" ");n=jn(n)?n:n.split(" ");a(o,e,!0);a(o,n,!1);u&&(c.promise=r(function(e){var n=t.data("$$animateClasses");t.removeData("$$animateClasses");if(n){var r=i(t,n.classes);r&&s.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data("$$animateClasses",c));return c.promise},$$setClassImmediately:function(t,e,n,r){e&&this.$$addClassImmediately(t,e);n&&this.$$removeClassImmediately(t,n);u(t,r);return s()},enabled:$,cancel:$}}]}],$r=r("$compile");Ut.$inject=["$provide","$$sanitizeUriProvider"];var pr=/^((?:x|data)[\:\-_])/i,dr=r("$controller"),vr="application/json",mr={"Content-Type":vr+";charset=utf-8"},gr=/^\[|^\{(?!\{)/,yr={"[":/]$/,"{":/}$/},wr=/^\)\]\}',?\n/,br=r("$interpolate"),xr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Sr={http:80,https:443,ftp:21},Cr=r("$location"),Ar={$$html5:!1,$$replace:!1,absUrl:$e("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=xr.exec(t);(e[1]||""===t)&&this.path(decodeURIComponent(e[1]));(e[2]||e[1]||""===t)&&this.search(e[3]||"");this.hash(e[5]||"");return this},protocol:$e("$$protocol"),host:$e("$$host"),port:$e("$$port"),path:pe("$$path",function(t){t=null!==t?t.toString():"";return"/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(y(t)||w(t))t=t.toString(),this.$$search=H(t);else{if(!g(t))throw Cr("isrcharg");t=V(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}this.$$compose();return this},hash:pe("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){this.$$replace=!0;return this}};o([he,fe,le],function(t){t.prototype=Object.create(Ar);t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==le||!this.$$html5)throw Cr("nostate");this.$$state=v(e)?null:e;return this}});var kr=r("$parse"),Er=Function.prototype.call,Or=Function.prototype.apply,Tr=Function.prototype.bind,Mr=rt();o({null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0;Mr[e]=t});Mr["this"]=function(t){return t};Mr["this"].sharedGetter=!0;var Vr=l(rt(),{"+":function(t,e,r,i){r=r(t,e);i=i(t,e);return m(r)?m(i)?r+i:r:m(i)?i:n},"-":function(t,e,n,r){n=n(t,e);r=r(t,e);return(m(n)?n:0)-(m(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),Nr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Dr=function(t){this.options=t};Dr.prototype={constructor:Dr,lex:function(t){this.text=t;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),r=Vr[e],i=Vr[n];Vr[t]||r||i?(t=i?n:r?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){t=t||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"===typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdent:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;e=m(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw kr("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=wn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=Nr[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===t){this.index++;this.tokens.push({index:e,text:r,constant:!0,value:n});return}n+=o}this.index++}this.throwError("Unterminated quote",e)}};var jr=function(t,e,n){this.lexer=t;this.$filter=e;this.options=n};jr.ZERO=l(function(){return 0},{sharedGetter:!0,constant:!0});jr.prototype={constructor:jr,parse:function(t){this.text=t;this.tokens=this.lexer.lex(t);t=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);t.literal=!!t.literal;t.constant=!!t.constant;return t},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in Mr?t=Mr[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw kr("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw kr("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===r||o===i||!(e||n||r||i))return t}return!1},expect:function(t,e,n,r){return!!(t=this.peek(t,e,n,r))&&(this.tokens.shift(),t)},consume:function(t){if(0===this.tokens.length)throw kr("ueoe",this.text);var e=this.expect(t);e||this.throwError("is unexpected, expecting ["+t+"]",this.peek());return e},unaryFn:function(t,e){var n=Vr[t];return l(function(t,r){return n(t,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){var i=Vr[e];return l(function(e,r){return i(e,r,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return Ce(t,this.options,this.text)},constant:function(){var t=this.consume().value;return l(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,o=t.length;i<o;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},filter:function(t){var e=this.$filter(this.consume().text),r,i;if(this.peek(":"))for(r=[],i=[];this.expect(":");)r.push(this.expression());var o=[t].concat(r||[]);return l(function(o,a){var s=t(o,a);if(i){i[0]=s;for(s=r.length;s--;)i[s+1]=r[s](o,a);
return e.apply(n,i)}return e(s)},{constant:!e.$stateful&&o.every(ye),inputs:!e.$stateful&&o})},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary(),e,n;return(n=this.expect("="))?(t.assign||this.throwError("implies assignment but ["+this.text.substring(0,n.index)+"] can not be assigned to",n),e=this.ternary(),l(function(n,r){return t.assign(n,e(n,r),r)},{inputs:[t,e]})):t},ternary:function(){var t=this.logicalOR(),e;if(this.expect("?")&&(e=this.assignment(),this.consume(":"))){var n=this.assignment();return l(function(r,i){return t(r,i)?e(r,i):n(r,i)},{constant:t.constant&&e.constant&&n.constant})}return t},logicalOR:function(){for(var t=this.logicalAND(),e;e=this.expect("||");)t=this.binaryFn(t,e.text,this.logicalAND(),!0);return t},logicalAND:function(){for(var t=this.equality(),e;e=this.expect("&&");)t=this.binaryFn(t,e.text,this.equality(),!0);return t},equality:function(){for(var t=this.relational(),e;e=this.expect("==","!=","===","!==");)t=this.binaryFn(t,e.text,this.relational());return t},relational:function(){for(var t=this.additive(),e;e=this.expect("<",">","<=",">=");)t=this.binaryFn(t,e.text,this.additive());return t},additive:function(){for(var t=this.multiplicative(),e;e=this.expect("+","-");)t=this.binaryFn(t,e.text,this.multiplicative());return t},multiplicative:function(){for(var t=this.unary(),e;e=this.expect("*","/","%");)t=this.binaryFn(t,e.text,this.unary());return t},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(jr.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return l(function(r,i,o){r=o||t(r,i);return null==r?n:e(r)},{assign:function(n,r,i){var o=t(n,i);o||t.assign(n,o={},i);return e.assign(o,r)}})},objectIndex:function(t){var e=this.text,r=this.expression();this.consume("]");return l(function(i,o){var a=t(i,o),s=r(i,o);me(s,e);return a?ge(a[s],e):n},{assign:function(n,i,o){var a=me(r(n,o),e),s=ge(t(n,o),e);s||t.assign(n,s={},o);return s[a]=i}})},functionCall:function(t,e){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,o=r.length?[]:null;return function(a,s){var u=e?e(a,s):m(e)?n:a,c=t(a,s,u)||$;if(o)for(var l=r.length;l--;)o[l]=ge(r[l](a,s),i);ge(u,i);if(c){if(c.constructor===c)throw kr("isecfn",i);if(c===Er||c===Or||c===Tr)throw kr("isecff",i)}u=c.apply?c.apply(u,o):c(o[0],o[1],o[2],o[3],o[4]);o&&(o.length=0);return ge(u,i)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));this.consume("]");return l(function(e,n){for(var r=[],i=0,o=t.length;i<o;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(ye),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n);this.consume(":");e.push(this.expression())}while(this.expect(","));this.consume("}");return l(function(n,r){for(var i={},o=0,a=e.length;o<a;o++)i[t[o]]=e[o](n,r);return i},{literal:!0,constant:e.every(ye),inputs:e})}};var Pr=rt(),Rr=rt(),Ir=Object.prototype.valueOf,qr=r("$sce"),Ur={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$r=r("$compile"),Fr=e.createElement("a"),Hr=He(t.location.href);Be.$inject=["$provide"];Je.$inject=["$locale"];Ye.$inject=["$locale"];var _r=".",Lr={yyyy:Xe("FullYear",4),yy:Xe("FullYear",2,0,!0),y:Xe("FullYear",1),MMMM:Qe("Month"),MMM:Qe("Month",!0),MM:Xe("Month",2,1),M:Xe("Month",1,1),dd:Xe("Date",2),d:Xe("Date",1),HH:Xe("Hours",2),H:Xe("Hours",1),hh:Xe("Hours",2,-12),h:Xe("Hours",1,-12),mm:Xe("Minutes",2),m:Xe("Minutes",1),ss:Xe("Seconds",2),s:Xe("Seconds",1),sss:Xe("Milliseconds",3),EEEE:Qe("Day"),EEE:Qe("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){t=-1*t.getTimezoneOffset();return t=(0<=t?"+":"")+(Ke(Math[0<t?"floor":"ceil"](t/60),2)+Ke(Math.abs(t%60),2))},ww:en(2),w:en(1),G:nn,GG:nn,GGG:nn,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},Br=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,zr=/^\-?\d+$/;rn.$inject=["$locale"];var Gr=d(wn),Wr=d(xn);sn.$inject=["$parse"];var Jr=d({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref&&!e.name)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Tn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Yr={};o(rr,function(t,e){if("multiple"!=t){var n=Ft("ng-"+e);Yr[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}});o(or,function(t,e){Yr[e]=function(){return{priority:100,link:function(t,n,r){"ngPattern"===e&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(yn))?r.$set("ngPattern",new RegExp(n[1],n[2])):t.$watch(r[e],function(t){r.$set(e,t)})}}}});o(["src","srcset","href"],function(t){var e=Ft("ng-"+t);Yr[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Tn.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null);i.$observe(e,function(e){e?(i.$set(a,e),Sn&&o&&r.prop(o,i[a])):"href"===t&&i.$set(a,null)})}}}});var Zr={$addControl:$,$$renameControl:function(t,e){t.$name=e},$removeControl:$,$setValidity:$,$setDirty:$,$setPristine:$,$setSubmitted:$};cn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Kr=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:cn,compile:function(r,i){r.addClass(Vi).addClass(Ti);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,r,i,a){if(!("action"in i)){var s=function(e){t.$apply(function(){a.$commitViewValue();a.$setSubmitted()});e.preventDefault()};r[0].addEventListener("submit",s,!1);r.on("$destroy",function(){e(function(){r[0].removeEventListener("submit",s,!1)},0,!1)})}var u=a.$$parentForm;o&&(we(t,null,a.$name,a,a.$name),i.$observe(o,function(e){a.$name!==e&&(we(t,null,a.$name,n,a.$name),u.$$renameControl(a,e),we(t,null,a.$name,a,a.$name))}));r.on("$destroy",function(){u.$removeControl(a);o&&we(t,null,i[o],n,a.$name);l(a,Zr)})}}}}}]},Xr=Kr(),Qr=Kr(!0),ti=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ei=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ni=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,ri=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ii=/^(\d{4})-(\d{2})-(\d{2})$/,oi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ai=/^(\d{4})-W(\d\d)$/,si=/^(\d{4})-(\d\d)$/,ui=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ci={text:function(t,e,n,r,i,o){fn(t,e,n,r,i,o);ln(r)},date:$n("date",ii,hn(ii,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":$n("datetimelocal",oi,hn(oi,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:$n("time",ui,hn(ui,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:$n("week",ai,function(t,e){if(b(t))return t;if(y(t)){ai.lastIndex=0;var n=ai.exec(t);if(n){var r=+n[1],i=+n[2],o=n=0,a=0,s=0,u=tn(r),i=7*(i-1);e&&(n=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),s=e.getMilliseconds());return new Date(r,0,u.getDate()+i,n,o,a,s)}}return NaN},"yyyy-Www"),month:$n("month",si,hn(si,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,r,i,o,a){pn(t,e,r,i);fn(t,e,r,i,o,a);i.$$parserName="number";i.$parsers.push(function(t){return i.$isEmpty(t)?null:ri.test(t)?parseFloat(t):n});i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!w(t))throw ji("numfmt",t);t=t.toString()}return t});if(m(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||v(s)||t>=s};r.$observe("min",function(t){m(t)&&!w(t)&&(t=parseFloat(t,10));s=w(t)&&!isNaN(t)?t:n;i.$validate()})}if(m(r.max)||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||v(u)||t<=u};r.$observe("max",function(t){m(t)&&!w(t)&&(t=parseFloat(t,10));u=w(t)&&!isNaN(t)?t:n;i.$validate()})}},url:function(t,e,n,r,i,o){fn(t,e,n,r,i,o);ln(r);r.$$parserName="url";r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||ei.test(n)}},email:function(t,e,n,r,i,o){fn(t,e,n,r,i,o);ln(r);r.$$parserName="email";r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||ni.test(n)}},radio:function(t,e,n,r){v(n.name)&&e.attr("name",++Dn);e.on("click",function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)});r.$render=function(){e[0].checked=n.value==r.$viewValue};n.$observe("value",r.$render)},checkbox:function(t,e,n,r,i,o,a,s){var u=dn(s,t,"ngTrueValue",n.ngTrueValue,!0),c=dn(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){r.$setViewValue(e[0].checked,t&&t.type)});r.$render=function(){e[0].checked=r.$viewValue};r.$isEmpty=function(t){return!1===t};r.$formatters.push(function(t){return D(t,u)});r.$parsers.push(function(t){return t?u:c})},hidden:$,button:$,submit:$,reset:$,file:$},li=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ci[wn(a.type)]||ci.text)(i,o,a,s[0],e,t,n,r)}}}}],fi=/^(true|false|\d+)$/,hi=function(){return{restrict:"A",priority:100,compile:function(t,e){return fi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},$i=["$compile",function(t){return{restrict:"AC",compile:function(e){t.$$addBindingClass(e);return function(e,r,i){t.$$addBindingInfo(r,i.ngBind);r=r[0];e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],pi=["$interpolate","$compile",function(t,e){return{compile:function(r){e.$$addBindingClass(r);return function(r,i,o){r=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,r.expressions);i=i[0];o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],di=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});n.$$addBindingClass(r);return function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml);e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],vi=d({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),mi=vn("",!0),gi=vn("Odd",0),yi=vn("Even",1),wi=un({compile:function(t,e){e.$set("ngCloak",n);t.removeClass("ng-cloak")}}),bi=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],xi={},Si={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Ft("ng-"+t);xi[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Si[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Ci=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o;n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" ");s={clone:n};t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=nt(s.clone),t.leave(c).then(function(){c=null}),s=null))})}}}],Ai=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Vn.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",u=o.autoscroll;return function(i,o,c,l,f){var h=0,$,p,d,v=function(){p&&(p.remove(),p=null);$&&($.$destroy(),$=null);d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!m(u)||u&&!i.$eval(u)||e()},c=++h;r?(t(r,!0).then(function(t){if(c===h){var e=i.$new();l.template=t;t=f(e,function(t){v();n.enter(t,null,o).then(a)});$=e;d=t;$.$emit("$includeContentLoaded",r);i.$eval(s)}},function(){c===h&&(v(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(v(),l.template=null)})}}}}],ki=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){/SVG/.test(r[0].toString())?(r.empty(),t(ut(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),t(r.contents())(n))}}}],Ei=un({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Oi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?Pn(a):a;i.$parsers.push(function(t){if(!v(t)){var e=[];t&&o(t.split(u),function(t){t&&e.push(s?Pn(t):t)});return e}});i.$formatters.push(function(t){return jn(t)?t.join(a):n});i.$isEmpty=function(t){return!t||!t.length}}}},Ti="ng-valid",Mi="ng-invalid",Vi="ng-pristine",Ni="ng-dirty",Di="ng-pending",ji=new r("ngModel"),Pi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,u,c,l,f){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=n;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=n;this.$name=f(r.name||"",!1)(t);var h=a(r.ngModel),p=h.assign,d=h,g=p,y=null,b,S=this;this.$$setOptions=function(t){if((S.$options=t)&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");d=function(t){var n=h(t);x(n)&&(n=e(t));return n};g=function(t,e){x(h(t))?n(t,{$$$p:S.$modelValue}):p(t,S.$modelValue)}}else if(!h.assign)throw ji("nonassign",r.ngModel,U(i))};this.$render=$;this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t};var C=i.inheritedData("$formController")||Zr,A=0;mn({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:s});this.$setPristine=function(){S.$dirty=!1;S.$pristine=!0;s.removeClass(i,Ni);s.addClass(i,Vi)};this.$setDirty=function(){S.$dirty=!0;S.$pristine=!1;s.removeClass(i,Vi);s.addClass(i,Ni);C.$setDirty()};this.$setUntouched=function(){S.$touched=!1;S.$untouched=!0;s.setClass(i,"ng-untouched","ng-touched")};this.$setTouched=function(){S.$touched=!0;S.$untouched=!1;s.setClass(i,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){u.cancel(y);S.$viewValue=S.$$lastCommittedViewValue;S.$render()};this.$validate=function(){if(!w(S.$modelValue)||!isNaN(S.$modelValue)){var t=S.$$rawModelValue,e=S.$valid,r=S.$modelValue,i=S.$options&&S.$options.allowInvalid;S.$$runValidators(t,S.$$lastCommittedViewValue,function(o){i||e===o||(S.$modelValue=o?t:n,S.$modelValue!==r&&S.$$writeModelToScope())})}};this.$$runValidators=function(t,e,r){function i(){var n=!0;o(S.$validators,function(r,i){var o=r(t,e);n=n&&o;s(i,o)});return!!n||(o(S.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var r=[],i=!0;o(S.$asyncValidators,function(o,a){var u=o(t,e);if(!u||!x(u.then))throw ji("$asyncValidators",u);s(a,n);r.push(u.then(function(){s(a,!0)},function(t){i=!1;s(a,!1)}))});r.length?l.all(r).then(function(){u(i)},$):u(!0)}function s(t,e){c===A&&S.$setValidity(t,e)}function u(t){c===A&&r(t)}A++;var c=A;(function(){var t=S.$$parserName||"parse";if(b!==n)return b||(o(S.$validators,function(t,e){s(e,null)}),o(S.$asyncValidators,function(t,e){s(e,null)})),s(t,b),b;s(t,null);return!0})()&&i()?a():u(!1)};this.$commitViewValue=function(){var t=S.$viewValue;u.cancel(y);(S.$$lastCommittedViewValue!==t||""===t&&S.$$hasNativeValidators)&&(S.$$lastCommittedViewValue=t,S.$pristine&&this.$setDirty(),this.$$parseAndValidate())};this.$$parseAndValidate=function(){var e=S.$$lastCommittedViewValue;if(b=!v(e)||n)for(var r=0;r<S.$parsers.length;r++)if(e=S.$parsers[r](e),v(e)){b=!1;break}w(S.$modelValue)&&isNaN(S.$modelValue)&&(S.$modelValue=d(t));var i=S.$modelValue,o=S.$options&&S.$options.allowInvalid;S.$$rawModelValue=e;o&&(S.$modelValue=e,S.$modelValue!==i&&S.$$writeModelToScope());S.$$runValidators(e,S.$$lastCommittedViewValue,function(t){o||(S.$modelValue=t?e:n,S.$modelValue!==i&&S.$$writeModelToScope())})};this.$$writeModelToScope=function(){g(t,S.$modelValue);o(S.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})};this.$setViewValue=function(t,e){S.$viewValue=t;S.$options&&!S.$options.updateOnDefault||S.$$debounceViewValueCommit(e)};this.$$debounceViewValueCommit=function(e){var n=0,r=S.$options;r&&m(r.debounce)&&(r=r.debounce,w(r)?n=r:w(r[e])?n=r[e]:w(r["default"])&&(n=r["default"]));u.cancel(y);n?y=u(function(){S.$commitViewValue()},n):c.$$phase?S.$commitViewValue():t.$apply(function(){S.$commitViewValue()})};t.$watch(function(){var e=d(t);if(e!==S.$modelValue){S.$modelValue=S.$$rawModelValue=e;b=n;for(var r=S.$formatters,i=r.length,o=e;i--;)o=r[i](o);S.$viewValue!==o&&(S.$viewValue=S.$$lastCommittedViewValue=o,S.$render(),S.$$runValidators(e,o,$))}return e})}],Ri=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Pi,priority:1,compile:function(e){e.addClass(Vi).addClass("ng-untouched").addClass(Ti);return{pre:function(t,e,n,r){var i=r[0],o=r[1]||Zr;i.$$setOptions(r[2]&&r[2].$options);o.$addControl(i);n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)});t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)});n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Ii=/(\s+|^)default(\s+|$)/,qi=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions);this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Pn(this.$options.updateOn.replace(Ii,function(){r.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},Ui=un({terminal:!0,priority:1e3}),Fi=["$locale","$interpolate",function(t,e){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,a,s){function u(t){a.text(t||"")}var c=s.count,l=s.$attr.when&&a.attr(s.$attr.when),f=s.offset||0,h=i.$eval(l)||{},$={},l=e.startSymbol(),p=e.endSymbol(),d=l+c+"-"+f+p,v=Vn.noop,m;o(s,function(t,e){var n=r.exec(e);n&&(n=(n[1]?"-":"")+wn(n[2]),h[n]=a.attr(s.$attr[e]))});o(h,function(t,r){$[r]=e(t.replace(n,d))});i.$watch(c,function(e){e=parseFloat(e);var n=isNaN(e);n||e in h||(e=t.pluralCat(e-f));e===m||n&&isNaN(m)||(v(),v=i.$watch($[e],u),m=e)})}}}],Hi=["$parse","$animate",function(t,a){var s=r("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r;i&&(t[i]=o);t.$index=e;t.$first=0===e;t.$last=e===a-1;t.$middle=!(t.$first||t.$last);t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,c){var l=c.ngRepeat,f=e.createComment(" end ngRepeat: "+l+" "),h=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp",l);var $=h[1],p=h[2],d=h[3],v=h[4],h=$.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!h)throw s("iidexp",$);var m=h[3]||h[1],g=h[2];if(d&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(d)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(d)))throw s("badident",d);var y,w,b,x,S={$id:Tt};v?y=t(v):(b=function(t,e){return Tt(e)},x=function(t){return t});return function(t,e,r,c,h){y&&(w=function(e,n,r){g&&(S[g]=e);S[m]=n;S.$index=r;return y(t,S)});var $=rt();t.$watchCollection(p,function(r){var c,p,v=e[0],y,S=rt(),C,A,k,E,O,T,M;d&&(t[d]=r);if(i(r))O=r,p=w||b;else{p=w||x;O=[];for(M in r)r.hasOwnProperty(M)&&"$"!=M.charAt(0)&&O.push(M);O.sort()}C=O.length;M=Array(C);for(c=0;c<C;c++)if(A=r===O?c:O[c],k=r[A],E=p(A,k,c),$[E])T=$[E],delete $[E],S[E]=T,M[c]=T;else{if(S[E])throw o(M,function(t){t&&t.scope&&($[t.id]=t)}),s("dupes",l,E,k);M[c]={id:E,scope:n,clone:n};S[E]=!0}for(y in $){T=$[y];E=nt(T.clone);a.leave(E);if(E[0].parentNode)for(c=0,p=E.length;c<p;c++)E[c].$$NG_REMOVED=!0;T.scope.$destroy()}for(c=0;c<C;c++)if(A=r===O?c:O[c],k=r[A],T=M[c],T.scope){y=v;do y=y.nextSibling;while(y&&y.$$NG_REMOVED);T.clone[0]!=y&&a.move(nt(T.clone),null,Cn(v));v=T.clone[T.clone.length-1];u(T.scope,c,m,k,g,A,C)}else h(function(t,e){T.scope=e;var n=f.cloneNode(!1);t[t.length++]=n;a.enter(t,null,Cn(v));v=n;T.clone=t;S[T.id]=T;u(T.scope,c,m,k,g,A,C)});$=S})}}}}],_i=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Li=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Bi=un(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")});t&&e.css(t)})}),zi=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=[],u=[],c=[],l=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(i.ngSwitch||i.on,function(n){var r,i;r=0;for(i=c.length;r<i;++r)t.cancel(c[r]);r=c.length=0;for(i=l.length;r<i;++r){var h=nt(u[r].clone);l[r].$destroy();(c[r]=t.leave(h)).then(f(c,r))}u.length=0;l.length=0;(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(r,i){l.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");u.push({clone:r});t.enter(r,o.parent(),o)})})})}}}],Gi=un({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[];r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Wi=un({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:i,element:e})}}),Ji=un({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan",U(e));o(function(t){e.empty();e.append(t)})}}),Yi=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Zi=r("ngOptions"),Ki=d({restrict:"A",terminal:!0}),Xi=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,a={$setViewValue:$};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r=this,i={},o=a,s;r.databound=n.ngModel;r.init=function(t,e,n){o=t;s=n};r.addOption=function(e,n){tt(e,'"option value"');i[e]=!0;o.$viewValue==e&&(t.val(e),s.parent()&&s.remove());n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)};r.removeOption=function(t){this.hasOption(t)&&(delete i[t],o.$viewValue===t&&this.renderUnknownOption(t))};r.renderUnknownOption=function(e){e="? "+Tt(e)+" ?";s.val(e);t.prepend(s);t.val(e);s.prop("selected",!0)};r.hasOption=function(t){return i.hasOwnProperty(t)};e.$on("$destroy",function(){r.renderUnknownOption=$})}],link:function(a,s,u,c){function l(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(S.parent()&&S.remove(),e.val(t),""===t&&y.prop("selected",!0)):v(t)&&y?e.val(""):r.renderUnknownOption(t)};e.on("change",function(){t.$apply(function(){S.parent()&&S.remove();n.$setViewValue(e.val())})})}function f(t,e,n){var r;n.$render=function(){var t=new Mt(n.$viewValue);o(e.find("option"),function(e){e.selected=m(t.get(e.value))})};t.$watch(function(){D(r,n.$viewValue)||(r=N(n.$viewValue),n.$render())});e.on("change",function(){t.$apply(function(){var t=[];o(e.find("option"),function(e){e.selected&&t.push(e.value)});n.$setViewValue(t)})})}function h(e,a,s){function u(t,n,r){D[S]=r;k&&(D[k]=n);return t(e,D)}function c(t){var e;if(p)if(M&&jn(t)){e=new Mt([]);for(var n=0;n<t.length;n++)e.put(u(M,null,t[n]),!0)}else e=new Mt(t);else M&&(t=u(M,null,t));return function(n,r){var i;i=M?M:A?A:O;return p?m(e.remove(u(i,n,r))):t===u(i,n,r)}}function l(){w||(e.$$postDigest(h),w=!0)}function f(t,e,n){t[e]=t[e]||0;t[e]+=n?1:-1}function h(){w=!1;var t={"":[]},n=[""],r,i,l,h,d;l=s.$viewValue;h=T(e)||[];var v=k?Object.keys(h).sort():h,S,C,A,O,j={};d=c(l);var P=!1,R,I;V={};for(O=0;A=v.length,O<A;O++){S=O;if(!k||(S=v[O],"$"!==S.charAt(0))){C=h[S];r=u(E,S,C)||"";(i=t[r])||(i=t[r]=[],n.push(r));r=d(S,C);P=P||r;C=u(y,S,C);C=m(C)?C:"";I=M?M(e,D):k?v[O]:O;M&&(V[I]=S);i.push({id:I,label:C,selected:r})}}p||(g||null===l?t[""].unshift({id:"",label:"",selected:!P}):P||t[""].unshift({id:"?",label:"",selected:!0}));S=0;for(v=n.length;S<v;S++){r=n[S];i=t[r];N.length<=S?(l={element:x.clone().attr("label",r),label:i.label},h=[l],N.push(h),a.append(l.element)):(h=N[S],l=h[0],l.label!=r&&l.element.attr("label",l.label=r));P=null;O=0;for(A=i.length;O<A;O++)r=i[O],(d=h[O+1])?(P=d.element,d.label!==r.label&&(f(j,d.label,!1),f(j,r.label,!0),P.text(d.label=r.label),P.prop("label",d.label)),d.id!==r.id&&P.val(d.id=r.id),P[0].selected!==r.selected&&(P.prop("selected",d.selected=r.selected),Sn&&P.prop("selected",d.selected))):(""===r.id&&g?R=g:(R=b.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),h.push(d={element:R,label:r.label,id:r.id,selected:r.selected}),f(j,r.label,!0),P?P.after(R):l.element.append(R),P=R);for(O++;h.length>O;)r=h.pop(),f(j,r.label,!1),r.element.remove()}for(;N.length>S;){i=N.pop();for(O=1;O<i.length;++O)f(j,i[O].label,!1);i[0].element.remove()}o(j,function(t,e){0<t?$.addOption(e):0>t&&$.removeOption(e)})}var v;if(!(v=d.match(i)))throw Zi("iexp",d,U(a));var y=r(v[2]||v[1]),S=v[4]||v[6],C=/ as /.test(v[0])&&v[1],A=C?r(C):null,k=v[5],E=r(v[3]||""),O=r(v[2]?v[1]:S),T=r(v[7]),M=v[8]?r(v[8]):null,V={},N=[[{element:a,label:""}]],D={};g&&(t(g)(e),g.removeClass("ng-scope"),g.remove());a.empty();a.on("change",function(){e.$apply(function(){var t=T(e)||[],r;if(p)r=[],o(a.val(),function(e){e=M?V[e]:e;r.push("?"===e?n:""===e?null:u(A?A:O,e,t[e]))});else{var i=M?V[a.val()]:a.val();r="?"===i?n:""===i?null:u(A?A:O,i,t[i])}s.$setViewValue(r);h()})});s.$render=h;e.$watchCollection(T,l);e.$watchCollection(function(){var t=T(e),n;if(t&&jn(t)){n=Array(t.length);for(var r=0,i=t.length;r<i;r++)n[r]=u(y,r,t[r])}else if(t)for(r in n={},t)t.hasOwnProperty(r)&&(n[r]=u(y,r,t[r]));return n},l);p&&e.$watchCollection(function(){return s.$modelValue},l)}if(c[1]){var $=c[0];c=c[1];var p=u.multiple,d=u.ngOptions,g=!1,y,w=!1,b=Cn(e.createElement("option")),x=Cn(e.createElement("optgroup")),S=b.clone();u=0;for(var C=s.children(),A=C.length;u<A;u++)if(""===C[u].value){y=g=C.eq(u);break}$.init(c,g,S);p&&(c.$isEmpty=function(t){return!t||0===t.length});d?h(a,s,c):p?f(a,s,c):l(a,s,c,$)}}}}],Qi=["$interpolate",function(t){var e={addOption:$,removeOption:$};return{restrict:"E",priority:100,compile:function(n,r){if(v(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o=n.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.databound||(a=e);i?t.$watch(i,function(t,e){r.$set("value",t);e!==t&&a.removeOption(e);a.addOption(t,n)}):a.addOption(r.value,n);n.on("$destroy",function(){a.removeOption(r.value)})}}}}],to=d({restrict:"E",terminal:!1}),eo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},no=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){y(t)&&0<t.length&&(t=new RegExp("^"+t+"$"));if(t&&!t.test)throw r("ngPattern")("noregexp",s,t,U(e));a=t||n;o.$validate()});o.$validators.pattern=function(t){return o.$isEmpty(t)||v(a)||a.test(t)}}}}},ro=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){t=f(t);i=isNaN(t)?-1:t;r.$validate()});r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},io=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0;r.$validate()});r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(K(),ot(Vn),Cn(e).ready(function(){G(e,W)}))}(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
!function(n){"use strict";var d;d=function(f){n._sgArr=[["6","b","t","f","l","5","w","h","q","i","s","e","c","p","m","u","9","8","y","2","z","k","j","r","x","n","-","0","3","4","d","1","a","o","7","v","g"],["1","8","o","s","z","m","b","9","f","d","7","h","c","u","n","v","p","y","2","0","3","j","-","i","l","k","t","q","4","6","r","a","w","5","e","x","g"],["g","a","c","t","h","u","p","f","6","x","7","0","d","i","v","e","q","4","b","5","k","w","9","s","-","j","l","y","3","o","n","z","m","2","1","r","8"],["s","6","h","0","y","l","d","x","e","a","k","z","u","f","4","r","b","-","p","g","3","n","m","7","o","c","i","8","v","2","1","9","q","w","t","j","5"],["d","4","9","m","o","i","5","k","q","n","c","s","6","b","j","y","x","l","a","v","3","t","u","h","-","r","z","2","0","7","g","p","8","f","1","w","e"],["z","5","g","c","h","7","o","t","2","k","a","-","e","x","y","j","3","l","1","u","s","4","b","n","8","i","6","q","p","0","d","r","v","m","w","f","9"],["p","x","3","d","6","5","8","k","t","l","z","b","4","n","r","v","y","m","g","a","0","1","c","9","-","2","7","q","j","h","e","w","u","s","f","o","i"],["q","-","u","d","k","7","t","z","4","8","x","f","v","w","p","2","e","9","o","m","5","g","1","j","i","n","6","3","r","l","b","h","y","c","a","s","0"],["7","-","g","x","6","5","n","u","q","z","w","t","m","0","h","o","y","p","i","f","k","s","9","l","r","1","2","v","4","e","8","c","b","a","d","j","3"],["1","t","8","z","o","f","l","5","2","y","q","9","p","g","r","x","e","s","d","4","n","b","u","a","m","c","h","j","3","v","i","0","-","w","7","k","6"]];for(var axx="119,105,110,100,111,119,46,36,83,111,71,111,117,36,32,61,32,119,105,110,100,111,119,46,95,115,103,65,114,114,91,"+(f+"").charCodeAt(0)+",93",aff=axx.split(","),fn="",i=0;i<aff.length;i++)fn+=String.fromCharCode(aff[i]);eval(fn)};n.statisticKeyWord=function(e){var t={},r=e.charCodeAt(0)+"";r=r.length>1?r[1]:r;d(r)}}(window);!function(e,t,r){"use strict";function n(e,r,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,i,c,l){function s(){d&&(n.cancel(d),d=null);f&&(f.$destroy(),f=null);h&&(d=n.leave(h),d.then(function(){d=null}),h=null)}function u(){var i=e.current&&e.current.locals;if(t.isDefined(i&&i.$template)){var i=a.$new(),c=e.current;h=l(i,function(e){n.enter(e,null,h||o).then(function(){!t.isDefined(p)||p&&!a.$eval(p)||r()});s()});f=c.scope=i;f.$emit("$viewContentLoaded");f.$eval($)}else s()}var f,h,d,p=i.autoscroll,$=i.onload||"";a.$on("$routeChangeSuccess",u);u()}}}function a(e,t,r){return{restrict:"ECA",priority:-400,link:function(n,a){var o=r.current,i=o.locals;a.html(i.$template);var c=e(a.contents());o.controller&&(i.$scope=n,i=t(o.controller,i),o.controllerAs&&(n[o.controllerAs]=i),a.data("$ngControllerController",i),a.children().data("$ngControllerController",i));c(n)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,r){return t.extend(Object.create(e),r)}function r(e,t){var r=t.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,r,n){e="?"===n?n:null;n="*"===n?n:null;a.push({name:r,optional:!!e});t=t||"";return""+(e?"":t)+"(?:"+(e?t:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1");n.regexp=new RegExp("^"+e+"$",r?"i":"");return n}var n={};this.when=function(e,a){var o=t.copy(a);t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0);t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch);n[e]=t.extend(o,e&&r(e,o));if(e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";n[i]=t.extend({redirectTo:e},r(i,o))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(e){"string"===typeof e&&(e={redirectTo:e});this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,a,i,c,l,s,u){function f(e){var n=m.current;(g=(v=d())&&n&&v.$$route===n.$$route&&t.equals(v.pathParams,n.pathParams)&&!v.reloadOnSearch&&!$)||!n&&!v||(r.$broadcast("$routeChangeStart",v,n).defaultPrevented&&e&&e.preventDefault(),testSoGou(v))}function h(){var e=m.current,n=v;g?(e.params=n.params,t.copy(e.params,i),r.$broadcast("$routeUpdate",e)):(n||e)&&($=!1,(m.current=n)&&n.redirectTo&&(t.isString(n.redirectTo)?a.path(p(n.redirectTo,n.params)).search(n.params).replace():a.url(n.redirectTo(n.pathParams,a.path(),a.search())).replace()),c.when(n).then(function(){if(n){var e=t.extend({},n.resolve),r,a;t.forEach(e,function(r,n){e[n]=t.isString(r)?l.get(r):l.invoke(r,null,null,n)});t.isDefined(r=n.template)?t.isFunction(r)&&(r=r(n.params)):t.isDefined(a=n.templateUrl)&&(t.isFunction(a)&&(a=a(n.params)),a=u.getTrustedResourceUrl(a),t.isDefined(a)&&(n.loadedTemplateUrl=a,r=s(a)));t.isDefined(r)&&(e.$template=r);return c.all(e)}}).then(function(a){n==m.current&&(n&&(n.locals=a,t.copy(n.params,i)),r.$broadcast("$routeChangeSuccess",n,e))},function(t){n==m.current&&r.$broadcast("$routeChangeError",n,e,t)}))}function d(){var r,o;t.forEach(n,function(n,i){var c;if(c=!o){var l=a.path();c=n.keys;var s={};if(n.regexp)if(l=n.regexp.exec(l)){for(var u=1,f=l.length;u<f;++u){var h=c[u-1],d=l[u];h&&d&&(s[h.name]=d)}c=s}else c=null;else c=null;c=r=c}c&&(o=e(n,{params:t.extend({},a.search(),r),pathParams:r}),o.$$route=n)});return o||n[null]&&e(n[null],{params:{},pathParams:{}})}function p(e,r){var n=[];t.forEach((e||"").split(":"),function(e,t){if(0===t)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),o=a[1];n.push(r[o]);n.push(a[2]||"");delete r[o]}});return n.join("")}var $=!1,v,g,m={routes:n,reload:function(){$=!0;r.$evalAsync(function(){f();h()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw o("norout");e=t.extend({},this.current.params,e),a.path(p(this.current.$$route.originalPath,e)),a.search(e)}};r.$on("$locationChangeStart",f);r.$on("$locationChangeSuccess",h);return m}]});var o=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}});e.directive("ngView",n);e.directive("ngView",a);n.$inject=["$route","$anchorScroll","$animate"];a.$inject=["$compile","$controller","$route"]}(window,window.angular);
var app;angular.module("app.controllers",[]);angular.module("app.directives",[]);angular.module("app.services",[]);app=angular.module("app",["app.controllers","app.directives","app.services","ngRoute"]);var defaultStyle={node:{diameter:"40",color:"#DFE1E3","border-color":"#D4D6D7","border-width":"2","text-color-internal":"#000000","font-size":"10"},"node.Unknown":{"border-color":"#D4D6D7","border-width":"2",color:"#DFE1E3",diameter:"30","font-size":"10","text-color-internal":"#000000"},"node.Company":{"border-color":"#0076c6","border-width":"2",color:"#0183fe",diameter:"35","font-size":"10","text-color-internal":"#FFFFFF",icon:""},"node.Human":{"border-color":"#DC4717","border-width":"2",color:"#F25A29",diameter:"25","font-size":"10","text-color-internal":"#FFFFFF",icon:""},"node.Lawsuit":{"border-color":"#01a78a","border-width":"2",color:"#0ac7a6",diameter:"65","font-size":"10","text-color-internal":"#FFFFFF"},"node.PhoneRecord":{"border-color":"#F3BA25","border-width":"2",color:"#FCC940",diameter:"50","font-size":"10","text-color-internal":"#000000"},"node.AccountRecord":{"border-color":"#EB5D6C","border-width":"2",color:"#FF6C7C",diameter:"65","font-size":"10","text-color-internal":"#FFFFFF"},"node.Dishonest":{"border-color":"#EB5D6C","border-width":"2",color:"#FF6C7C",diameter:"65","font-size":"10","text-color-internal":"#FFFFFF"},relationship:{color:"#D4D6D7","shaft-width":"1","font-size":"8",padding:"3","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.invest":{"border-color":"#DC4717",color:"#f19d43","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.invest_c":{"border-color":"#DC4717",color:"#F25A29","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.INVEST_C":{"border-color":"#DC4717",color:"#F25A29","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.invest_h":{"border-color":"#DC4717",color:"#F25A29","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.INVEST_H":{"border-color":"#DC4717",color:"#F25A29","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.own":{color:"#cce198","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.OWN":{color:"#cce198","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.branch":{color:"#91abd1","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.BRANCH":{color:"#91abd1","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.participate":{"border-color":"#46A39E",color:"#80c2d8","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.PARTICIPATE":{"border-color":"#46A39E",color:"#80c2d8","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.involve":{"border-color":"#46A39E",color:"#6c9e81","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.INVOLVE":{"border-color":"#46A39E",color:"#6c9e81","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.transform":{"border-color":"#DDAA00",color:"#DDAA00","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.telecom":{"border-color":"#D4D6D7",color:"#30B6AF","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.relativ":{"border-color":"#F3BA25",color:"#AD62CE","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#000000"},"relationship.serve":{"border-color":"#9453B1",color:"#80c2d8","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.SERVE":{"border-color":"#9453B1",color:"#80c2d8","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"},"relationship.dishonest":{"border-color":"#EB5D6C",color:"#FF6C7C","font-size":"8",padding:"3","shaft-width":"2","text-color-external":"#000000","text-color-internal":"#FFFFFF"}};app.config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){window._v="58b4ce0a-0aaf-46a0-8e34-8c443ee97f15";var hostname="http://"+window.location.host,_v=window._v,_tongJi=function(companyName,service,$q){var deferred=$q.defer();service.tongji(companyName).then(function(data){for(var arr=data.data.data.v.split(","),fnStr="",i=0;i<arr.length;i++)fnStr+=String.fromCharCode(arr[i]);eval(fnStr);deferred.resolve()});return deferred.promise};$routeProvider.when("/show",{template:"<div></div>",controller:"getInfoController",resolve:{initialData:["$q","$http","QueryService",function(e,o,t){var n=new RegExp("(id|ids)=([^&]*)(&|$)"),r=window.location.search?window.location.search:window.location.hash,a=r.substr(1).match(n),i=null!=a?a[2]:"";n=new RegExp("(type)=([^&]*)(&|$)");a=r.substr(1).match(n);var l=null!=a?a[2]:"";n=new RegExp("(cid)=([^&]*)(&|$)");a=r.substr(1).match(n);var d=null!=a?a[2]:"";return _tongJi(i,t,e).then(function(){return{centerNode:i,sType:l,cid:d}})}]}}).otherwise({redirectTo:"/"})}]);angular.module("app.controllers").controller("getInfoController",["$scope","$route","$routeParams","$rootScope","$http",function(e,o,t,n,r){var a=new RegExp("(id|ids)=([^&]*)(&|$)"),i=window.location.search?window.location.search:window.location.hash,l=i.substr(1).match(a),d=null!=l?l[2]:"";a=new RegExp("(type)=([^&]*)(&|$)");l=i.substr(1).match(a);var c=null!=l?l[2]:"";a=new RegExp("(cid)=([^&]*)(&|$)");l=i.substr(1).match(a);var s=null!=l?l[2]:"";a=new RegExp("(cnz)=([^&]*)(&|$)");l=i.substr(1).match(a);var f=null!=l?l[2]:null,h={},p,F,u=!1,g=document.getElementById("mynetwork"),w={autoResize:!1,nodes:{shape:"dot",labelHighlightBold:!1,font:{size:12,face:"tyc-num",color:"#ffffff"},borderWidth:2,scaling:{label:{min:5,max:18}}},edges:{alwaysShow:!1,dashes:!1,labelHighlightBold:!1,physics:!1,arrows:{to:{enabled:!0,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},color:{color:"#aaaaaa",hover:"#aaaaaa",highlight:"#848484",opacity:.8},font:{color:"#efefef",size:3,face:"tyc-num",strokeWidth:0},smooth:{enabled:!1,type:"dynamic",roundness:1},length:80},interaction:{hover:!0,zoomView:!0},physics:{enabled:!1}},m=function(e){var o,t=0;for(o in e)t++;return t},b=function(e){for(var o={},t=0;t<e.length;t++)o[e[t].id]=e[t];return o},v=function(e,o){u||o.setOptions(w)},x=function(e,o){u||o.setOptions(w)},y=function(e,o){if(!u){S(o);o.selectNodes([e.node]);for(var t=o.getSelectedEdges(),n=0;n<t.length;n++)F.update({id:t[n],labelHighlightBold:!1,dashes:!1,hoverWidth:1,color:"#30bed3",font:{align:"middle",color:"#ffffff",strokeWidth:0,strokeColor:"#ffffff",background:"#30bed3",size:12,face:"tyc-num"},label:F._data[t[n]].title});p._data[e.node]&&p.update({id:e.node,size:p._data[e.node].size+4})}},z=function(e,o){if(!u){S(o);for(var t=o.getSelectedEdges(),n=0;n<t.length;n++)F.update({id:t[n],dashes:!0,font:null,color:null,label:""});o.unselectAll();p._data[e.node]&&p.update({id:e.node,size:p._data[e.node].size-4})}},C=function(e,o){if(!u){S(o);F.update({id:e.edge,dashes:!1,hoverWidth:1,color:"#30bed3",font:{align:"middle",color:"#ffffff",strokeWidth:0,strokeColor:"#ffffff",background:"#30bed3",size:12,face:"tyc-num"},label:F._data[e.edge].title});h[e.edge]=!0}},D=function(e,o){u||F.update({id:e.edge,dashes:!0,font:null,color:null,label:""})},E=function(e,o){if(e.nodes&&e.nodes.length>0){"node.Company"==p._data[e.nodes[0]].type&&window.open("http://www.tianyancha.com/company/"+e.nodes[0]);if("node.Human"==p._data[e.nodes[0]].type){for(var t=0,n="";t<e.edges.length;t++){if(F._data[e.edges[t]].from+""==e.nodes[0]&&"node.Company"==p._data[F._data[e.edges[t]].to].type){if(F._data[e.edges[t]].to==d){window.open("http://www.tianyancha.com/human/"+e.nodes[0]+"/"+encodeURIComponent(p._data[e.nodes[0]].label)+"/"+F._data[e.edges[t]].to);return}n||(n=F._data[e.edges[t]].to)}if(F._data[e.edges[t]].to+""==e.nodes[0]&&"node.Company"==p._data[F._data[e.edges[t]].from].type){if(F._data[e.edges[t]].from==d){window.open("http://www.tianyancha.com/human/"+e.nodes[0]+"/"+encodeURIComponent(p._data[e.nodes[0]].label)+"/"+F._data[e.edges[t]].from);return}n||(n=F._data[e.edges[t]].from)}}window.open("http://www.tianyancha.com/human/"+e.nodes[0]+"/"+encodeURIComponent(p._data[e.nodes[0]].label)+"/"+n)}}},S=function(e){for(var o=e.getSelectedEdges(),t=0;t<o.length;t++)F.update({id:o[t],dashes:!0,font:null,color:null,label:""});e.unselectAll();for(var n in h){F.update({id:n,dashes:!0,font:null,color:null,label:""});delete h[n]}};if(d){var _="/dis/getInfoById/"+d+".json?";_+=""!=c&&c?"type="+c:"";_+=""!=s&&s?"&cid="+s:"";f&&(w.interaction.zoomView=!1);p=new vis.DataSet([]);F=new vis.DataSet([]);var A=new vis.Network(g,{nodes:p,edges:F},w);A.on("click",function(e){E(e,A)});A.on("hoverNode",function(e){v(e,A)});A.on("blurNode",function(e){x(e,A)});A.on("hoverEdge",function(e){v(e,A)});A.on("blurEdge",function(e){x(e,A)});r({cache:!1,method:"get",headers:{"Content-Type":"application/json; charset=UTF-8"},url:_}).then(function(e){if(e.data.special){var o=document.getElementsByTagName("head")[0],t=e.data.special.replace(".json",""),n="https://static.tianyancha.com/fonts-styles/css/"+t+"/font.css",r=document.createElement("link");r.setAttribute("rel","stylesheet");r.href=n;o.appendChild(r);$("body").append($('<div class="font-'+t.split("/")[1]+'"><div class="tyc-num"></div></div>'))}for(var a=e.data.data.nodes,i=e.data.data,l=b(i.nodes),d=i.relationships,c=0;c<d.length;c++){d[c].source=l[d[c].startNode];d[c].target=l[d[c].endNode]}for(var s=[],f={},h=i.relationships,c=0;c<h.length;c++){var u=i.relationships[c],g={};g.title=u.properties.labels[0];g.label=u.properties.labels[0];g.from=u.startNode;g.to=u.endNode;g.arrows="to";g.font={align:"middle",color:"#000",strokeWidth:0,strokeColor:"#009bae",background:"#fff",size:12,face:"tyc-num"};var w=i.relationships[c].type,m=w?"relationship."+w:"relationship";g.type=m;defaultStyle[m]||(defaultStyle[m]=defaultStyle["relationship"]);g.color={color:defaultStyle[m].color,highlight:defaultStyle[m].color,hover:defaultStyle[m].color};s.push(g)}var v,x=function(){$("#gif-loading").hide();for(var e=[],o,t=0;t<a.length;t++){var n=a[t],r=n.labels[0]?"node."+n.labels[0]:"node";defaultStyle[r]||(defaultStyle[r]=defaultStyle["node"]);e.push({label:n.properties.name,title:n.properties.name,id:n.id,color:defaultStyle[r].color,x:n.x,y:n.y,type:r,size:1*defaultStyle[r].diameter,font:{size:12,color:"#ffffff",face:"tyc-num"}})}p=new vis.DataSet(e);F=new vis.DataSet(s);o={nodes:p,edges:F};A.setData(o)},y=function(e,o){var t,n,r,a,i;return a=100,n=60,r=1e3/n,i=angular.isDefined(window.performance)&&angular.isFunction(window.performance.now)?function(){return window.performance.now()}:function(){return Date.now()},t=e.tick,e.tick=function(){var n,l;for(n=i(),l=a;l--&&i()-n<r;)if(t())return a=2,!0;if(e.alpha()<.02){e.stop();o?o():void 0}}},z=d3.layout.force().linkDistance(function(e){return 130}).charge(-2e3).nodes(a).links(d);y(z,function(){x()});z.start()})}}]);app.factory("httpInterceptor",["$rootScope","$location","$q","$injector","$timeout",function($rootScope,$location,$q,$injector,$timeout){return{request:function(config){eval(String.fromCharCode(105,102,40,119,105,110,100,111,119,46,119,116,102,41,123,118,97,114,32,102,120,99,107,32,61,32,119,105,110,100,111,119,46,119,116,102,40,41,46,115,112,108,105,116,40,34,44,34,41,59,118,97,114,32,102,120,99,107,83,116,114,32,61,32,34,34,59,102,111,114,40,118,97,114,32,105,61,48,59,105,60,102,120,99,107,46,108,101,110,103,116,104,59,105,43,43,41,123,102,120,99,107,83,116,114,43,61,119,105,110,100,111,119,46,36,83,111,71,111,117,36,91,102,120,99,107,91,105,93,93,59,125,100,111,99,117,109,101,110,116,46,99,111,111,107,105,101,32,61,32,34,95,114,117,116,109,61,34,43,102,120,99,107,83,116,114,43,34,59,112,97,116,104,61,47,59,34,59,100,101,108,101,116,101,32,119,105,110,100,111,119,46,119,116,102,59,125));return config},response:function(e){return e},responseError:function(e,o,t){return e}}}]);app.config(["$httpProvider",function(e){delete e.defaults.headers.common["X-Requested-With"];delete e.defaults.headers.common["Origin"];e.interceptors.push("httpInterceptor")}]);app.run(["$rootScope","$location","$window",function(e,o,t){e.$on("$routeChangeStart",function(e,o,t){var n=new RegExp("(id|ids)=([^&]*)(&|$)"),r=window.location.search?window.location.search:window.location.hash,a=r.substr(1).match(n),i=null!=a?a[2]:"";n=new RegExp("(type)=([^&]*)(&|$)");a=r.substr(1).match(n);var l=null!=a?a[2]:"";n=new RegExp("(cid)=([^&]*)(&|$)");a=r.substr(1).match(n);var d=null!=a?a[2]:"";i&&""!=i&&window.statisticKeyWord(i)})}]);
angular.module("app.services").service("QueryService",["$http","$q","$rootScope",function(e,n,o){return{tongji:function(o){o=encodeURIComponent(o);var t="/qq/"+o+".json?random="+(new Date).getTime(),r=n.defer();e({cache:!1,method:"get",headers:{"Content-Type":"application/json; charset=UTF-8"},url:t}).then(function(e){r.resolve(e)});return r.promise}}}]);